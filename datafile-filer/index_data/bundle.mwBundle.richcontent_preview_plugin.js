(function(){var E={"dojo/Deferred":"dojo/Deferred","dojo/Evented":"dojo/Evented","dojo/_base/Deferred":"dojo/_base/Deferred","dojo/_base/array":"dojo/_base/array","dojo/_base/config":"dojo/_base/config","dojo/_base/connect":"dojo/_base/connect","dojo/_base/declare":"dojo/_base/declare","dojo/_base/event":"dojo/_base/event","dojo/_base/json":"dojo/_base/json","dojo/_base/kernel":"dojo/_base/kernel","dojo/_base/lang":"dojo/_base/lang","dojo/_base/sniff":"dojo/_base/sniff","dojo/_base/window":"dojo/_base/window","dojo/_base/xhr":"dojo/_base/xhr","dojo/aspect":"dojo/aspect","dojo/dom-attr":"dojo/dom-attr","dojo/dom-construct":"dojo/dom-construct","dojo/dom-form":"dojo/dom-form","dojo/dom-geometry":"dojo/dom-geometry","dojo/dom-prop":"dojo/dom-prop","dojo/dom-style":"dojo/dom-style","dojo/dom":"dojo/dom","dojo/domReady":"dojo/domReady","dojo/errors/CancelError":"dojo/errors/CancelError","dojo/errors/RequestError":"dojo/errors/RequestError","dojo/errors/RequestTimeoutError":"dojo/errors/RequestTimeoutError","dojo/errors/create":"dojo/errors/create","dojo/global":"dojo/global","dojo/has":"dojo/has","dojo/io-query":"dojo/io-query","dojo/json":"dojo/json","dojo/keys":"dojo/keys","dojo/mouse":"dojo/mouse","dojo/on":"dojo/on","dojo/promise/Promise":"dojo/promise/Promise","dojo/promise/all":"dojo/promise/all","dojo/request/handlers":"dojo/request/handlers","dojo/request/script":"dojo/request/script","dojo/request/util":"dojo/request/util","dojo/request/watch":"dojo/request/watch","dojo/request/xhr":"dojo/request/xhr","dojo/sniff":"dojo/sniff","dojo/topic":"dojo/topic","dojo/when":"dojo/when",cf152a4f214cffacdf8dcedceed83d22ebcdca21:"cf152a4f214cffacdf8dcedceed83d22ebcdca21","dojo/domReady!":"dojo/domReady!","mw-remote/serviceRegistryLookup!":"mw-remote/serviceRegistryLookup!","9e275ba333060b013480258f3be4574e5452b4ab":"9e275ba333060b013480258f3be4574e5452b4ab","cometd/AckExtension":"cometd/AckExtension","cometd/cometd":"cometd/cometd","mw-deprecation-utils/deprecation":"mw-deprecation-utils/deprecation","mw-html-utils/HtmlUtils":"mw-html-utils/HtmlUtils","mw-html-utils/_parseHtml/sanitize":"mw-html-utils/_parseHtml/sanitize","mw-log/Log":"mw-log/Log","mw-log/impl/Backlog":"mw-log/impl/Backlog","mw-log/impl/Levels":"mw-log/impl/Levels","mw-log/impl/Modes":"mw-log/impl/Modes","mw-log/impl/Type":"mw-log/impl/Type","mw-log/util/LogUtils":"mw-log/util/LogUtils","mw-messageservice/MessageService":"mw-messageservice/MessageService","mw-messageservice/messageserviceimpl/MessageServiceAsync":"mw-messageservice/messageserviceimpl/MessageServiceAsync","mw-messageservice/messageserviceimpl/MessageServiceBase":"mw-messageservice/messageserviceimpl/MessageServiceBase","mw-messageservice/messageserviceimpl/MessageServiceState":"mw-messageservice/messageserviceimpl/MessageServiceState","mw-messageservice/messageserviceimpl/createMessageServiceDefaultInstance":"mw-messageservice/messageserviceimpl/createMessageServiceDefaultInstance","mw-messageservice/messageserviceimpl/instanceEnums":"mw-messageservice/messageserviceimpl/instanceEnums","mw-messageservice/messageserviceimpl/messageServiceFactory":"mw-messageservice/messageserviceimpl/messageServiceFactory","mw-messageservice/messageserviceimpl/transportEnums":"mw-messageservice/messageserviceimpl/transportEnums","mw-remote/EndPointsManager":"mw-remote/EndPointsManager","mw-remote/Remote":"mw-remote/Remote","mw-remote/RemoteEndPointsManager":"mw-remote/RemoteEndPointsManager","mw-remote/ReplaceUploadIframe":"mw-remote/ReplaceUploadIframe","mw-remote/UploadToWorker":"mw-remote/UploadToWorker","mw-remote/defaultMessageMapping":"mw-remote/defaultMessageMapping","mw-remote/iframeproxy/CheckUrlService":"mw-remote/iframeproxy/CheckUrlService","mw-remote/iframeproxy/IframeProxyClient":"mw-remote/iframeproxy/IframeProxyClient","mw-remote/impl/AutoDetectedTransaction":"mw-remote/impl/AutoDetectedTransaction","mw-remote/impl/FaultManager":"mw-remote/impl/FaultManager","mw-remote/impl/JsonTransaction":"mw-remote/impl/JsonTransaction","mw-remote/impl/RequestManager":"mw-remote/impl/RequestManager","mw-remote/impl/ResponseManager":"mw-remote/impl/ResponseManager","mw-remote/impl/Transaction":"mw-remote/impl/Transaction","mw-remote/serviceRegistryLookup":"mw-remote/serviceRegistryLookup","mw-remote/utils/RemoteUrlUtils":"mw-remote/utils/RemoteUrlUtils","mw-remote/utils/SecurityUtils":"mw-remote/utils/SecurityUtils","mw-remote/utils/SendMessageUtil":"mw-remote/utils/SendMessageUtil","mw-statemachine/StateMachine":"mw-statemachine/StateMachine","mw-statemachine/statemachineimpl/EventTrigger":"mw-statemachine/statemachineimpl/EventTrigger","mw-statemachine/statemachineimpl/MessageTrigger":"mw-statemachine/statemachineimpl/MessageTrigger","mw-statemachine/statemachineimpl/RemoteTrigger":"mw-statemachine/statemachineimpl/RemoteTrigger","mw-statemachine/statemachineimpl/State":"mw-statemachine/statemachineimpl/State","mw-statemachine/statemachineimpl/TimeoutTrigger":"mw-statemachine/statemachineimpl/TimeoutTrigger","mw-statemachine/statemachineimpl/Transition":"mw-statemachine/statemachineimpl/Transition","mw-statemachine/statemachineimpl/Trigger":"mw-statemachine/statemachineimpl/Trigger","mw-utils/Utils":"mw-utils/Utils","richcontent_preview_plugin/_impl/RichContentPreviewPlugin":"richcontent_preview_plugin/_impl/RichContentPreviewPlugin","richcontent_preview_plugin/index":"richcontent_preview_plugin/index","mw-mvm/CapabilitiesList":"mw-mvm/CapabilitiesList","mw-mvm/Capability":"mw-mvm/Capability","mw-mvm/ExecutionStatus":"mw-mvm/ExecutionStatus","mw-mvm/RunOptions":"mw-mvm/RunOptions","mw-mvm/UserMvm":"mw-mvm/UserMvm","mw-mvm/WhenToDequeue":"mw-mvm/WhenToDequeue","mw-mvm/impl/AttachDetach":"mw-mvm/impl/AttachDetach","mw-mvm/impl/Bang":"mw-mvm/impl/Bang","mw-mvm/impl/Connection":"mw-mvm/impl/Connection","mw-mvm/impl/ConnectionData":"mw-mvm/impl/ConnectionData","mw-mvm/impl/Debugger":"mw-mvm/impl/Debugger","mw-mvm/impl/EvalFevalCancel":"mw-mvm/impl/EvalFevalCancel","mw-mvm/impl/EventManager":"mw-mvm/impl/EventManager","mw-mvm/impl/MVM":"mw-mvm/impl/MVM","mw-mvm/impl/MVMConnection":"mw-mvm/impl/MVMConnection","mw-mvm/impl/MVMPromise":"mw-mvm/impl/MVMPromise","mw-mvm/impl/MVMSink":"mw-mvm/impl/MVMSink","mw-mvm/impl/More":"mw-mvm/impl/More","mw-mvm/impl/Pause":"mw-mvm/impl/Pause","mw-mvm/impl/RuntimeException":"mw-mvm/impl/RuntimeException","mw-mvm/impl/StackFrame":"mw-mvm/impl/StackFrame","mw-fctrl/Features":"mw-fctrl/Features"},P=this||window,e=P.webpackChunk=P.webpackChunk||[];if(e.registerAbsMids)e.registerAbsMids(E,{MW_BUNDLE_CHUNK_ID:"mwBundle.richcontent_preview_plugin"});else{var b=e.absMidsWaiting=e.absMidsWaiting||[];b.push(E)}})(),(self.webpackChunk=self.webpackChunk||[]).push([["mwBundle.richcontent_preview_plugin"],{"dojo/Deferred":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/errors/CancelError"]),e(e.dj.r.absMids["dojo/promise/Promise"]),e(e.dj.r.absMids.cf152a4f214cffacdf8dcedceed83d22ebcdca21)],M=e.dj.d(b,function(l,A,m,u,t){"use strict";var o=0,s=1,i=2,c="This deferred has already been fulfilled.",n=Object.freeze||function(){},r=function(d,h,v,R,C){l("config-deferredInstrumentation")&&h===i&&p.instrumentRejected&&d.length===0&&p.instrumentRejected(v,!1,R,C);for(var S=0;S<d.length;S++)a(d[S],h,v,R)},a=function(d,h,v,R){var C=d[h],S=d.deferred;if(C)try{var x=C(v);if(h===o)typeof x<"u"&&g(S,h,x);else{if(x&&typeof x.then=="function"){d.cancel=x.cancel,x.then(f(S,s),f(S,i),f(S,o));return}g(S,s,x)}}catch(T){g(S,i,T)}else g(S,h,v);l("config-deferredInstrumentation")&&h===i&&p.instrumentRejected&&p.instrumentRejected(v,!!C,R,S.promise)},f=function(d,h){return function(v){g(d,h,v)}},g=function(d,h,v){if(!d.isCanceled())switch(h){case o:d.progress(v);break;case s:d.resolve(v);break;case i:d.reject(v);break}},p=function(d){var h=this.promise=new u,v=this,R,C,S,x=!1,T=[];l("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(v,p),Error.captureStackTrace(h,p)),this.isResolved=h.isResolved=function(){return R===s},this.isRejected=h.isRejected=function(){return R===i},this.isFulfilled=h.isFulfilled=function(){return!!R},this.isCanceled=h.isCanceled=function(){return x},this.progress=function(j,F){if(R){if(F===!0)throw new Error(c);return h}else return r(T,o,j,null,v),h},this.resolve=function(j,F){if(R){if(F===!0)throw new Error(c);return h}else return r(T,R=s,C=j,null,v),T=null,h};var D=this.reject=function(j,F){if(R){if(F===!0)throw new Error(c);return h}else return l("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(S={},D),r(T,R=i,C=j,S,v),T=null,h};this.then=h.then=function(j,F,U){var w=[U,j,F];return w.cancel=h.cancel,w.deferred=new p(function(I){return w.cancel&&w.cancel(I)}),R&&!T?a(w,R,C,S):T.push(w),w.deferred.promise},this.cancel=h.cancel=function(j,F){if(R){if(F===!0)throw new Error(c)}else{if(d){var U=d(j);j=typeof U>"u"?j:U}if(x=!0,R){if(R===i&&C===j)return j}else return typeof j>"u"&&(j=new m),D(j),j}},n(h)};return p.prototype.toString=function(){return"[object Deferred]"},t&&t(p),p},E,P),E.exports=M},"dojo/Evented":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/on"])],M=e.dj.d(b,function(l,A){"use strict";var m=l.after;function u(){}return u.prototype={on:function(t,o){return A.parse(this,t,o,function(s,i){return m(s,"on"+i,o,!0)})},emit:function(t,o){var s=[this];return s.push.apply(s,arguments),A.emit.apply(A,s)}},u},E,P),E.exports=M},"dojo/_base/Deferred":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["dojo/promise/Promise"]),e(e.dj.r.absMids["dojo/errors/CancelError"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/when"])],M=e.dj.d(b,function(l,A,m,u,t,o,s){var i=function(){},c=Object.freeze||function(){},n=l.Deferred=function(r){var a,f,g,p,d,h,v,R=this.promise=new m;function C(T){if(f)throw new Error("This deferred has already been resolved");a=T,f=!0,S()}function S(){for(var T;!T&&v;){var D=v;v=v.next,(T=D.progress==i)&&(f=!1);var j=d?D.error:D.resolved;if(t("config-useDeferredInstrumentation")&&d&&A.instrumentRejected&&A.instrumentRejected(a,!!j),j)try{var F=j(a);if(F&&typeof F.then=="function"){F.then(o.hitch(D.deferred,"resolve"),o.hitch(D.deferred,"reject"),o.hitch(D.deferred,"progress"));continue}var U=T&&F===void 0;T&&!U&&(d=F instanceof Error),D.deferred[U&&d?"reject":"resolve"](U?a:F)}catch(w){D.deferred.reject(w)}else d?D.deferred.reject(a):D.deferred.resolve(a)}}this.isResolved=R.isResolved=function(){return p==0},this.isRejected=R.isRejected=function(){return p==1},this.isFulfilled=R.isFulfilled=function(){return p>=0},this.isCanceled=R.isCanceled=function(){return g},this.resolve=this.callback=function(T){this.fired=p=0,this.results=[T,null],C(T)},this.reject=this.errback=function(T){d=!0,this.fired=p=1,t("config-useDeferredInstrumentation")&&A.instrumentRejected&&A.instrumentRejected(T,!!v),C(T),this.results=[null,T]},this.progress=function(T){for(var D=v;D;){var j=D.progress;j&&j(T),D=D.next}},this.addCallbacks=function(T,D){return this.then(T,D,i),this},R.then=this.then=function(T,D,j){var F=j==i?this:new n(R.cancel),U={resolved:T,error:D,progress:j,deferred:F};return v?h=h.next=U:v=h=U,f&&S(),F.promise};var x=this;R.cancel=this.cancel=function(){if(!f){var T=r&&r(x);f||(T instanceof Error||(T=new u(T)),T.log=!1,x.reject(T))}g=!0},c(R)};return o.extend(n,{addCallback:function(r){return this.addCallbacks(o.hitch.apply(l,arguments))},addErrback:function(r){return this.addCallbacks(null,o.hitch.apply(l,arguments))},addBoth:function(r){var a=o.hitch.apply(l,arguments);return this.addCallbacks(a,a)},fired:-1}),n.when=l.when=s,n},E,P),E.exports=M},"dojo/_base/array":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/_base/lang"])],M=e.dj.d(b,function(l,A,m){var u={},t,o;A("csp-restrictions")||(o=function(n){return u[n]=new Function("item","index","array",n)});function s(n){var r=!n;return function(a,f,g){var p=0,d=a&&a.length||0,h;if(d&&typeof a=="string"&&(a=a.split("")),typeof f=="string"){if(A("csp-restrictions"))throw new TypeError("callback must be a function");f=u[f]||o(f)}if(g){for(;p<d;++p)if(h=!f.call(g,a[p],p,a),n^h)return!h}else for(;p<d;++p)if(h=!f(a[p],p,a),n^h)return!h;return r}}function i(n){var r=1,a=0,f=0;return n||(r=a=f=-1),function(g,p,d,h){if(h&&r>0)return c.lastIndexOf(g,p,d);var v=g&&g.length||0,R=n?v+f:a,C;for(d===t?C=n?a:v+f:d<0?(C=v+d,C<0&&(C=a)):C=d>=v?v+f:d,v&&typeof g=="string"&&(g=g.split(""));C!=R;C+=r)if(g[C]==p)return C;return-1}}var c={every:s(!1),some:s(!0),indexOf:i(!0),lastIndexOf:i(!1),forEach:function(n,r,a){var f=0,g=n&&n.length||0;if(g&&typeof n=="string"&&(n=n.split("")),typeof r=="string"){if(A("csp-restrictions"))throw new TypeError("callback must be a function");r=u[r]||o(r)}if(a)for(;f<g;++f)r.call(a,n[f],f,n);else for(;f<g;++f)r(n[f],f,n)},map:function(n,r,a,f){var g=0,p=n&&n.length||0,d=new(f||Array)(p);if(p&&typeof n=="string"&&(n=n.split("")),typeof r=="string"){if(A("csp-restrictions"))throw new TypeError("callback must be a function");r=u[r]||o(r)}if(a)for(;g<p;++g)d[g]=r.call(a,n[g],g,n);else for(;g<p;++g)d[g]=r(n[g],g,n);return d},filter:function(n,r,a){var f=0,g=n&&n.length||0,p=[],d;if(g&&typeof n=="string"&&(n=n.split("")),typeof r=="string"){if(A("csp-restrictions"))throw new TypeError("callback must be a function");r=u[r]||o(r)}if(a)for(;f<g;++f)d=n[f],r.call(a,d,f,n)&&p.push(d);else for(;f<g;++f)d=n[f],r(d,f,n)&&p.push(d);return p},clearCache:function(){u={}}};return A("extend-dojo")&&m.mixin(l,c),c},E,P),E.exports=M},"dojo/_base/config":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/global"]),e(e.dj.r.absMids["dojo/has"]),e.dj.c(E)],M=e.dj.d(b,function(l,A,m){var u={};if(A("dojo-config-api")){var t=m.rawConfig,o;for(o in t)u[o]=t[o]}else{var s=function(c,n,r){for(o in c)o!="has"&&A.add(n+o,c[o],0,r)};u=A("dojo-loader")?m.rawConfig:l.dojoConfig||l.djConfig||{},s(u,"config",1),s(u.has,"",1)}if(u.updateLocale=function(c,n){var r,a,f="en-us";if(c.indexOf(n)>=0&&n!=="zh"){u.locale=n;return}if(r=n.split("-")[0],r==="zh"){u.locale=f.toLocaleLowerCase();return}for(var g=0;g<c.length;g=g+1)if(a=c[g].split("-")[0],r===a){u.locale=c[g];break}u.locale||(u.locale=f.toLowerCase())},!u.locale&&typeof navigator<"u"){var i=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||navigator.userLanguage;i=u._testLanguageOverride||i,i&&(i=i.toLowerCase(),u.supportedLocales&&u.updateLocale(u.supportedLocales,i))}return u.locale||(u.locale="en-us"),u},E,P),E.exports=M},"dojo/_base/connect":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["dojo/topic"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/_base/event"]),e(e.dj.r.absMids["dojo/mouse"]),e(e.dj.r.absMids["dojo/_base/sniff"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/keys"])],M=e.dj.d(b,function(l,A,m,u,t,o,s,i){s.add("events-keypress-typed",function(){var h={charCode:0};try{h=document.createEvent("KeyboardEvent"),(h.initKeyboardEvent||h.initKeyEvent).call(h,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(v){}return h.charCode==0&&!s("opera")});function c(h,v,R,C,S){if(C=i.hitch(R,C),!h||!(h.addEventListener||h.attachEvent))return u.after(h||l.global,v,C,!0);if(typeof v=="string"&&v.substring(0,2)=="on"&&(v=v.substring(2)),h||(h=l.global),!S)switch(v){case"keypress":v=g;break;case"mouseenter":v=o.enter;break;case"mouseleave":v=o.leave;break}return A(h,v,C,S)}var n={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},r=s("mac")?"metaKey":"ctrlKey",a=function(h,v){var R=i.mixin({},h,v);return f(R),R.preventDefault=function(){h.preventDefault()},R.stopPropagation=function(){h.stopPropagation()},R};function f(h){h.keyChar=h.charCode?String.fromCharCode(h.charCode):"",h.charOrCode=h.keyChar||h.keyCode}var g;if(s("events-keypress-typed")){var p=function(h,v){try{return h.keyCode=v}catch(R){return 0}};g=function(h,v){var R=A(h,"keydown",function(S){var x=S.keyCode,T=x!=13&&x!=32&&(x!=27||!s("ie"))&&(x<48||x>90)&&(x<96||x>111)&&(x<186||x>192)&&(x<219||x>222)&&x!=229;if(T||S.ctrlKey){var D=T?0:x;if(S.ctrlKey){if(x==3||x==13)return v.call(S.currentTarget,S);D>95&&D<106?D-=48:!S.shiftKey&&D>=65&&D<=90?D+=32:D=n[D]||D}var j=a(S,{type:"keypress",faux:!0,charCode:D});v.call(S.currentTarget,j),s("ie")&&p(S,j.keyCode)}}),C=A(h,"keypress",function(S){var x=S.charCode;return x=x>=32?x:0,S=a(S,{charCode:x,faux:!0}),v.call(this,S)});return{remove:function(){R.remove(),C.remove()}}}}else s("opera")?g=function(h,v){return A(h,"keypress",function(R){var C=R.which;return C==3&&(C=99),C=C<32&&!R.shiftKey?0:C,R.ctrlKey&&!R.shiftKey&&C>=65&&C<=90&&(C+=32),v.call(this,a(R,{charCode:C}))})}:g=function(h,v){return A(h,"keypress",function(R){return f(R),v.call(this,R)})};var d={_keypress:g,connect:function(h,v,R,C,S){var x=arguments,T=[],D=0;T.push(typeof x[0]=="string"?null:x[D++],x[D++]);var j=x[D+1];T.push(typeof j=="string"||typeof j=="function"?x[D++]:null,x[D++]);for(var F=x.length;D<F;D++)T.push(x[D]);return c.apply(this,T)},disconnect:function(h){h&&h.remove()},subscribe:function(h,v,R){return m.subscribe(h,i.hitch(v,R))},publish:function(h,v){return m.publish.apply(m,[h].concat(v))},connectPublisher:function(h,v,R){var C=function(){d.publish(h,arguments)};return R?d.connect(v,R,C):d.connect(v,C)},isCopyKey:function(h){return h[r]}};return d.unsubscribe=d.disconnect,s("extend-dojo")&&i.mixin(l,d),d},E,P),E.exports=M},"dojo/_base/declare":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/_base/lang"])],M=e.dj.d(b,function(l,A,m){var u=m.mixin,t=Object.prototype,o=t.toString,s,i=0,c="constructor";A("csp-restrictions")?s=function(){}:s=new Function;function n(w,I){throw new Error("declare"+(I?" "+I:"")+": "+w)}function r(w,I){for(var O=[],W=[{cls:0,refs:[]}],z={},N=1,H=w.length,X=0,G,k,_,Q,Z,ne,ie,oe;X<H;++X){for(_=w[X],_?o.call(_)!="[object Function]"&&n("mixin #"+X+" is not a callable constructor.",I):n("mixin #"+X+" is unknown. Did you use dojo.require to pull it in?",I),k=_._meta?_._meta.bases:[_],Q=0,G=k.length-1;G>=0;--G)Z=k[G].prototype,Z.hasOwnProperty("declaredClass")||(Z.declaredClass="uniqName_"+i++),ie=Z.declaredClass,z.hasOwnProperty(ie)||(z[ie]={count:0,refs:[],cls:k[G]},++N),ne=z[ie],Q&&Q!==ne&&(ne.refs.push(Q),++Q.count),Q=ne;++Q.count,W[0].refs.push(Q)}for(;W.length;){for(Q=W.pop(),O.push(Q.cls),--N;oe=Q.refs,oe.length==1;){if(Q=oe[0],!Q||--Q.count){Q=0;break}O.push(Q.cls),--N}if(Q)for(X=0,H=oe.length;X<H;++X)Q=oe[X],--Q.count||W.push(Q)}return N&&n("can't build consistent linearization",I),_=w[0],O[0]=_?_._meta&&_===O[O.length-_._meta.bases.length]?_._meta.bases.length:1:0,O}function a(w,I,O,W){var z,N,H,X,G,k,_,Q,Z,ne=this._inherited=this._inherited||{};if(typeof w=="string"&&(z=w,w=I,I=O,O=W),typeof w=="function")X=w,w=I,I=O;else try{X=w.callee}catch(ie){if(ie instanceof TypeError)n("strict mode inherited() requires the caller function to be passed before arguments",this.declaredClass);else throw ie}if(z=z||X.nom,z||n("can't deduce a name to call inherited()",this.declaredClass),O=W=0,G=this.constructor._meta,H=G.bases,Z=ne.p,z!=c){if(ne.c!==X&&(Z=0,k=H[0],G=k._meta,G.hidden[z]!==X)){N=G.chains,N&&typeof N[z]=="string"&&n("calling chained method with inherited: "+z,this.declaredClass);do if(G=k._meta,_=k.prototype,G&&(_[z]===X&&_.hasOwnProperty(z)||G.hidden[z]===X))break;while(k=H[++Z]);Z=k?Z:-1}if(k=H[++Z],k)if(_=k.prototype,k._meta&&_.hasOwnProperty(z))O=_[z];else{Q=t[z];do if(_=k.prototype,O=_[z],O&&(k._meta?_.hasOwnProperty(z):O!==Q))break;while(k=H[++Z])}O=k&&O||t[z]}else{if(ne.c!==X&&(Z=0,G=H[0]._meta,G&&G.ctor!==X)){for(N=G.chains,(!N||N.constructor!=="manual")&&n("calling chained constructor with inherited",this.declaredClass);(k=H[++Z])&&(G=k._meta,!(G&&G.ctor===X)););Z=k?Z:-1}for(;(k=H[++Z])&&(G=k._meta,O=G?G.ctor:k,!O););O=k&&O}if(ne.c=O,ne.p=Z,O)return I===!0?O:O.apply(this,I||w)}function f(w,I,O){return typeof w=="string"?typeof I=="function"?this.__inherited(w,I,O,!0):this.__inherited(w,I,!0):typeof w=="function"?this.__inherited(w,I,!0):this.__inherited(w,!0)}function g(w,I,O,W){var z=this.getInherited(w,I,O);if(z)return z.apply(this,W||O||I||w)}var p=l.config.isDebug?g:a;function d(w){for(var I=this.constructor._meta.bases,O=0,W=I.length;O<W;++O)if(I[O]===w)return!0;return this instanceof w}function h(w,I){for(var O in I)O!=c&&I.hasOwnProperty(O)&&(w[O]=I[O]);if(A("bug-for-in-skips-shadowed"))for(var W=m._extraNames,z=W.length;z;)O=W[--z],O!=c&&I.hasOwnProperty(O)&&(w[O]=I[O])}function v(w,I){var O,W;for(O in I)W=I[O],(W!==t[O]||!(O in t))&&O!=c&&(o.call(W)=="[object Function]"&&(W.nom=O),w[O]=W);if(A("bug-for-in-skips-shadowed")&&I)for(var z=m._extraNames,N=z.length;N;)O=z[--N],W=I[O],(W!==t[O]||!(O in t))&&O!=c&&(o.call(W)=="[object Function]"&&(W.nom=O),w[O]=W);return w}function R(w){return U.safeMixin(this.prototype,w),this}function C(w,I){return w instanceof Array||typeof w=="function"||(I=w,w=void 0),I=I||{},w=w||[],U([this].concat(w),I)}function S(w,I){return function(){var O=arguments,W=O,z=O[0],N,H,X,G=w.length,k;if(!(this instanceof O.callee))return F(O);if(I&&(z&&z.preamble||this.preamble))for(k=new Array(w.length),k[0]=O,H=0;z=O[0],z&&(N=z.preamble,N&&(O=N.apply(this,O)||O)),N=w[H].prototype,N=N.hasOwnProperty("preamble")&&N.preamble,N&&(O=N.apply(this,O)||O),++H!=G;)k[H]=O;for(H=G-1;H>=0;--H)N=w[H],X=N._meta,N=X?X.ctor:N,N&&N.apply(this,k?k[H]:O);N=this.postscript,N&&N.apply(this,W)}}function x(w,I){return function(){var O=arguments,W=O,z=O[0],N;if(!(this instanceof O.callee))return F(O);I&&(z&&(N=z.preamble,N&&(W=N.apply(this,W)||W)),N=this.preamble,N&&N.apply(this,W)),w&&w.apply(this,O),N=this.postscript,N&&N.apply(this,O)}}function T(w){return function(){var I=arguments,O=0,W,z;if(!(this instanceof I.callee))return F(I);for(;W=w[O];++O)if(z=W._meta,W=z?z.ctor:W,W){W.apply(this,I);break}W=this.postscript,W&&W.apply(this,I)}}function D(w,I,O){return function(){var W,z,N,H=0,X=1;for(O&&(H=I.length-1,X=-1);W=I[H];H+=X)z=W._meta,N=(z?z.hidden:W.prototype)[w],N&&N.apply(this,arguments)}}function j(w){s.prototype=w.prototype;var I=new s;return s.prototype=null,I}function F(w){var I=w.callee,O=j(I);return I.apply(O,w),O}function U(w,I,O){typeof w!="string"&&(O=I,I=w,w=""),O=O||{};var W,z,N,H,X,G,k,_=1,Q=I;if(o.call(I)=="[object Array]"?(G=r(I,w),N=G[0],_=G.length-N,I=G[_]):(G=[0],I?o.call(I)=="[object Function]"?(N=I._meta,G=G.concat(N?N.bases:I)):n("base class is not a callable constructor.",w):I!==null&&n("unknown base class. Did you use dojo.require to pull it in?",w)),I)for(z=_-1;W=j(I),!!z;--z)N=G[z],(N._meta?h:u)(W,N.prototype),A("csp-restrictions")?H=function(){}:H=new Function,H.superclass=I,H.prototype=W,I=W.constructor=H;else W={};for(U.safeMixin(W,O),N=O.constructor,N!==t.constructor&&(N.nom=c,W.constructor=N),z=_-1;z;--z)N=G[z]._meta,N&&N.chains&&(k=u(k||{},N.chains));if(W["-chains-"]&&(k=u(k||{},W["-chains-"])),I&&I.prototype&&I.prototype["-chains-"]&&(k=u(k||{},I.prototype["-chains-"])),N=!k||!k.hasOwnProperty(c),G[0]=H=k&&k.constructor==="manual"?T(G):G.length==1?x(O.constructor,N):S(G,N),H._meta={bases:G,hidden:O,chains:k,parents:Q,ctor:O.constructor},H.superclass=I&&I.prototype,H.extend=R,H.createSubclass=C,H.prototype=W,W.constructor=H,W.getInherited=f,W.isInstanceOf=d,W.inherited=p,W.__inherited=a,w&&(W.declaredClass=w,m.setObject(w,H)),k)for(X in k)W[X]&&typeof k[X]=="string"&&X!=c&&(N=W[X]=D(X,G,k[X]==="after"),N.nom=X);return H}return l.safeMixin=U.safeMixin=v,l.declare=U,U},E,P),E.exports=M},"dojo/_base/event":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/dom-geometry"])],M=e.dj.d(b,function(l,A,m,u){if(A._fixEvent){var t=A._fixEvent;A._fixEvent=function(s,i){return s=t(s,i),s&&u.normalizeEvent(s),s}}var o={fix:function(s,i){return A._fixEvent?A._fixEvent(s,i):s},stop:function(s){m("dom-addeventlistener")||s&&s.preventDefault?(s.preventDefault(),s.stopPropagation()):(s=s||window.event,s.cancelBubble=!0,A._preventDefault.call(s))}};return m("extend-dojo")&&(l.fixEvent=o.fix,l.stopEvent=o.stop),o},E,P),E.exports=M},"dojo/_base/json":(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/kernel"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/json"])],__WEBPACK_AMD_DEFINE_RESULT__=__webpack_require__.dj.d(__WEBPACK_AMD_DEFINE_ARRAY__,function(dojo,json){return dojo.fromJson=function(js){return eval("("+js+")")},dojo._escapeString=json.stringify,dojo.toJsonIndentStr="	",dojo.toJson=function(E,P){return json.stringify(E,function(e,b){if(b){var M=b.__json__||b.json;if(typeof M=="function")return M.call(b)}return b},P&&dojo.toJsonIndentStr)},dojo},module,exports),module.exports=__WEBPACK_AMD_DEFINE_RESULT__},"dojo/_base/kernel":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/global"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/_base/config"]),e.dj.c(E),e.dj.m(E)],M=e.dj.d(b,function(l,A,m,u,t){var o,s,i={},c={},n={config:m,global:l,dijit:i,dojox:c},r={dojo:["dojo",n],dijit:["dijit",i],dojox:["dojox",c]},a=u.map&&u.map[t.id.match(/[^\/]+/)[0]],f;for(s in a)r[s]?r[s][0]=a[s]:r[s]=[a[s],{}];for(s in r)f=r[s],f[1]._scopeName=f[0],m.noGlobals||(l[f[0]]=f[1]);n.scopeMap=r,n.baseUrl=n.config.baseUrl=u.baseUrl,n.isAsync=!A("dojo-loader")||u.async,n.locale=m.locale;var g="$Rev:$".match(/[0-9a-f]{7,}/);if(n.version={major:1,minor:17,patch:1,flag:"",revision:g?g[0]:NaN,toString:function(){var v=n.version;return v.major+"."+v.minor+"."+v.patch+v.flag+" ("+v.revision+")"}},A.add("extend-dojo",1),A("csp-restrictions")||Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(n),A("host-rhino")?n.exit=function(v){quit(v)}:n.exit=function(){},A("host-webworker")||A.add("dojo-guarantee-console",1),A("dojo-guarantee-console")){A.add("console-as-object",function(){return Function.prototype.bind&&console&&typeof console.log=="object"}),typeof console<"u"||(console={});var p=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"],d;for(o=0;d=p[o++];)console[d]?A("console-as-object")&&(console[d]=Function.prototype.bind.call(console[d],console)):function(){var v=d+"";console[v]="log"in console?function(){var R=Array.prototype.slice.call(arguments);R.unshift(v+":"),console.log(R.join(" "))}:function(){},console[v]._fake=!0}()}if(A.add("dojo-debug-messages",!!m.isDebug),n.deprecated=n.experimental=function(){},A("dojo-debug-messages")&&(n.deprecated=function(v,R,C){var S="DEPRECATED: "+v;R&&(S+=" "+R),C&&(S+=" -- will be removed in version: "+C),console.warn(S)},n.experimental=function(v,R){var C="EXPERIMENTAL: "+v+" -- APIs subject to change without notice.";R&&(C+=" "+R),console.warn(C)}),A.add("dojo-modulePaths",1),A("dojo-modulePaths")&&m.modulePaths){n.deprecated("dojo.modulePaths","use paths configuration");var h={};for(s in m.modulePaths)h[s.replace(/\./g,"/")]=m.modulePaths[s];u({paths:h})}return A.add("dojo-moduleUrl",1),A("dojo-moduleUrl")&&(n.moduleUrl=function(v,R){n.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var C=null;return v&&(C=u.toUrl(v.replace(/\./g,"/")+(R?"/"+R:"")+"/*.*").replace(/\/\*\.\*/,"")+(R?"":"/")),C}),n._hasResource={},n},E,P),E.exports=M},"dojo/_base/lang":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/sniff"])],M=e.dj.d(b,function(l,A){A.add("bug-for-in-skips-shadowed",function(){for(var n in{toString:1})return 0;return 1});var m=A("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],u=m.length,t=function(n,r,a){a||(n[0]&&l.scopeMap[n[0]]?a=l.scopeMap[n.shift()][1]:a=l.global);try{for(var f=0;f<n.length;f++){var g=n[f];if(g==="__proto__"||g==="constructor")return;if(!(g in a))if(r)a[g]={};else return;a=a[g]}return a}catch(p){}},o=Object.prototype.toString,s=function(n,r,a){return(a||[]).concat(Array.prototype.slice.call(n,r||0))},i=/\{([^\}]+)\}/g,c={_extraNames:m,_mixin:function(n,r,a){var f,g,p,d={};for(f in r)g=r[f],(!(f in n)||n[f]!==g&&(!(f in d)||d[f]!==g))&&(n[f]=a?a(g):g);if(A("bug-for-in-skips-shadowed")&&r)for(p=0;p<u;++p)f=m[p],g=r[f],(!(f in n)||n[f]!==g&&(!(f in d)||d[f]!==g))&&(n[f]=a?a(g):g);return n},mixin:function(n,r){n||(n={});for(var a=1,f=arguments.length;a<f;a++)c._mixin(n,arguments[a]);return n},setObject:function(n,r,a){var f=n.split("."),g=f.pop(),p=t(f,!0,a);return p&&g?p[g]=r:void 0},getObject:function(n,r,a){return n?t(n.split("."),r,a):a},exists:function(n,r){return c.getObject(n,!1,r)!==void 0},isString:function(n){return typeof n=="string"||n instanceof String},isArray:Array.isArray||function(n){return o.call(n)=="[object Array]"},isFunction:function(n){return o.call(n)==="[object Function]"},isObject:function(n){return n!==void 0&&(n===null||typeof n=="object"||c.isArray(n)||c.isFunction(n))},isArrayLike:function(n){return!!n&&!c.isString(n)&&!c.isFunction(n)&&!(n.tagName&&n.tagName.toLowerCase()=="form")&&(c.isArray(n)||isFinite(n.length))},isAlien:function(n){return n&&!c.isFunction(n)&&/\{\s*\[native code\]\s*\}/.test(String(n))},extend:function(n,r){for(var a=1,f=arguments.length;a<f;a++)c._mixin(n.prototype,arguments[a]);return n},_hitchArgs:function(n,r){var a=c._toArray(arguments,2),f=c.isString(r);return function(){var g=c._toArray(arguments),p=f?(n||l.global)[r]:r;return p&&p.apply(n||this,a.concat(g))}},hitch:function(n,r){if(arguments.length>2)return c._hitchArgs.apply(l,arguments);if(r||(r=n,n=null),c.isString(r)){if(n=n||l.global,!n[r])throw['lang.hitch: scope["',r,'"] is null (scope="',n,'")'].join("");return function(){return n[r].apply(n,arguments||[])}}return n?function(){return r.apply(n,arguments||[])}:r},delegate:function(){function n(){}return function(r,a){n.prototype=r;var f=new n;return n.prototype=null,a&&c._mixin(f,a),f}}(),_toArray:A("ie")?function(){function n(r,a,f){for(var g=f||[],p=a||0;p<r.length;p++)g.push(r[p]);return g}return function(r){return(r.item?n:s).apply(this,arguments)}}():s,partial:function(n){var r=[null];return c.hitch.apply(l,r.concat(c._toArray(arguments)))},clone:function(n){if(!n||typeof n!="object"||c.isFunction(n))return n;if(n.nodeType&&"cloneNode"in n)return n.cloneNode(!0);if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp)return new RegExp(n);var r,a,f;if(c.isArray(n))for(r=[],a=0,f=n.length;a<f;++a)a in n&&(r[a]=c.clone(n[a]));else r=n.constructor?new n.constructor:{};return c._mixin(r,n,c.clone)},trim:String.prototype.trim?function(n){return n.trim()}:function(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(n,r,a){return n.replace(a||i,c.isFunction(r)?r:function(f,g){return c.getObject(g,!1,r)})}};return A("extend-dojo")&&c.mixin(l,c),c},E,P),E.exports=M},"dojo/_base/sniff":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/sniff"])],M=e.dj.d(b,function(l,A,m){return m("host-browser")&&(l._name="browser",A.mixin(l,{isBrowser:!0,isFF:m("ff"),isIE:m("ie"),isKhtml:m("khtml"),isWebKit:m("webkit"),isMozilla:m("mozilla"),isMoz:m("mozilla"),isOpera:m("opera"),isSafari:m("safari"),isChrome:m("chrome"),isMac:m("mac"),isIos:m("ios"),isAndroid:m("android"),isWii:m("wii"),isQuirks:m("quirks"),isAir:m("air")})),m},E,P),E.exports=M},"dojo/_base/window":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/sniff"])],M=e.dj.d(b,function(l,A,m){var u={global:l.global,doc:l.global.document||null,body:function(t){return t=t||l.doc,t.body||t.getElementsByTagName("body")[0]},setContext:function(t,o){l.global=u.global=t,l.doc=u.doc=o},withGlobal:function(t,o,s,i){var c=l.global;try{return l.global=u.global=t,u.withDoc.call(null,t.document,o,s,i)}finally{l.global=u.global=c}},withDoc:function(t,o,s,i){var c=u.doc,n=m("quirks"),r=m("ie"),a,f,g;try{return l.doc=u.doc=t,l.isQuirks=m.add("quirks",l.doc.compatMode=="BackCompat",!0,!0),m("ie")&&(g=t.parentWindow)&&g.navigator&&(a=parseFloat(g.navigator.appVersion.split("MSIE ")[1])||void 0,f=t.documentMode,f&&f!=5&&Math.floor(a)!=f&&(a=f),l.isIE=m.add("ie",a,!0,!0)),s&&typeof o=="string"&&(o=s[o]),o.apply(s,i||[])}finally{l.doc=u.doc=c,l.isQuirks=m.add("quirks",n,!0,!0),l.isIE=m.add("ie",r,!0,!0)}}};return m("extend-dojo")&&A.mixin(l,u),u},E,P),E.exports=M},"dojo/_base/xhr":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/_base/sniff"]),e.dj.c(E),e(e.dj.r.absMids["dojo/io-query"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/dom-form"]),e(e.dj.r.absMids["dojo/_base/Deferred"]),e(e.dj.r.absMids["dojo/_base/config"]),e(e.dj.r.absMids["dojo/_base/json"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/request/watch"]),e(e.dj.r.absMids["dojo/request/xhr"]),e(e.dj.r.absMids["dojo/request/util"])],M=e.dj.d(b,function(l,A,m,u,t,o,s,i,c,n,r,a,f,g,p,d){l._xhrObj=p._create;var h=l.config;l.objectToQuery=u.objectToQuery,l.queryToObject=u.queryToObject,l.fieldToObject=o.fieldToObject,l.formToObject=o.toObject,l.formToQuery=o.toQuery,l.formToJson=o.toJson,l._blockAsync=!1;var v=l._contentHandlers=l.contentHandlers={text:function(D){return D.responseText},json:function(D){return c.fromJson(D.responseText||null)},"json-comment-filtered":function(D){i.useCommentedJson||console.warn(`Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}&&
Use djConfig.useCommentedJson=true to turn off this message.`);var j=D.responseText,F=j.indexOf("/*"),U=j.lastIndexOf("*/");if(F==-1||U==-1)throw new Error("JSON was not comment filtered");return c.fromJson(j.substring(F+2,U))},javascript:function(D){return l.eval(D.responseText)},xml:function(D){var j=D.responseXML;if(j&&A("dom-qsa2.1")&&!j.querySelectorAll&&A("dom-parser")&&(j=new DOMParser().parseFromString(D.responseText,"application/xml")),A("ie")&&(!j||!j.documentElement)){var F=function(w){return"MSXML"+w+".DOMDocument"},U=["Microsoft.XMLDOM",F(6),F(4),F(3),F(2)];r.some(U,function(w){try{var I=new ActiveXObject(w);I.async=!1,I.loadXML(D.responseText),j=I}catch(O){return!1}return!0})}return j},"json-comment-optional":function(D){return D.responseText&&/^[^{\[]*\/\*/.test(D.responseText)?v["json-comment-filtered"](D):v.json(D)}};l._ioSetArgs=function(D,j,F,U){var w={args:D,url:D.url},I=null;if(D.form){var O=t.byId(D.form),W=O.getAttributeNode("action");w.url=w.url||(W?W.value:l.doc?l.doc.URL:null),I=o.toObject(O)}var z={};I&&n.mixin(z,I),D.content&&n.mixin(z,D.content),D.preventCache&&(z["dojo.preventCache"]=new Date().valueOf()),w.query=u.objectToQuery(z),w.handleAs=D.handleAs||"text";var N=new s(function(k){k.canceled=!0,j&&j(k);var _=k.ioArgs.error;return _||(_=new Error("request cancelled"),_.dojoType="cancel",k.ioArgs.error=_),_});N.addCallback(F);var H=D.load;H&&n.isFunction(H)&&N.addCallback(function(k){return H.call(D,k,w)});var X=D.error;X&&n.isFunction(X)&&N.addErrback(function(k){return X.call(D,k,w)});var G=D.handle;return G&&n.isFunction(G)&&N.addBoth(function(k){return G.call(D,k,w)}),N.addErrback(function(k){return U(k,N)}),h.ioPublish&&l.publish&&w.args.ioPublish!==!1&&(N.addCallbacks(function(k){return l.publish("/dojo/io/load",[N,k]),k},function(k){return l.publish("/dojo/io/error",[N,k]),k}),N.addBoth(function(k){return l.publish("/dojo/io/done",[N,k]),k})),N.ioArgs=w,N};var R=function(D){var j=v[D.ioArgs.handleAs](D.ioArgs.xhr);return j===void 0?null:j},C=function(D,j){return j.ioArgs.args.failOk||console.error(D),D},S=function(D){x<=0&&(x=0,h.ioPublish&&l.publish&&(!D||D&&D.ioArgs.args.ioPublish!==!1)&&l.publish("/dojo/io/stop"))},x=0;f.after(g,"_onAction",function(){x-=1}),f.after(g,"_onInFlight",S),l._ioCancelAll=g.cancelAll,l._ioNotifyStart=function(D){h.ioPublish&&l.publish&&D.ioArgs.args.ioPublish!==!1&&(x||l.publish("/dojo/io/start"),x+=1,l.publish("/dojo/io/send",[D]))},l._ioWatch=function(D,j,F,U){var w=D.ioArgs.options=D.ioArgs.args;n.mixin(D,{response:D.ioArgs,isValid:function(I){return j(D)},isReady:function(I){return F(D)},handleResponse:function(I){return U(D)}}),g(D),S(D)};var T="application/x-www-form-urlencoded";return l._ioAddQueryToUrl=function(D){D.query.length&&(D.url+=(D.url.indexOf("?")==-1?"?":"&")+D.query,D.query=null)},l.xhr=function(D,j,F){var U,w=l._ioSetArgs(j,function(W){U&&U.cancel()},R,C),I=w.ioArgs;"postData"in j?I.query=j.postData:"putData"in j?I.query=j.putData:"rawBody"in j?I.query=j.rawBody:(arguments.length>2&&!F||"POST|PUT".indexOf(D.toUpperCase())===-1)&&l._ioAddQueryToUrl(I);var O={method:D,handleAs:"text",timeout:j.timeout,withCredentials:j.withCredentials,ioArgs:I};typeof j.headers<"u"&&(O.headers=j.headers),typeof j.contentType<"u"&&(O.headers||(O.headers={}),O.headers["Content-Type"]=j.contentType),typeof I.query<"u"&&(O.data=I.query),typeof j.sync<"u"&&(O.sync=j.sync),l._ioNotifyStart(w);try{U=p(I.url,O,!0)}catch(W){return w.cancel(),w}return w.ioArgs.xhr=U.response.xhr,U.then(function(){w.resolve(w)}).otherwise(function(W){I.error=W,W.response&&(W.status=W.response.status,W.responseText=W.response.text,W.xhr=W.response.xhr),w.reject(W)}),w},l.xhrGet=function(D){return l.xhr("GET",D)},l.rawXhrPost=l.xhrPost=function(D){return l.xhr("POST",D,!0)},l.rawXhrPut=l.xhrPut=function(D){return l.xhr("PUT",D,!0)},l.xhrDelete=function(D){return l.xhr("DELETE",D)},l._isDocumentOk=function(D){return d.checkStatus(D.status)},l._getText=function(D){var j;return l.xhrGet({url:D,sync:!0,load:function(F){j=F}}),j},n.mixin(l.xhr,{_xhrObj:l._xhrObj,fieldToObject:o.fieldToObject,formToObject:o.toObject,objectToQuery:u.objectToQuery,formToQuery:o.toQuery,formToJson:o.toJson,queryToObject:u.queryToObject,contentHandlers:v,_ioSetArgs:l._ioSetArgs,_ioCancelAll:l._ioCancelAll,_ioNotifyStart:l._ioNotifyStart,_ioWatch:l._ioWatch,_ioAddQueryToUrl:l._ioAddQueryToUrl,_isDocumentOk:l._isDocumentOk,_getText:l._getText,get:l.xhrGet,post:l.xhrPost,put:l.xhrPut,del:l.xhrDelete}),l.xhr},E,P),E.exports=M},"dojo/aspect":(E,P,e)=>{var b,M;b=[],M=e.dj.d(b,function(){"use strict";var l;function A(s,i,c,n){var r=s[i],a=i=="around",f;if(a){var g=c(function(){return r.advice(this,arguments)});f={remove:function(){g&&(g=s=c=null)},advice:function(p,d){return g?g.apply(p,d):r.advice(p,d)}}}else f={remove:function(){if(f.advice){var p=f.previous,d=f.next;!d&&!p?delete s[i]:(p?p.next=d:s[i]=d,d&&(d.previous=p)),s=c=f.advice=null}},id:s.nextId++,advice:c,receiveArguments:n};if(r&&!a)if(i=="after"){for(;r.next&&(r=r.next););r.next=f,f.previous=r}else i=="before"&&(s[i]=f,f.next=r,r.previous=f);else s[i]=f;return f}function m(s){return function(i,c,n,r){var a=i[c],f;(!a||a.target!=i)&&(i[c]=f=function(){for(var p=f.nextId,d=arguments,h=f.before;h;)h.advice&&(d=h.advice.apply(this,d)||d),h=h.next;if(f.around)var v=f.around.advice(this,d);for(var R=f.after;R&&R.id<p;){if(R.advice)if(R.receiveArguments){var C=R.advice.apply(this,d);v=C===l?v:C}else v=R.advice.call(this,v,d);R=R.next}return v},a&&(f.around={advice:function(p,d){return a.apply(p,d)}}),f.target=i,f.nextId=f.nextId||0);var g=A(f||a,s,n,r);return n=null,g}}var u=m("after"),t=m("before"),o=m("around");return{before:t,around:o,after:u}},E,P),E.exports=M},"dojo/dom-attr":(E,P,e)=>{var b,M;b=[P,e(e.dj.r.absMids["dojo/sniff"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/dom-style"]),e(e.dj.r.absMids["dojo/dom-prop"])],M=e.dj.d(b,function(l,A,m,u,t,o){var s={innerHTML:1,textContent:1,className:1,htmlFor:A("ie")?1:0,value:1},i={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};function c(n,r){var a=n.getAttributeNode&&n.getAttributeNode(r);return!!a&&a.specified}l.has=function(r,a){var f=a.toLowerCase();return!!s[o.names[f]||a]||c(u.byId(r),i[f]||a)},l.get=function(r,a){r=u.byId(r);var f=a.toLowerCase(),g=o.names[f]||a,p=s[g],d=r[g];if(p&&typeof d<"u")return d;if(g=="textContent")return o.get(r,g);if(g!="href"&&(typeof d=="boolean"||m.isFunction(d)))return d;var h=i[f]||a;return c(r,h)?r.getAttribute(h):null},l.set=function(r,a,f){if(r=u.byId(r),arguments.length==2){for(var g in a)l.set(r,g,a[g]);return r}var p=a.toLowerCase(),d=o.names[p]||a,h=s[d];return d=="style"&&typeof f!="string"?(t.set(r,f),r):h||typeof f=="boolean"||m.isFunction(f)?o.set(r,a,f):(r.setAttribute(i[p]||a,f),r)},l.remove=function(r,a){u.byId(r).removeAttribute(i[a.toLowerCase()]||a)},l.getNodeProp=function(r,a){r=u.byId(r);var f=a.toLowerCase(),g=o.names[f]||a;if(g in r&&g!="href")return r[g];var p=i[f]||a;return c(r,p)?r.getAttribute(p):null}},E,P),E.exports=M},"dojo/dom-construct":(E,P,e)=>{var b,M;b=[P,e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/sniff"]),e(e.dj.r.absMids["dojo/_base/window"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/dom-attr"])],M=e.dj.d(b,function(l,A,m,u,t,o){var s={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},i=/<\s*([\w\:]+)/,c={},n=0,r="__"+A._scopeName+"ToDomId";for(var a in s)if(s.hasOwnProperty(a)){var f=s[a];f.pre=a=="option"?'<select multiple="multiple">':"<"+f.join("><")+">",f.post="</"+f.reverse().join("></")+">"}var g;m("ie")<=8&&(g=function(S){S.__dojo_html5_tested="yes";var x=h("div",{innerHTML:"<nav>a</nav>",style:{visibility:"hidden"}},S.body);x.childNodes.length!==1&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(T){S.createElement(T)}),C(x)});function p(S,x){var T=x.parentNode;T&&T.insertBefore(S,x)}function d(S,x){var T=x.parentNode;T&&(T.lastChild==x?T.appendChild(S):T.insertBefore(S,x.nextSibling))}l.toDom=function(x,T){T=T||u.doc;var D=T[r];D||(T[r]=D=++n+"",c[D]=T.createElement("div")),m("ie")<=8&&!T.__dojo_html5_tested&&T.body&&g(T),x+="";var j=x.match(i),F=j?j[1].toLowerCase():"",U=c[D],w,I,O,W;if(j&&s[F])for(w=s[F],U.innerHTML=w.pre+x+w.post,I=w.length;I;--I)U=U.firstChild;else U.innerHTML=x;if(U.childNodes.length==1)return U.removeChild(U.firstChild);for(W=T.createDocumentFragment();O=U.firstChild;)W.appendChild(O);return W},l.place=function(x,T,D){if(T=t.byId(T),typeof x=="string"&&(x=/^\s*</.test(x)?l.toDom(x,T.ownerDocument):t.byId(x)),typeof D=="number"){var j=T.childNodes;!j.length||j.length<=D?T.appendChild(x):p(x,j[D<0?0:D])}else switch(D){case"before":p(x,T);break;case"after":d(x,T);break;case"replace":T.parentNode.replaceChild(x,T);break;case"only":l.empty(T),T.appendChild(x);break;case"first":if(T.firstChild){p(x,T.firstChild);break}default:T.appendChild(x)}return x};var h=l.create=function(x,T,D,j){var F=u.doc;return D&&(D=t.byId(D),F=D.ownerDocument),typeof x=="string"&&(x=F.createElement(x)),T&&o.set(x,T),D&&l.place(x,D,j),x};function v(S){if("innerHTML"in S)try{S.innerHTML="";return}catch(T){}for(var x;x=S.lastChild;)S.removeChild(x)}l.empty=function(x){v(t.byId(x))};function R(S,x){S.firstChild&&v(S),x&&(m("ie")&&x.canHaveChildren&&"removeNode"in S?S.removeNode(!1):x.removeChild(S))}var C=l.destroy=function(x){x=t.byId(x),x&&R(x,x.parentNode)}},E,P),E.exports=M},"dojo/dom-form":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/io-query"]),e(e.dj.r.absMids["dojo/json"])],M=e.dj.d(b,function(l,A,m,u){function t(i,c,n){if(n!==null){var r=i[c];typeof r=="string"?i[c]=[r,n]:l.isArray(r)?r.push(n):i[c]=n}}var o="file|submit|image|reset|button",s={fieldToObject:function(c){var n=null;if(c=A.byId(c),c){var r=c.name,a=(c.type||"").toLowerCase();if(r&&a&&!c.disabled)if(a=="radio"||a=="checkbox")c.checked&&(n=c.value);else if(c.multiple){n=[];for(var f=[c.firstChild];f.length;)for(var g=f.pop();g;g=g.nextSibling)if(g.nodeType==1&&g.tagName.toLowerCase()=="option")g.selected&&n.push(g.value);else{g.nextSibling&&f.push(g.nextSibling),g.firstChild&&f.push(g.firstChild);break}}else n=c.value}return n},toObject:function(c){for(var n={},r=A.byId(c).elements,a=0,f=r.length;a<f;++a){var g=r[a],p=g.name,d=(g.type||"").toLowerCase();p&&d&&o.indexOf(d)<0&&!g.disabled&&(t(n,p,s.fieldToObject(g)),d=="image"&&(n[p+".x"]=n[p+".y"]=n[p].x=n[p].y=0))}return n},toQuery:function(c){return m.objectToQuery(s.toObject(c))},toJson:function(c,n){return u.stringify(s.toObject(c),null,n?4:0)}};return s},E,P),E.exports=M},"dojo/dom-geometry":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/sniff"]),e(e.dj.r.absMids["dojo/_base/window"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/dom-style"])],M=e.dj.d(b,function(l,A,m,u){var t={};t.boxModel="content-box",l("ie")&&(t.boxModel=document.compatMode=="BackCompat"?"border-box":"content-box"),t.getPadExtents=function(f,g){f=m.byId(f);var p=g||u.getComputedStyle(f),d=u.toPixelValue,h=d(f,p.paddingLeft),v=d(f,p.paddingTop),R=d(f,p.paddingRight),C=d(f,p.paddingBottom);return{l:h,t:v,r:R,b:C,w:h+R,h:v+C}};var o="none";t.getBorderExtents=function(f,g){f=m.byId(f);var p=u.toPixelValue,d=g||u.getComputedStyle(f),h=d.borderLeftStyle!=o?p(f,d.borderLeftWidth):0,v=d.borderTopStyle!=o?p(f,d.borderTopWidth):0,R=d.borderRightStyle!=o?p(f,d.borderRightWidth):0,C=d.borderBottomStyle!=o?p(f,d.borderBottomWidth):0;return{l:h,t:v,r:R,b:C,w:h+R,h:v+C}},t.getPadBorderExtents=function(f,g){f=m.byId(f);var p=g||u.getComputedStyle(f),d=t.getPadExtents(f,p),h=t.getBorderExtents(f,p);return{l:d.l+h.l,t:d.t+h.t,r:d.r+h.r,b:d.b+h.b,w:d.w+h.w,h:d.h+h.h}},t.getMarginExtents=function(f,g){f=m.byId(f);var p=g||u.getComputedStyle(f),d=u.toPixelValue,h=d(f,p.marginLeft),v=d(f,p.marginTop),R=d(f,p.marginRight),C=d(f,p.marginBottom);return{l:h,t:v,r:R,b:C,w:h+R,h:v+C}},t.getMarginBox=function(f,g){f=m.byId(f);var p=g||u.getComputedStyle(f),d=t.getMarginExtents(f,p),h=f.offsetLeft-d.l,v=f.offsetTop-d.t,R=f.parentNode,C=u.toPixelValue,S;if(l("mozilla")){var x=parseFloat(p.left),T=parseFloat(p.top);!isNaN(x)&&!isNaN(T)?(h=x,v=T):R&&R.style&&(S=u.getComputedStyle(R),S.overflow!="visible"&&(h+=S.borderLeftStyle!=o?C(f,S.borderLeftWidth):0,v+=S.borderTopStyle!=o?C(f,S.borderTopWidth):0))}else(l("opera")||l("ie")==8&&!l("quirks"))&&R&&(S=u.getComputedStyle(R),h-=S.borderLeftStyle!=o?C(f,S.borderLeftWidth):0,v-=S.borderTopStyle!=o?C(f,S.borderTopWidth):0);return{l:h,t:v,w:f.offsetWidth+d.w,h:f.offsetHeight+d.h}},t.getContentBox=function(f,g){f=m.byId(f);var p=g||u.getComputedStyle(f),d=f.clientWidth,h,v=t.getPadExtents(f,p),R=t.getBorderExtents(f,p);return d?(h=f.clientHeight,R.w=R.h=0):(d=f.offsetWidth,h=f.offsetHeight),l("opera")&&(v.l+=R.l,v.t+=R.t),{l:v.l,t:v.t,w:d-v.w-R.w,h:h-v.h-R.h}};function s(a,f,g,p,d,h){h=h||"px";var v=a.style;isNaN(f)||(v.left=f+h),isNaN(g)||(v.top=g+h),p>=0&&(v.width=p+h),d>=0&&(v.height=d+h)}function i(a){return a.tagName.toLowerCase()=="button"||a.tagName.toLowerCase()=="input"&&(a.getAttribute("type")||"").toLowerCase()=="button"}function c(a){return t.boxModel=="border-box"||a.tagName.toLowerCase()=="table"||i(a)}function n(a){var f={x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0},g;try{g=a.getBoundingClientRect()}catch(p){return f}return typeof g.left>"u"?f:g}t.setContentSize=function(f,g,p){f=m.byId(f);var d=g.w,h=g.h;if(c(f)){var v=t.getPadBorderExtents(f,p);d>=0&&(d+=v.w),h>=0&&(h+=v.h)}s(f,NaN,NaN,d,h)};var r={l:0,t:0,w:0,h:0};return t.setMarginBox=function(f,g,p){f=m.byId(f);var d=p||u.getComputedStyle(f),h=g.w,v=g.h,R=c(f)?r:t.getPadBorderExtents(f,d),C=t.getMarginExtents(f,d);if(l("webkit")&&i(f)){var S=f.style;h>=0&&!S.width&&(S.width="4px"),v>=0&&!S.height&&(S.height="4px")}h>=0&&(h=Math.max(h-R.w-C.w,0)),v>=0&&(v=Math.max(v-R.h-C.h,0)),s(f,g.l,g.t,h,v)},t.isBodyLtr=function(f){return f=f||A.doc,(A.body(f).dir||f.documentElement.dir||"ltr").toLowerCase()=="ltr"},t.docScroll=function(f){f=f||A.doc;var g=f.parentWindow||f.defaultView;return"pageXOffset"in g?{x:g.pageXOffset,y:g.pageYOffset}:(g=l("quirks")?A.body(f):f.documentElement)&&{x:t.fixIeBiDiScrollLeft(g.scrollLeft||0,f),y:g.scrollTop||0}},t.getIeDocumentElementOffset=function(a){return{x:0,y:0}},t.fixIeBiDiScrollLeft=function(f,g){g=g||A.doc;var p=l("ie");if(p&&!t.isBodyLtr(g)){var d=l("quirks"),h=d?A.body(g):g.documentElement,v=A.global;return p==6&&!d&&v.frameElement&&h.scrollHeight>h.clientHeight&&(f+=h.clientLeft),p<8||d?f+h.clientWidth-h.scrollWidth:-f}return f},t.position=function(a,f){a=m.byId(a);var g=A.body(a.ownerDocument),p=n(a);if(p={x:p.left,y:p.top,w:p.right-p.left,h:p.bottom-p.top},l("ie")<9&&(p.x-=l("quirks")?g.clientLeft+g.offsetLeft:0,p.y-=l("quirks")?g.clientTop+g.offsetTop:0),f){var d=t.docScroll(a.ownerDocument);p.x+=d.x,p.y+=d.y}return p},t.getMarginSize=function(f,g){f=m.byId(f);var p=t.getMarginExtents(f,g||u.getComputedStyle(f)),d=n(f);return{w:d.right-d.left+p.w,h:d.bottom-d.top+p.h}},t.normalizeEvent=function(a){if("layerX"in a||(a.layerX=a.offsetX,a.layerY=a.offsetY),!("pageX"in a)){var f=a.target,g=f&&f.ownerDocument||document,p=l("quirks")?g.body:g.documentElement;a.pageX=a.clientX+t.fixIeBiDiScrollLeft(p.scrollLeft||0,g),a.pageY=a.clientY+(p.scrollTop||0)}},t},E,P),E.exports=M},"dojo/dom-prop":(E,P,e)=>{var b,M;b=[P,e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/sniff"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/dom-style"]),e(e.dj.r.absMids["dojo/dom-construct"]),e(e.dj.r.absMids["dojo/_base/connect"])],M=e.dj.d(b,function(l,A,m,u,t,o,s,i){var c={},n=1,r=A._scopeName+"attrid";m.add("dom-textContent",function(f,g,p){return"textContent"in p}),l.names={class:"className",for:"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};function a(f){for(var g="",p=f.childNodes,d=0,h;h=p[d];d++)h.nodeType!=8&&(h.nodeType==1?g+=a(h):g+=h.nodeValue);return g}l.get=function(g,p){g=t.byId(g);var d=p.toLowerCase(),h=l.names[d]||p;return h=="textContent"&&!m("dom-textContent")?a(g):g[h]},l.set=function(g,p,d){g=t.byId(g);var h=arguments.length;if(h==2&&typeof p!="string"){for(var v in p)l.set(g,v,p[v]);return g}var R=p.toLowerCase(),C=l.names[R]||p;if(C=="style"&&typeof d!="string")return o.set(g,d),g;if(C=="innerHTML")return m("ie")&&g.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(s.empty(g),g.appendChild(s.toDom(d,g.ownerDocument))):g[C]=d,g;if(C=="textContent"&&!m("dom-textContent"))return s.empty(g),g.appendChild(g.ownerDocument.createTextNode(d)),g;if(u.isFunction(d)){var S=g[r];S||(S=n++,g[r]=S),c[S]||(c[S]={});var x=c[S][C];if(x)i.disconnect(x);else try{delete g[C]}catch(T){}return d?c[S][C]=i.connect(g,C,d):g[C]=null,g}return g[C]=d,g}},E,P),E.exports=M},"dojo/dom-style":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/sniff"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/_base/window"])],M=e.dj.d(b,function(l,A,m){var u,t={};l("webkit")?u=function(p){var d;if(p.nodeType==1){var h=p.ownerDocument.defaultView;d=h.getComputedStyle(p,null),!d&&p.style&&(p.style.display="",d=h.getComputedStyle(p,null))}return d||{}}:l("ie")&&(l("ie")<9||l("quirks"))?u=function(p){return p.nodeType==1&&p.currentStyle?p.currentStyle:{}}:u=function(p){if(p.nodeType===1){var d=p.ownerDocument.defaultView,h=d.opener?d:m.global.window;return h.getComputedStyle(p,null)||{}}return{}},t.getComputedStyle=u;var o;l("ie")?o=function(p,d){if(!d)return 0;if(d=="medium")return 4;if(d.slice&&d.slice(-2)=="px")return parseFloat(d);var h=p.style,v=p.runtimeStyle,R=p.currentStyle,C=h.left,S=v.left;v.left=R.left;try{h.left=d,d=h.pixelLeft}catch(x){d=0}return h.left=C,v.left=S,d}:o=function(p,d){return parseFloat(d)||0},t.toPixelValue=o;var s="DXImageTransform.Microsoft.Alpha",i=function(p,d){try{return p.filters.item(s)}catch(h){return d?{}:null}},c=l("ie")<9||l("ie")<10&&l("quirks")?function(p){try{return i(p).Opacity/100}catch(d){return 1}}:function(p){return u(p).opacity},n=l("ie")<9||l("ie")<10&&l("quirks")?function(p,d){d===""&&(d=1);var h=d*100,v=d===1;if(v?(p.style.zoom="",i(p)&&(p.style.filter=p.style.filter.replace(new RegExp("\\s*progid:"+s+"\\([^\\)]+?\\)","i"),""))):(p.style.zoom=1,i(p)?i(p,1).Opacity=h:p.style.filter+=" progid:"+s+"(Opacity="+h+")",i(p,1).Enabled=!0),p.tagName.toLowerCase()=="tr")for(var R=p.firstChild;R;R=R.nextSibling)R.tagName.toLowerCase()=="td"&&n(R,d);return d}:function(p,d){return p.style.opacity=d},r={left:!0,top:!0},a=/margin|padding|width|height|max|min|offset/;function f(p,d,h){if(d=d.toLowerCase(),h=="auto"){if(d=="height")return p.offsetHeight;if(d=="width")return p.offsetWidth}if(d=="fontweight")switch(h){case 700:return"bold";case 400:default:return"normal"}return d in r||(r[d]=a.test(d)),r[d]?o(p,h):h}var g={cssFloat:1,styleFloat:1,float:1};return t.get=function(d,h){var v=A.byId(d),R=arguments.length,C=h=="opacity";if(R==2&&C)return c(v);h=g[h]?"cssFloat"in v.style?"cssFloat":"styleFloat":h;var S=t.getComputedStyle(v);return R==1?S:f(v,h,S[h]||v.style[h])},t.set=function(d,h,v){var R=A.byId(d),C=arguments.length,S=h=="opacity";if(h=g[h]?"cssFloat"in R.style?"cssFloat":"styleFloat":h,C==3)return S?n(R,v):R.style[h]=v;for(var x in h)t.set(d,x,h[x]);return t.getComputedStyle(R)},t},E,P),E.exports=M},"dojo/dom":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/sniff"]),e(e.dj.r.absMids["dojo/_base/window"]),e(e.dj.r.absMids["dojo/_base/kernel"])],M=e.dj.d(b,function(l,A,m){if(l("ie")<=7)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(s){}var u={};l("ie")?u.byId=function(s,i){if(typeof s!="string")return s||null;var c=i||A.doc,n=s&&c.getElementById(s);if(n&&(n.attributes.id.value==s||n.id==s))return n;var r=c.all[s];(!r||r.nodeName)&&(r=[r]);for(var a=0;n=r[a++];)if(n.attributes&&n.attributes.id&&n.attributes.id.value==s||n.id==s)return n;return null}:u.byId=function(s,i){return(typeof s=="string"?(i||A.doc).getElementById(s):s)||null};var t=m.global.document||null;l.add("dom-contains",!!(t&&t.contains)),u.isDescendant=function(s,i){try{for(s=u.byId(s),i=u.byId(i);s;){if(s==i)return!0;s=s.parentNode}}catch(c){}return!1},l.add("css-user-select",function(s,i,c){if(!c)return!1;var n=c.style,r=["Khtml","O","Moz","Webkit"],a=r.length,f="userSelect",g;do if(typeof n[f]<"u")return f;while(a--&&(f=r[a]+"UserSelect"));return!1});var o=l("css-user-select");return u.setSelectable=o?function(s,i){u.byId(s).style[o]=i?"":"none"}:function(s,i){s=u.byId(s);var c=s.getElementsByTagName("*"),n=c.length;if(i)for(s.removeAttribute("unselectable");n--;)c[n].removeAttribute("unselectable");else for(s.setAttribute("unselectable","on");n--;)c[n].setAttribute("unselectable","on")},u},E,P),E.exports=M},"dojo/domReady":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/global"]),e(e.dj.r.absMids["dojo/has"])],M=e.dj.d(b,function(l,A){var m=document,u={loaded:1,complete:1},t=typeof m.readyState!="string",o=!!u[m.readyState],s=[],i;function c(d){s.push(d),o&&n()}c.load=function(d,h,v){c(v)},c._Q=s,c._onQEmpty=function(){},t&&(m.readyState="loading");function n(){if(!i){for(i=!0;s.length;)try{s.shift()(m)}catch(d){console.error(d,"in domReady callback",d.stack)}i=!1,c._onQEmpty()}}if(!o){var r=[],a=function(d){d=d||l.event,!(o||d.type=="readystatechange"&&!u[m.readyState])&&(t&&(m.readyState="complete"),o=1,n())},f=function(d,h){d.addEventListener(h,a,!1),s.push(function(){d.removeEventListener(h,a,!1)})};if(!A("dom-addeventlistener")){f=function(d,h){h="on"+h,d.attachEvent(h,a),s.push(function(){d.detachEvent(h,a)})};var g=m.createElement("div");try{g.doScroll&&l.frameElement===null&&r.push(function(){try{return g.doScroll("left"),1}catch(d){}})}catch(d){}}if(f(m,"DOMContentLoaded"),f(l,"load"),"onreadystatechange"in m?f(m,"readystatechange"):t||r.push(function(){return u[m.readyState]}),r.length){var p=function(){if(!o){for(var d=r.length;d--;)if(r[d]()){a("poller");return}setTimeout(p,30)}};p()}}return c},E,P),E.exports=M},"dojo/errors/CancelError":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/errors/create"])],M=e.dj.d(b,function(l){return l("CancelError",null,null,{dojoType:"cancel",log:!1})},E,P),E.exports=M},"dojo/errors/RequestError":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/errors/create"])],M=e.dj.d(b,function(l){return l("RequestError",function(A,m){this.response=m})},E,P),E.exports=M},"dojo/errors/RequestTimeoutError":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/errors/create"]),e(e.dj.r.absMids["dojo/errors/RequestError"])],M=e.dj.d(b,function(l,A){return l("RequestTimeoutError",null,A,{dojoType:"timeout"})},E,P),E.exports=M},"dojo/errors/create":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/lang"])],M=e.dj.d(b,function(l){return function(A,m,u,t){u=u||Error;var o=function(s){if(u===Error){Error.captureStackTrace&&Error.captureStackTrace(this,o);var i=Error.call(this,s),c;for(c in i)i.hasOwnProperty(c)&&(this[c]=i[c]);this.message=s,this.stack=i.stack}else u.apply(this,arguments);m&&m.apply(this,arguments)};return o.prototype=l.delegate(u.prototype,t),o.prototype.name=A,o.prototype.constructor=o,o}},E,P),E.exports=M},"dojo/global":function(E,P,e){var b;b=function(){return typeof global<"u"&&typeof global!="function"?global:typeof window<"u"?window:typeof self<"u"?self:this}.call(null,e,P,E),b!==void 0&&(E.exports=b)},"dojo/has":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/global"]),e.dj.c(E),e.dj.m(E)],M=e.dj.d(b,function(l,A,m){var u=A.has||function(){};if(!u("dojo-has-api")){var t=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location==location&&window.document==document,o=t&&document,s=o&&o.createElement("DiV"),i=m.config&&m.config()||{};u=function(n){return typeof i[n]=="function"?i[n]=i[n](l,o,s):i[n]},u.cache=i,u.add=function(n,r,a,f){return(typeof i[n]>"u"||f)&&(i[n]=r),a&&u(n)},u.add("host-browser",t),u.add("host-node",typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8),u.add("host-rhino",typeof load=="function"&&(typeof Packages=="function"||typeof Packages=="object")),u.add("dom",t),u.add("dojo-dom-ready-api",1),u.add("dojo-sniff",1)}if(u("host-browser")){u.add("dom-addeventlistener",!!document.addEventListener),u.add("touch","ontouchstart"in document||"onpointerdown"in document&&navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints),u.add("touch-events","ontouchstart"in document),u.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window),u.add("MSPointer",window.navigator.msPointerEnabled),u.add("touch-action",u("touch")&&u("pointer-events")),u.add("device-width",screen.availWidth||innerWidth);var c=document.createElement("form");u.add("dom-attributes-explicit",c.attributes.length==0),u.add("dom-attributes-specified-flag",c.attributes.length>0&&c.attributes.length<40)}return u.clearElement=function(n){return n.innerHTML="",n},u.normalize=function(n,r){var a=n.match(/[\?:]|[^:\?]*/g),f=0,g=function(p){var d=a[f++];return d==":"?0:a[f++]=="?"?!p&&u(d)?g():(g(!0),g(p)):d||0};return n=g(),n&&r(n)},u.load=function(n,r,a){n?r([n],a):a()},u},E,P),E.exports=M},"dojo/io-query":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/lang"])],M=e.dj.d(b,function(l){var A={};return{objectToQuery:function(u){var t=encodeURIComponent,o=[];for(var s in u){var i=u[s];if(i!=A[s]){var c=t(s)+"=";if(l.isArray(i))for(var n=0,r=i.length;n<r;++n)o.push(c+t(i[n]));else o.push(c+t(i))}}return o.join("&")},queryToObject:function(u){for(var t=decodeURIComponent,o=u.split("&"),s={},i,c,n=0,r=o.length,a;n<r;++n)if(a=o[n],a.length){var f=a.indexOf("=");f<0?(i=t(a),c=""):(i=t(a.slice(0,f)),c=t(a.slice(f+1))),typeof s[i]=="string"&&(s[i]=[s[i]]),l.isArray(s[i])?s[i].push(c):s[i]=c}return s}}},E,P),E.exports=M},"dojo/json":(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(__webpack_require__.dj.r.absMids["dojo/has"])],__WEBPACK_AMD_DEFINE_RESULT__=__webpack_require__.dj.d(__WEBPACK_AMD_DEFINE_ARRAY__,function(has){"use strict";var hasJSON=typeof JSON<"u";if(has.add("json-parse",hasJSON),has.add("json-stringify",hasJSON&&JSON.stringify({a:0},function(E,P){return P||1})=='{"a":1}'),has("json-stringify"))return JSON;var escapeString=function(E){return('"'+E.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:has("json-parse")?JSON.parse:function(str,strict){if(strict&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str))throw new SyntaxError("Invalid characters in JSON");return eval("("+str+")")},stringify:function(E,P,e){var b;typeof P=="string"&&(e=P,P=null);function M(l,A,m){P&&(l=P(m,l));var u,t=typeof l;if(t=="number")return isFinite(l)?l+"":"null";if(t=="boolean")return l+"";if(l===null)return"null";if(typeof l=="string")return escapeString(l);if(t=="function"||t=="undefined")return b;if(typeof l.toJSON=="function")return M(l.toJSON(m),A,m);if(l instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(g,p,d){var h=l["getUTC"+p]()+(d?1:0);return h<10?"0"+h:h});if(l.valueOf()!==l)return M(l.valueOf(),A,m);var o=e?A+e:"",s=e?" ":"",i=e?`
`:"";if(l instanceof Array){var c=l.length,n=[];for(m=0;m<c;m++){var r=l[m];u=M(r,o,m),typeof u!="string"&&(u="null"),n.push(i+o+u)}return"["+n.join(",")+i+A+"]"}var a=[];for(m in l){var f;if(l.hasOwnProperty(m)){if(typeof m=="number")f='"'+m+'"';else if(typeof m=="string")f=escapeString(m);else continue;if(u=M(l[m],o,m),typeof u!="string")continue;a.push(i+o+f+":"+s+u)}}return"{"+a.join(",")+i+A+"}"}return M(E,"","")}}},module,exports),module.exports=__WEBPACK_AMD_DEFINE_RESULT__},"dojo/keys":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/sniff"])],M=e.dj.d(b,function(l,A){return l.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:A("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:A("mac")&&!A("air")?A("safari")?91:224:17}},E,P),E.exports=M},"dojo/mouse":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/_base/window"])],M=e.dj.d(b,function(l,A,m,u,t){m.add("dom-quirks",t.doc&&t.doc.compatMode=="BackCompat"),m.add("events-mouseenter",t.doc&&"onmouseenter"in t.doc.createElement("div")),m.add("events-mousewheel",t.doc&&"onmousewheel"in t.doc);var o;m("dom-quirks")&&m("ie")||!m("dom-addeventlistener")?o={LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(c,n){return c.button&n},isLeft:function(c){return c.button&1},isMiddle:function(c){return c.button&4},isRight:function(c){return c.button&2}}:o={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(c,n){return c.button==n},isLeft:function(c){return c.button==0},isMiddle:function(c){return c.button==1},isRight:function(c){return c.button==2}},l.mouseButtons=o;function s(c,n){var r=function(a,f){return A(a,c,function(g){if(n)return n(g,f);if(!u.isDescendant(g.relatedTarget,a))return f.call(this,g)})};return r.bubble=function(a){return s(c,function(f,g){var p=a(f.target),d=f.relatedTarget;if(p&&p!=(d&&d.nodeType==1&&a(d)))return g.call(p,f)})},r}var i;return m("events-mousewheel")?i="mousewheel":i=function(c,n){return A(c,"DOMMouseScroll",function(r){r.wheelDelta=-r.detail,n.call(this,r)})},{_eventHandler:s,enter:s("mouseover"),leave:s("mouseout"),wheel:i,isLeft:o.isLeft,isMiddle:o.isMiddle,isRight:o.isRight}},E,P),E.exports=M},"dojo/on":(E,P,e)=>{var b,M;b=[e.dj.h("dom-addeventlistener?:dojo/aspect"),e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/sniff"])],M=e.dj.d(b,function(l,A,m){"use strict";if(m("dom")){var u=window.ScriptEngineMajorVersion;m.add("jscript",u&&u()+ScriptEngineMinorVersion()/10),m.add("event-orientationchange",m("touch")&&!m("android")),m.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation),m.add("event-focusin",function(j,F,U){return"onfocusin"in U}),m("touch")&&m.add("touch-can-modify-event-delegate",function(){var j=function(){};j.prototype=document.createEvent("MouseEvents");try{var F=new j;return F.target=null,F.target===null}catch(U){return!1}})}var t=function(j,F,U,w){return typeof j.on=="function"&&typeof F!="function"&&!j.nodeType?j.on(F,U):t.parse(j,F,U,s,w,this)};t.pausable=function(j,F,U,w){var I,O=t(j,F,function(){if(!I)return U.apply(this,arguments)},w);return O.pause=function(){I=!0},O.resume=function(){I=!1},O},t.once=function(j,F,U,w){var I=t(j,F,function(){return I.remove(),U.apply(this,arguments)});return I},t.parse=function(j,F,U,w,I,O){var W;if(F.call)return F.call(O,j,U);if(F instanceof Array?W=F:F.indexOf(",")>-1&&(W=F.split(/\s*,\s*/)),W){for(var z=[],N=0,H;H=W[N++];)z.push(t.parse(j,H,U,w,I,O));return z.remove=function(){for(var X=0;X<z.length;X++)z[X].remove()},z}return w(j,F,U,I,O)};var o=/^touch/;function s(j,F,U,w,I){var O=F.match(/(.*):(.*)/);if(O)return F=O[2],O=O[1],t.selector(O,F).call(I,j,U);if(m("touch")&&(o.test(F)&&(U=D(U)),!m("event-orientationchange")&&F=="orientationchange"&&(F="resize",j=window,U=D(U))),g&&(U=g(U)),j.addEventListener){var W=F in a,z=W?a[F]:F;return j.addEventListener(z,U,W),{remove:function(){j.removeEventListener(z,U,W)}}}if(F="on"+F,v&&j.attachEvent)return v(j,F,U);throw new Error("Target must be an event emitter")}t.matches=function(j,F,U,w,I){for(I=I&&typeof I.matches=="function"?I:A.query,w=w!==!1,j.nodeType!=1&&(j=j.parentNode);!I.matches(j,F,U);)if(j==U||w===!1||!(j=j.parentNode)||j.nodeType!=1)return!1;return j},t.selector=function(j,F,U){return function(w,I){var O=typeof j=="function"?{matches:j}:this,W=F.bubble;function z(N){return t.matches(N,j,w,U,O)}return W?t(w,W(z),I):t(w,F,function(N){var H=z(N.target);if(H)return N.selectorTarget=H,I.call(H,N)})}};function i(){this.cancelable=!1,this.defaultPrevented=!0}function c(){this.bubbles=!1}var n=[].slice,r=t.emit=function(j,F,U){var w=n.call(arguments,2),I="on"+F;if("parentNode"in j){var O=w[0]={};for(var W in U)O[W]=U[W];O.preventDefault=i,O.stopPropagation=c,O.target=j,O.type=F,U=O}do j[I]&&j[I].apply(j,w);while(U&&U.bubbles&&(j=j.parentNode));return U&&U.cancelable&&U},a=m("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!m("event-stopimmediatepropagation"))var f=function(){this.immediatelyStopped=!0,this.modified=!0},g=function(j){return function(F){if(!F.immediatelyStopped)return F.stopImmediatePropagation=f,j.apply(this,arguments)}};if(m("dom-addeventlistener"))t.emit=function(j,F,U){if(j.dispatchEvent&&document.createEvent){var w=j.ownerDocument||document,I=w.createEvent("HTMLEvents");I.initEvent(F,!!U.bubbles,!!U.cancelable);for(var O in U)O in I||(I[O]=U[O]);return j.dispatchEvent(I)&&I}return r.apply(t,arguments)};else{t._fixEvent=function(j,F){if(!j){var U=F&&(F.ownerDocument||F.document||F).parentWindow||window;j=U.event}if(!j)return j;try{p&&j.type==p.type&&j.srcElement==p.target&&(j=p)}catch(I){}if(!j.target)switch(j.target=j.srcElement,j.currentTarget=F||j.srcElement,j.type=="mouseover"&&(j.relatedTarget=j.fromElement),j.type=="mouseout"&&(j.relatedTarget=j.toElement),j.stopPropagation||(j.stopPropagation=C,j.preventDefault=S),j.type){case"keypress":var w="charCode"in j?j.charCode:j.keyCode;w==10?(w=0,j.keyCode=13):w==13||w==27?w=0:w==3&&(w=99),j.charCode=w,R(j);break}return j};var p,d=function(j){this.handle=j};d.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var h=function(j){return function(F){F=t._fixEvent(F,this);var U=j.call(this,F);return F.modified&&(p||setTimeout(function(){p=null}),p=F),U}},v=function(j,F,U){if(U=h(U),((j.ownerDocument?j.ownerDocument.parentWindow:j.parentWindow||j.window||window)!=top||m("jscript")<5.8)&&!m("config-_allow_leaks")){typeof _dojoIEListeners_>"u"&&(_dojoIEListeners_=[]);var w=j[F];if(!w||!w.listeners){var I=w;w=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}"),w.listeners=[],j[F]=w,w.global=this,I&&w.listeners.push(_dojoIEListeners_.push(I)-1)}var O;return w.listeners.push(O=w.global._dojoIEListeners_.push(U)-1),new d(O)}return l.after(j,F,U,!0)},R=function(j){j.keyChar=j.charCode?String.fromCharCode(j.charCode):"",j.charOrCode=j.keyChar||j.keyCode},C=function(){this.cancelBubble=!0},S=t._preventDefault=function(){if(this.bubbledKeyCode=this.keyCode,this.ctrlKey)try{this.keyCode=0}catch(j){}this.defaultPrevented=!0,this.returnValue=!1,this.modified=!0}}if(m("touch"))var x=function(){},T=window.orientation,D=function(j){return function(F){var U=F.corrected;if(!U){var w=F.type;try{delete F.type}catch(z){}if(F.type){if(m("touch-can-modify-event-delegate"))x.prototype=F,U=new x;else{U={};for(var I in F)U[I]=F[I]}U.preventDefault=function(){F.preventDefault()},U.stopPropagation=function(){F.stopPropagation()}}else U=F,U.type=w;if(F.corrected=U,w=="resize")return T==window.orientation?null:(T=window.orientation,U.type="orientationchange",j.call(this,U));if("rotation"in U||(U.rotation=0,U.scale=1),window.TouchEvent&&F instanceof TouchEvent){var O=U.changedTouches[0];for(var W in O)delete U[W],U[W]=O[W]}}return j.call(this,U)}};return t},E,P),E.exports=M},"dojo/promise/Promise":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/lang"])],M=e.dj.d(b,function(l){"use strict";function A(){throw new TypeError("abstract")}return l.extend(function(){},{then:function(m,u,t){A()},cancel:function(m,u){A()},isResolved:function(){A()},isRejected:function(){A()},isFulfilled:function(){A()},isCanceled:function(){A()},finally:function(m){return this.then(function(u){var t=m();return t&&typeof t.then=="function"?t.then(function(){return u}):u},function(u){var t=m();if(t&&typeof t.then=="function")return t.then(function(){throw u});throw u})},always:function(m){return this.then(m,m)},catch:function(m){return this.then(null,m)},otherwise:function(m){return this.then(null,m)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})},E,P),E.exports=M},"dojo/promise/all":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["dojo/when"])],M=e.dj.d(b,function(l,A,m,u){"use strict";var t=l.some;return function(s){var i,c;A.isArray(s)?c=s:s&&typeof s=="object"&&(i=s);var n,r=[];if(i){c=[];for(var a in i)Object.hasOwnProperty.call(i,a)&&(r.push(a),c.push(i[a]));n={}}else c&&(n=[]);if(!c||!c.length)return new m().resolve(n);var f=new m;f.promise.always(function(){n=r=null});var g=c.length;return t(c,function(p,d){return i||r.push(d),u(p,function(h){f.isFulfilled()||(n[r[d]]=h,--g===0&&f.resolve(n))},f.reject),f.isFulfilled()}),f.promise}},E,P),E.exports=M},"dojo/request/handlers":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/json"]),e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids.cf152a4f214cffacdf8dcedceed83d22ebcdca21)],M=e.dj.d(b,function(l,A,m,u){u.add("activex",typeof ActiveXObject<"u"),u.add("dom-parser",function(r){return"DOMParser"in r});var t;if(u("activex")){var o=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"],s;t=function(r){var a=r.data,f=r.text;a&&u("dom-qsa2.1")&&!a.querySelectorAll&&u("dom-parser")&&(a=new DOMParser().parseFromString(f,"application/xml"));function g(p){try{var d=new ActiveXObject(p);d.async=!1,d.loadXML(f),a=d,s=p}catch(h){return!1}return!0}return(!a||!a.documentElement)&&(!s||!g(s))&&m.some(o,g),a}}var i=function(r){return!u("native-xhr2-blob")&&r.options.handleAs==="blob"&&typeof Blob<"u"?new Blob([r.xhr.response],{type:r.xhr.getResponseHeader("Content-Type")}):r.xhr.response},c={javascript:function(r){return A.eval(r.text||"")},json:function(r){return l.parse(r.text||null)},xml:t,blob:i,arraybuffer:i,document:i};function n(r){var a=c[r.options.handleAs];return r.data=a?a(r):r.data||r.text,r}return n.register=function(r,a){c[r]=a},n},E,P),E.exports=M},"dojo/request/script":(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__.dj.m(module),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/request/watch"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/request/util"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/kernel"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/array"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/lang"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/on"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/dom"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/dom-construct"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/has"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/window"])],__WEBPACK_AMD_DEFINE_RESULT__=__webpack_require__.dj.d(__WEBPACK_AMD_DEFINE_ARRAY__,function(module,watch,util,kernel,array,lang,on,dom,domConstruct,has,win){has.add("script-readystatechange",function(E,P){var e=P.createElement("script");return typeof e.onreadystatechange<"u"&&(typeof E.opera>"u"||E.opera.toString()!=="[object Opera]")});var mid=module.id.replace(/[\/\.\-]/g,"_"),counter=0,loadEvent=has("script-readystatechange")?"readystatechange":"load",readyRegExp=/complete|loaded/,callbacks=kernel.global[mid+"_callbacks"]={},deadScripts=[];function attach(E,P,e,b){var M=e||win.doc,l=M.createElement("script");b&&on.once(l,"error",b),l.type="text/javascript";try{l.src=P}catch(A){b&&b(l)}return l.id=E,l.async=!0,l.charset="utf-8",M.getElementsByTagName("head")[0].appendChild(l)}function remove(E,P,e){domConstruct.destroy(dom.byId(E,P)),callbacks[E]&&(e?callbacks[E]=function(){delete callbacks[E]}:delete callbacks[E])}function _addDeadScript(E){var P=E.response.options,e=P.ioArgs?P.ioArgs.frameDoc:P.frameDoc;deadScripts.push({id:E.id,frameDoc:e}),P.ioArgs&&(P.ioArgs.frameDoc=null),P.frameDoc=null}function canceler(E,P){E.canDelete&&script._remove(E.id,P.options.frameDoc,!0)}function isValid(E){return deadScripts&&deadScripts.length&&(array.forEach(deadScripts,function(P){script._remove(P.id,P.frameDoc),P.frameDoc=null}),deadScripts=[]),E.options.jsonp?!E.data:!0}function isReadyScript(E){return!!this.scriptLoaded}function isReadyCheckString(response){var checkString=response.options.checkString;return checkString&&eval("typeof("+checkString+') !== "undefined"')}function handleResponse(E,P){this.canDelete&&_addDeadScript(this),P?this.reject(P):this.resolve(E)}function script(E,P,e){var b=util.parseArgs(E,util.deepCopy({},P));E=b.url,P=b.options;var M=util.deferred(b,canceler,isValid,P.jsonp?null:P.checkString?isReadyCheckString:isReadyScript,handleResponse);if(lang.mixin(M,{id:mid+counter++,canDelete:!1}),P.jsonp){var l=new RegExp("[?&]"+P.jsonp+"=");l.test(E)||(E+=(~E.indexOf("?")?"&":"?")+P.jsonp+"="+(P.frameDoc?"parent.":"")+mid+"_callbacks."+M.id),M.canDelete=!0,callbacks[M.id]=function(u){b.data=u,M.handleResponse(b)}}if(util.notify&&util.notify.emit("send",b,M.promise.cancel),!P.canAttach||P.canAttach(M)){var A=script._attach(M.id,E,P.frameDoc,function(u){if(!(u instanceof Error)){var t=new Error("Error loading "+(u.target?u.target.src:"script"));t.source=u,u=t}M.reject(u),script._remove(M.id,P.frameDoc,!0)});if(!P.jsonp&&!P.checkString)var m=on(A,loadEvent,function(u){(u.type==="load"||readyRegExp.test(A.readyState))&&(m.remove(),M.scriptLoaded=u)})}return watch(M),e?M:M.promise}return script.get=script,script._attach=attach,script._remove=remove,script._callbacksProperty=mid+"_callbacks",script},module,exports),module.exports=__WEBPACK_AMD_DEFINE_RESULT__},"dojo/request/util":(E,P,e)=>{var b,M;b=[P,e(e.dj.r.absMids["dojo/errors/RequestError"]),e(e.dj.r.absMids["dojo/errors/CancelError"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["dojo/io-query"]),e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/promise/Promise"]),e(e.dj.r.absMids["dojo/has"])],M=e.dj.d(b,function(l,A,m,u,t,o,s,i,c){function n(v){return c("native-arraybuffer")&&v instanceof ArrayBuffer}function r(v){return c("native-blob")&&v instanceof Blob}function a(v){return typeof Element<"u"?v instanceof Element:v.nodeType===1}function f(v){return c("native-formdata")&&v instanceof FormData}function g(v){return v&&typeof v=="object"&&!f(v)&&!a(v)&&!r(v)&&!n(v)}l.deepCopy=function(v,R){for(var C in R){var S=v[C],x=R[C];C!=="__proto__"&&S!==x&&(g(x)?Object.prototype.toString.call(x)==="[object Date]"?v[C]=new Date(x):s.isArray(x)?v[C]=l.deepCopyArray(x):S&&typeof S=="object"?l.deepCopy(S,x):v[C]=l.deepCopy({},x):v[C]=x)}return v},l.deepCopyArray=function(v){for(var R=[],C=0,S=v.length;C<S;C++){var x=v[C];typeof x=="object"?R.push(l.deepCopy({},x)):R.push(x)}return R},l.deepCreate=function(R,C){C=C||{};var S=s.delegate(R),x,T;for(x in R)T=R[x],T&&typeof T=="object"&&(S[x]=l.deepCreate(T,C[x]));return l.deepCopy(S,C)};var p=Object.freeze||function(v){return v};function d(v){return p(v)}function h(v){return v.data!==void 0?v.data:v.text}l.deferred=function(R,C,S,x,T,D){var j=new u(function(W){return C&&C(j,R),!W||!(W instanceof A)&&!(W instanceof m)?new m("Request canceled",R):W});j.response=R,j.isValid=S,j.isReady=x,j.handleResponse=T;function F(W){throw W.response=R,W}var U=j.then(d).otherwise(F);l.notify&&U.then(s.hitch(l.notify,"emit","load"),s.hitch(l.notify,"emit","error"));var w=U.then(h),I=new i;for(var O in w)w.hasOwnProperty(O)&&(I[O]=w[O]);return I.response=U,p(I),D&&j.then(function(W){D.call(j,W)},function(W){D.call(j,R,W)}),j.promise=I,j.then=I.then,j},l.addCommonMethods=function(R,C){o.forEach(C||["GET","POST","PUT","DELETE"],function(S){R[(S==="DELETE"?"DEL":S).toLowerCase()]=function(x,T){return T=s.delegate(T||{}),T.method=S,R(x,T)}})},l.parseArgs=function(R,C,S){var x=C.data,T=C.query;return x&&!S&&typeof x=="object"&&(!c("native-xhr2")||!(n(x)||r(x)))&&(C.data=t.objectToQuery(x)),T?(typeof T=="object"&&(T=t.objectToQuery(T)),C.preventCache&&(T+=(T?"&":"")+"request.preventCache="+ +new Date)):C.preventCache&&(T="request.preventCache="+ +new Date),R&&T&&(R+=(~R.indexOf("?")?"&":"?")+T),{url:R,options:C,getHeader:function(D){return null}}},l.checkStatus=function(v){return v=v||0,v>=200&&v<300||v===304||v===1223||!v}},E,P),E.exports=M},"dojo/request/watch":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/request/util"]),e(e.dj.r.absMids["dojo/errors/RequestTimeoutError"]),e(e.dj.r.absMids["dojo/errors/CancelError"]),e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/_base/window"]),e.dj.h("dom-addeventlistener?:dojo/on")],M=e.dj.d(b,function(l,A,m,u,t,o){var s=null,i=[];function c(){for(var r=+new Date,a=0,f;a<i.length&&(f=i[a]);a++){var g=f.response,p=g.options;f.isCanceled&&f.isCanceled()||f.isValid&&!f.isValid(g)?(i.splice(a--,1),n._onAction&&n._onAction()):f.isReady&&f.isReady(g)?(i.splice(a--,1),f.handleResponse(g),n._onAction&&n._onAction()):f.startTime&&f.startTime+(p.timeout||0)<r&&(i.splice(a--,1),f.cancel(new A("Timeout exceeded",g)),n._onAction&&n._onAction())}n._onInFlight&&n._onInFlight(f),i.length||(clearInterval(s),s=null)}function n(r){r.response.options.timeout&&(r.startTime=+new Date),!r.isFulfilled()&&(i.push(r),s||(s=setInterval(c,50)),r.response.options.sync&&c())}return n.cancelAll=function(){try{u.forEach(i,function(a){try{a.cancel(new m("All requests canceled."))}catch(f){}})}catch(a){}},t&&o&&t.doc.attachEvent&&o(t.global,"unload",function(){n.cancelAll()}),n},E,P),E.exports=M},"dojo/request/xhr":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/errors/RequestError"]),e(e.dj.r.absMids["dojo/request/watch"]),e(e.dj.r.absMids["dojo/request/handlers"]),e(e.dj.r.absMids["dojo/request/util"]),e(e.dj.r.absMids["dojo/has"])],M=e.dj.d(b,function(l,A,m,u,t){t.add("native-xhr",function(){return typeof XMLHttpRequest<"u"}),t.add("dojo-force-activex-xhr",function(){return t("activex")&&window.location.protocol==="file:"}),t.add("native-xhr2",function(){if(!(!t("native-xhr")||t("dojo-force-activex-xhr"))){var d=new XMLHttpRequest;return typeof d.addEventListener<"u"&&(typeof opera>"u"||typeof d.upload<"u")}}),t.add("native-formdata",function(){return typeof FormData<"u"}),t.add("native-blob",function(){return typeof Blob<"u"}),t.add("native-arraybuffer",function(){return typeof ArrayBuffer<"u"}),t.add("native-response-type",function(){return t("native-xhr")&&typeof new XMLHttpRequest().responseType<"u"}),t.add("native-xhr2-blob",function(){if(t("native-response-type"))return!0});var o={blob:t("native-xhr2-blob")?"blob":"arraybuffer",document:"document",arraybuffer:"arraybuffer"};function s(d,h){var v=d.xhr;d.status=d.xhr.status;try{d.text=v.responseText}catch(C){}d.options.handleAs==="xml"&&(d.data=v.responseXML);var R;if(h)this.reject(h);else{try{m(d)}catch(C){R=C}u.checkStatus(v.status)?R?this.reject(R):this.resolve(d):R?(h=new l("Unable to load "+d.url+" status: "+v.status+" and an error in handleAs: transformation of response",d),this.reject(h)):(h=new l("Unable to load "+d.url+" status: "+v.status,d),this.reject(h))}}var i,c,n,r;t("native-xhr2")?(i=function(d){return!this.isFulfilled()},r=function(d,h){h.xhr.abort()},n=function(d,h,v,R){function C(j){h.handleResponse(v)}function S(j){var F=j.target,U=new l("Unable to load "+v.url+" status: "+F.status,v);h.handleResponse(v,U)}function x(j,F){v.transferType=j,F.lengthComputable?(v.loaded=F.loaded,v.total=F.total,h.progress(v)):v.xhr.readyState===3&&(v.loaded="loaded"in F?F.loaded:F.position,h.progress(v))}function T(j){return x("download",j)}function D(j){return x("upload",j)}return d.addEventListener("load",C,!1),d.addEventListener("error",S,!1),d.addEventListener("progress",T,!1),R&&d.upload&&d.upload.addEventListener("progress",D,!1),function(){d.removeEventListener("load",C,!1),d.removeEventListener("error",S,!1),d.removeEventListener("progress",T,!1),d.upload.removeEventListener("progress",D,!1),d=null}}):(i=function(d){return d.xhr.readyState},c=function(d){return d.xhr.readyState===4},r=function(d,h){var v=h.xhr,R=typeof v.abort;(R==="function"||R==="object"||R==="unknown")&&v.abort()});function a(d){return this.xhr.getResponseHeader(d)}var f,g={data:null,query:null,sync:!1,method:"GET"};function p(d,h,v){var R=t("native-formdata")&&h&&h.data&&h.data instanceof FormData,C=u.parseArgs(d,u.deepCreate(g,h),R);d=C.url,h=C.options;var S=!h.data&&h.method!=="POST"&&h.method!=="PUT";t("ie")<=10&&(d=d.split("#")[0]);var x,T=function(){x&&x()},D=u.deferred(C,r,i,c,s,T),j=C.xhr=p._create();if(!j)return D.cancel(new l("XHR was not created")),v?D:D.promise;C.getHeader=a,n&&(x=n(j,D,C,h.uploadProgress));var F=typeof h.data>"u"?null:h.data,U=!h.sync,w=h.method;try{j.open(w,d,U,h.user||f,h.password||f),h.withCredentials&&(j.withCredentials=h.withCredentials),t("native-response-type")&&h.handleAs in o&&(j.responseType=o[h.handleAs]);var I=h.headers,O=R||S?!1:"application/x-www-form-urlencoded";if(I)for(var W in I)W.toLowerCase()==="content-type"?O=I[W]:I[W]&&j.setRequestHeader(W,I[W]);O&&O!==!1&&j.setRequestHeader("Content-Type",O),(!I||!("X-Requested-With"in I))&&j.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.notify&&u.notify.emit("send",C,D.promise.cancel),j.send(F)}catch(z){D.reject(z)}return A(D),j=null,v?D:D.promise}if(p._create=function(){throw new Error("XMLHTTP not available")},t("native-xhr")&&!t("dojo-force-activex-xhr"))p._create=function(){return new XMLHttpRequest};else if(t("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),p._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(d){try{new ActiveXObject("Microsoft.XMLHTTP"),p._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(h){}}return u.addCommonMethods(p),p},E,P),E.exports=M},"dojo/sniff":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/has"])],M=e.dj.d(b,function(l){if(l("host-browser")){var A=navigator,m=A.userAgent,u=A.appVersion,t=parseFloat(u);if(l.add("air",m.indexOf("AdobeAIR")>=0),l.add("wp",parseFloat(m.split("Windows Phone")[1])||void 0),l.add("msapp",parseFloat(m.split("MSAppHost/")[1])||void 0),l.add("khtml",u.indexOf("Konqueror")>=0?t:void 0),l.add("edge",parseFloat(m.split("Edge/")[1])||void 0),l.add("opr",parseFloat(m.split("OPR/")[1])||void 0),l.add("webkit",!l("wp")&&!l("edge")&&parseFloat(m.split("WebKit/")[1])||void 0),l.add("chrome",!l("edge")&&!l("opr")&&parseFloat(m.split("Chrome/")[1])||void 0),l.add("android",!l("wp")&&parseFloat(m.split("Android ")[1])||void 0),l.add("safari",u.indexOf("Safari")>=0&&!l("wp")&&!l("chrome")&&!l("android")&&!l("edge")&&!l("opr")?parseFloat(u.split("Version/")[1]):void 0),l.add("mac",u.indexOf("Macintosh")>=0),l.add("quirks",document.compatMode=="BackCompat"),!l("wp")&&m.match(/(iPhone|iPod|iPad)/)){var o=RegExp.$1.replace(/P/,"p"),s=m.match(/OS ([\d_]+)/)?RegExp.$1:"1",i=parseFloat(s.replace(/_/,".").replace(/_/g,""));l.add(o,i),l.add("ios",i)}if(l.add("bb",(m.indexOf("BlackBerry")>=0||m.indexOf("BB10")>=0)&&parseFloat(m.split("Version/")[1])||void 0),l.add("trident",parseFloat(u.split("Trident/")[1])||void 0),l.add("svg",typeof SVGAngle<"u"),!l("webkit")){if(m.indexOf("Opera")>=0&&l.add("opera",t>=9.8&&parseFloat(m.split("Version/")[1])||t),m.indexOf("Gecko")>=0&&!l("wp")&&!l("khtml")&&!l("trident")&&!l("edge")&&l.add("mozilla",t),l("mozilla")&&l.add("ff",parseFloat(m.split("Firefox/")[1]||m.split("Minefield/")[1])||void 0),document.all&&!l("opera")){var c=parseFloat(u.split("MSIE ")[1])||void 0,n=document.documentMode;n&&n!=5&&Math.floor(c)!=n&&(c=n),l.add("ie",c)}l.add("wii",typeof opera<"u"&&opera.wiiremote)}}return l},E,P),E.exports=M},"dojo/topic":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/Evented"])],M=e.dj.d(b,function(l){var A=new l;return{publish:function(m,u){return A.emit.apply(A,arguments)},subscribe:function(m,u){return A.on.apply(A,arguments)}}},E,P),E.exports=M},"dojo/when":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["dojo/promise/Promise"])],M=e.dj.d(b,function(l,A){"use strict";return function(u,t,o,s){var i=u&&typeof u.then=="function",c=i&&u instanceof A;if(i){if(!c){var n=new l(u.cancel);u.then(n.resolve,n.reject,n.progress),u=n.promise}}else return arguments.length>1?t?t(u):u:new l().resolve(u);return t||o||s?u.then(t,o,s):u}},E,P),E.exports=M},cf152a4f214cffacdf8dcedceed83d22ebcdca21:E=>{E.exports=void 0},"dojo/domReady!":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/domReady"]),e("mwBundle.richcontent_preview_plugin|9e275ba333060b013480258f3be4574e5452b4ab"),e(e.dj.r.absMids.cf152a4f214cffacdf8dcedceed83d22ebcdca21)],M=e.dj.d(b,function(l,A){return A(l,"",e.dj.c(),!0)},E,P),E.exports=M},"mw-remote/serviceRegistryLookup!":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["mw-remote/serviceRegistryLookup"]),e("mwBundle.richcontent_preview_plugin|9e275ba333060b013480258f3be4574e5452b4ab"),e(e.dj.r.absMids.cf152a4f214cffacdf8dcedceed83d22ebcdca21)],M=e.dj.d(b,function(l,A){return A(l,"",e.dj.c(),!0)},E,P),E.exports=M},"9e275ba333060b013480258f3be4574e5452b4ab":(E,P,e)=>{var b,M;b=[],M=e.dj.d(b,function(){return function(l,A,m,u){var t,o,s;if(l.load(A,m,function(i){o=i,s=!0,t&&t(i)},{isBuild:!0}),s)return o;if(!u)throw new Error(A+" unavailable");return o=new Promise(function(i){t=i}),o.__DOJO_WEBPACK_DEFINE_PROMISE__=!0,o}},E,P),E.exports=M},"cometd/AckExtension":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["cometd/cometd"])],M=e.dj.d(b,function(l){"use strict";var A={};return A.default=l.AckExtension=function(){let m,u=!1,t;function o(s,i){m._debug(s,i)}this.registered=(s,i)=>{m=i,o("AckExtension: executing registration callback")},this.unregistered=()=>{o("AckExtension: executing unregistration callback"),m=null},this.incoming=s=>{const i=s.channel,c=s.ext;if(i==="/meta/handshake"){if(c){const n=c.ack;if(typeof n=="object"){u=n.enabled===!0;const r=n.batch;typeof r=="number"&&(t=r)}else u=n===!0}o("AckExtension: server supports acknowledgements",u)}else i==="/meta/connect"&&s.successful&&u&&c&&typeof c.ack=="number"&&(t=c.ack,o("AckExtension: server sent batch",t));return s},this.outgoing=s=>{const i=s.channel;return s.ext||(s.ext={}),i==="/meta/handshake"?(s.ext.ack=m&&m.ackEnabled!==!1,u=!1,t=0):i==="/meta/connect"&&u&&(s.ext.ack=t,o("AckExtension: client sending batch",t)),s}},A.default},E,P),E.exports=M},"cometd/cometd":(E,P,e)=>{var b,M;b=[],M=e.dj.d(b,function(){"use strict";var l={};function A(){let p=0;const d={};this.register=h=>{const v=++p;return d[v]=h,v},this.unregister=h=>{const v=d[h];return delete d[h],v},this.setTimeout=(h,v)=>window.setTimeout(h,v),this.clearTimeout=h=>{window.clearTimeout(h)}}function m(){const p={};self.onmessage=d=>{const h=d.data,v=p[h.id];switch(h.type){case"setTimeout":p[h.id]=self.setTimeout(()=>{delete p[h.id],self.postMessage({id:h.id})},h.delay);break;case"clearTimeout":delete p[h.id],v&&self.clearTimeout(v);break;default:throw"Unknown command "+h.type}}}const u={isString:p=>p==null?!1:typeof p=="string"||p instanceof String};function t(){let p=[],d={};this.getTransportTypes=()=>p.slice(0),this.findTransportTypes=(h,v,R)=>{const C=[];for(let S=0;S<p.length;++S){const x=p[S];d[x].accept(h,v,R)===!0&&C.push(x)}return C},this.negotiateTransport=(h,v,R,C)=>{for(let S=0;S<p.length;++S){const x=p[S];for(let T=0;T<h.length;++T)if(x===h[T]){const D=d[x];if(D.accept(v,R,C)===!0)return D}}return null},this.add=(h,v,R)=>{let C=!1;for(let S=0;S<p.length;++S)if(p[S]===h){C=!0;break}return C||(typeof R!="number"?p.push(h):p.splice(R,0,h),d[h]=v),!C},this.find=h=>{for(let v=0;v<p.length;++v)if(p[v]===h)return d[h];return null},this.remove=h=>{for(let v=0;v<p.length;++v)if(p[v]===h){p.splice(v,1);const R=d[h];return delete d[h],R}return null},this.clear=()=>{p=[],d={}},this.reset=h=>{for(let v=0;v<p.length;++v)d[p[v]].reset(h)}}function o(){let p,d,h;this.registered=(v,R)=>{p=v,d=R},this.unregistered=()=>{p=null,d=null},this._notifyTransportTimeout=function(v){const R=d._getTransportListeners("timeout");if(R)for(let C=0;C<R.length;++C){const S=R[C];try{const x=S.call(this,v);if(typeof x=="number"&&x>0)return x}catch(x){this._info("Exception during execution of transport listener",S,x)}}return 0},this._debug=function(){d._debug.apply(d,arguments)},this._info=function(){d._info.apply(d,arguments)},this._mixin=function(){return d._mixin.apply(d,arguments)},this.getConfiguration=()=>d.getConfiguration(),this.getAdvice=()=>d.getAdvice(),this.setTimeout=(v,R)=>d.setTimeout(v,R),this.clearTimeout=v=>{d.clearTimeout(v)},this.convertToJSON=function(v){const R=this.getConfiguration().maxSendBayeuxMessageSize;let C="[";for(let S=0;S<v.length;++S){S>0&&(C+=",");const x=v[S],T=JSON.stringify(x);if(T.length>R)throw"maxSendBayeuxMessageSize "+R+" exceeded";C+=T}return C+="]",C},this.convertToMessages=function(v){if(u.isString(v))try{return JSON.parse(v)}catch(R){throw this._debug("Could not convert to JSON the following string",'"'+v+'"'),R}if(Array.isArray(v))return v;if(v==null)return[];if(v instanceof Object)return[v];throw"Conversion Error "+v+", typeof "+typeof v},this.accept=(v,R,C)=>{throw"Abstract"},this.getType=()=>p,this.getURL=()=>h,this.setURL=v=>{h=v},this.send=(v,R)=>{throw"Abstract"},this.reset=function(v){this._debug("Transport",p,"reset",v?"initial":"retry")},this.abort=function(){this._debug("Transport",p,"aborted")},this.toString=function(){return this.getType()}}o.derive=p=>{function d(){}return d.prototype=p,new d};function s(){const p=new o,d=o.derive(p);let h=0,v=null,R=[],C=[];function S(w){for(;C.length>0;){const I=C[0],O=I[0],W=I[1];if(O.url===w.url&&O.sync===w.sync){C.shift(),w.messages=w.messages.concat(O.messages),this._debug("Coalesced",O.messages.length,"messages from request",W.id);continue}break}}function x(w,I,O){const W=this._notifyTransportTimeout(w.messages);if(W>0)this._debug("Transport",this.getType(),"extended waiting for message replies of request",I.id,":",W,"ms"),I.timeout=this.setTimeout(()=>{x.call(this,w,I,O+W)},W);else{I.expired=!0;const z="Transport "+this.getType()+" expired waiting for message replies of request "+I.id+": "+O+" ms",N={reason:z},H=I.xhr;N.httpCode=this.xhrStatus(H),this.abortXHR(H),this._debug(z),this.complete(I,!1,I.metaConnect),w.onFailure(H,w.messages,N)}}function T(w,I){if(this.transportSend(w,I)&&(I.expired=!1,!w.sync)){let O=this.getConfiguration().maxNetworkDelay;I.metaConnect===!0&&(O+=this.getAdvice().timeout),this._debug("Transport",this.getType(),"started waiting for message replies of request",I.id,":",O,"ms"),I.timeout=this.setTimeout(()=>{x.call(this,w,I,O)},O)}}function D(w){const I=++h,O={id:I,metaConnect:!1,envelope:w};R.length<this.getConfiguration().maxConnections-1?(R.push(O),T.call(this,w,O)):(this._debug("Transport",this.getType(),"queueing request",I,"envelope",w),C.push([w,O]))}function j(w){const I=w.id;if(this._debug("Transport",this.getType(),"/meta/connect complete, request",I),v!==null&&v.id!==I)throw"/meta/connect request mismatch, completing request "+I;v=null}function F(w,I){const O=R.indexOf(w);if(O>=0&&R.splice(O,1),C.length>0){const W=C.shift(),z=W[0],N=W[1];this._debug("Transport dequeued request",N.id),I?(this.getConfiguration().autoBatch&&S.call(this,z),D.call(this,z),this._debug("Transport completed request",w.id,z)):this.setTimeout(()=>{this.complete(N,!1,N.metaConnect);const H={reason:"Previous request failed"},X=N.xhr;H.httpCode=this.xhrStatus(X),z.onFailure(X,z.messages,H)},0)}}d.complete=function(w,I,O){O?j.call(this,w):F.call(this,w,I)},d.transportSend=(w,I)=>{throw"Abstract"},d.transportSuccess=function(w,I,O){I.expired||(this.clearTimeout(I.timeout),this._debug("Transport",this.getType(),"cancelled waiting for message replies"),this.complete(I,!0,I.metaConnect),O&&O.length>0?w.onSuccess(O):w.onFailure(I.xhr,w.messages,{httpCode:204}))},d.transportFailure=function(w,I,O){I.expired||(this.clearTimeout(I.timeout),this._debug("Transport",this.getType(),"cancelled waiting for failed message replies"),this.complete(I,!1,I.metaConnect),w.onFailure(I.xhr,w.messages,O))};function U(w){if(v!==null)throw"Concurrent /meta/connect requests not allowed, request id="+v.id+" not yet completed";const I=++h;this._debug("Transport",this.getType(),"/meta/connect send, request",I,"envelope",w);const O={id:I,metaConnect:!0,envelope:w};T.call(this,w,O),v=O}return d.send=function(w,I){I?U.call(this,w):D.call(this,w)},d.abort=function(){p.abort();for(let I=0;I<R.length;++I){const O=R[I];O&&(this._debug("Aborting request",O),this.abortXHR(O.xhr)||this.transportFailure(O.envelope,O,{reason:"abort"}))}const w=v;w&&(this._debug("Aborting /meta/connect request",w),this.abortXHR(w.xhr)||this.transportFailure(w.envelope,w,{reason:"abort"})),this.reset(!0)},d.reset=w=>{p.reset(w),v=null,R=[],C=[]},d.abortXHR=function(w){if(w)try{const I=w.readyState;return w.abort(),I!==window.XMLHttpRequest.UNSENT}catch(I){this._debug(I)}return!1},d.xhrStatus=function(w){if(w)try{return w.status}catch(I){this._debug(I)}return-1},d}function i(){const p=new s,d=o.derive(p);let h=!0;d.accept=(R,C,S)=>h||!C,d.newXMLHttpRequest=()=>new window.XMLHttpRequest;function v(R){try{R.context=d.context}catch(C){d._debug("Could not copy transport context into XHR",C)}}return d.xhrSend=R=>{const C=d.newXMLHttpRequest();v(C),C.withCredentials=!0,C.open("POST",R.url,R.sync!==!0);const S=R.headers;if(S)for(let x in S)S.hasOwnProperty(x)&&C.setRequestHeader(x,S[x]);return C.setRequestHeader("Content-Type","application/json;charset=UTF-8"),C.onload=()=>{C.status===200?R.onSuccess(C.responseText):R.onError(C.statusText)},C.onabort=C.onerror=()=>{R.onError(C.statusText)},C.send(R.body),C},d.transportSend=function(R,C){this._debug("Transport",this.getType(),"sending request",C.id,"envelope",R);try{let S=!0;return C.xhr=this.xhrSend({transport:this,url:R.url,sync:R.sync,headers:this.getConfiguration().requestHeaders,body:this.convertToJSON(R.messages),onSuccess:x=>{this._debug("Transport",this.getType(),"received response",x);let T=!1;try{const D=this.convertToMessages(x);D.length===0?(h=!1,this.transportFailure(R,C,{httpCode:204})):(T=!0,this.transportSuccess(R,C,D))}catch(D){if(this._debug(D),!T){h=!1;const j={exception:D};j.httpCode=this.xhrStatus(C.xhr),this.transportFailure(R,C,j)}}},onError:(x,T)=>{this._debug("Transport",this.getType(),"received error",x,T),h=!1;const D={reason:x,exception:T};D.httpCode=this.xhrStatus(C.xhr),S?this.setTimeout(()=>{this.transportFailure(R,C,D)},0):this.transportFailure(R,C,D)}}),S=!1,!0}catch(S){return this._debug("Transport",this.getType(),"exception:",S),h=!1,this.setTimeout(()=>{this.transportFailure(R,C,{exception:S})},0),!1}},d.reset=R=>{p.reset(R),h=!0},d}function c(){const p=new s,d=o.derive(p);let h=0;d.accept=(R,C,S)=>!0,d.jsonpSend=R=>{const C=document.getElementsByTagName("head")[0],S=document.createElement("script"),x="_cometd_jsonp_"+h++;window[x]=D=>{C.removeChild(S),delete window[x],R.onSuccess(D)};let T=R.url;T+=T.indexOf("?")<0?"?":"&",T+="jsonp="+x,T+="&message="+encodeURIComponent(R.body),S.src=T,S.async=R.sync!==!0,S.type="application/javascript",S.onerror=D=>{R.onError("jsonp "+D.type)},C.appendChild(S)};function v(R,C,S){return()=>{this.transportFailure(R,C,"error",S)}}return d.transportSend=function(R,C){let S=0,x=R.messages.length;const T=[];for(;x>0;){const j=JSON.stringify(R.messages.slice(S,S+x)),F=R.url.length+encodeURI(j).length,U=this.getConfiguration().maxURILength;if(F>U){if(x===1){const w="Bayeux message too big ("+F+" bytes, max is "+U+") for transport "+this.getType();this.setTimeout(v.call(this,R,C,w),0);return}--x;continue}T.push(x),S+=x,x=R.messages.length-S}let D=R;if(T.length>1){let j=0,F=T[0];this._debug("Transport",this.getType(),"split",R.messages.length,"messages into",T.join(" + ")),D=this._mixin(!1,{},R),D.messages=R.messages.slice(j,F),D.onSuccess=R.onSuccess,D.onFailure=R.onFailure;for(let U=1;U<T.length;++U){const w=this._mixin(!1,{},R);j=F,F+=T[U],w.messages=R.messages.slice(j,F),w.onSuccess=R.onSuccess,w.onFailure=R.onFailure,this.send(w,C.metaConnect)}}this._debug("Transport",this.getType(),"sending request",C.id,"envelope",D);try{let j=!0;return this.jsonpSend({transport:this,url:D.url,sync:D.sync,headers:this.getConfiguration().requestHeaders,body:JSON.stringify(D.messages),onSuccess:F=>{let U=!1;try{const w=this.convertToMessages(F);w.length===0?this.transportFailure(D,C,{httpCode:204}):(U=!0,this.transportSuccess(D,C,w))}catch(w){this._debug(w),U||this.transportFailure(D,C,{exception:w})}},onError:(F,U)=>{const w={reason:F,exception:U};j?this.setTimeout(()=>{this.transportFailure(D,C,w)},0):this.transportFailure(D,C,w)}}),j=!1,!0}catch(j){return this.setTimeout(()=>{this.transportFailure(D,C,{exception:j})},0),!1}},d}function n(){const p=new o,d=o.derive(p);let h,v=!0,R=!1,C=!0,S=null,x=null,T=!1,D=null;d.reset=N=>{p.reset(N),v=!0,N&&(R=!1),C=!0,N&&(S=null),x=null,T=!1};function j(N,H){N&&(this.webSocketClose(N,H.code,H.reason),this.onClose(N,H))}function F(N){return N===x||N===S}function U(N,H,X){const G=[];for(let k=0;k<H.messages.length;++k){const _=H.messages[k];_.id&&G.push(_.id)}N.envelopes[G.join(",")]=[H,X],this._debug("Transport",this.getType(),"stored envelope, envelopes",N.envelopes)}function w(N,H){let X=!1;const G=N.envelopes;for(let k=0;k<H.length;++k){const _=H[k];for(let Q in G)if(G.hasOwnProperty(Q)){const Z=Q.split(","),ne=Z.indexOf(_);if(ne>=0){X=!0,Z.splice(ne,1);const ie=G[Q][0],oe=G[Q][1];delete G[Q],Z.length>0&&(G[Z.join(",")]=[ie,oe]);break}}}X&&this._debug("Transport",this.getType(),"removed envelope, envelopes",G)}function I(N){if(x)return;const H=h.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",H);try{const Q=h.getConfiguration().protocol;N.webSocket=Q?new window.WebSocket(H,Q):new window.WebSocket(H),x=N}catch(Q){throw v=!1,this._debug("Exception while creating WebSocket object",Q),Q}C=h.getConfiguration().stickyReconnect!==!1;const X=h.getConfiguration().connectTimeout;X>0&&(N.connectTimer=this.setTimeout(()=>{h._debug("Transport",this.getType(),"timed out while connecting to URL",H,":",X,"ms"),j.call(this,N,{code:1e3,reason:"Connect Timeout"})},X));const G=()=>{h._debug("WebSocket onopen",N),N.connectTimer&&this.clearTimeout(N.connectTimer),F(N)?(x=null,S=N,R=!0,this.onOpen(N)):(h._warn("Closing extra WebSocket connection",this,"active connection",S),j.call(this,N,{code:1e3,reason:"Extra Connection"}))},k=Q=>{Q=Q||{code:1e3},h._debug("WebSocket onclose",N,Q,"connecting",x,"current",S),N.connectTimer&&this.clearTimeout(N.connectTimer),this.onClose(N,Q)},_=Q=>{h._debug("WebSocket onmessage",Q,N),this.onMessage(N,Q)};N.webSocket.onopen=G,N.webSocket.onclose=k,N.webSocket.onerror=()=>{k({code:1e3,reason:"Error"})},N.webSocket.onmessage=_,this._debug("Transport",this.getType(),"configured callbacks on",N)}function O(N,H,X){const G=this._notifyTransportTimeout([H]);G>0?(this._debug("Transport",this.getType(),"extended waiting for message replies:",G,"ms"),N.timeouts[H.id]=this.setTimeout(()=>{O.call(this,N,H,X+G)},G)):(this._debug("Transport",this.getType(),"expired waiting for message reply",H.id,":",X,"ms"),j.call(this,N,{code:1e3,reason:"Message Timeout"}))}function W(N,H,X){let G;try{G=this.convertToJSON(H.messages)}catch(Q){this._debug("Transport",this.getType(),"exception:",Q);const Z=[];for(let ne=0;ne<H.messages.length;++ne){const ie=H.messages[ne];Z.push(ie.id)}w.call(this,N,Z),this.setTimeout(()=>{this._notifyFailure(H.onFailure,N,H.messages,{exception:Q})},0);return}N.webSocket.send(G),this._debug("Transport",this.getType(),"sent",H,"/meta/connect =",X);let k=this.getConfiguration().maxNetworkDelay;X&&(k+=this.getAdvice().timeout,T=!0);const _=[];for(let Q=0;Q<H.messages.length;++Q){const Z=H.messages[Q];Z.id&&(_.push(Z.id),N.timeouts[Z.id]=this.setTimeout(()=>{O.call(this,N,Z,k)},k))}this._debug("Transport",this.getType(),"started waiting for message replies",k,"ms, messageIds:",_,", timeouts:",N.timeouts)}d._notifySuccess=function(N,H){N.call(this,H)},d._notifyFailure=function(N,H,X,G){N.call(this,H,X,G)};function z(N,H,X){try{N===null?(N=x||{envelopes:{},timeouts:{}},U.call(this,N,H,X),I.call(this,N)):(U.call(this,N,H,X),W.call(this,N,H,X))}catch(G){this.setTimeout(()=>{j.call(this,N,{code:1e3,reason:"Exception",exception:G})},0)}}return d.onOpen=function(N){const H=N.envelopes;this._debug("Transport",this.getType(),"opened",N,"pending messages",H);for(let X in H)if(H.hasOwnProperty(X)){const G=H[X],k=G[0],_=G[1];D=k.onSuccess,W.call(this,N,k,_)}},d.onMessage=function(N,H){this._debug("Transport",this.getType(),"received websocket message",H,N);let X=!1;const G=this.convertToMessages(H.data),k=[];for(let _=0;_<G.length;++_){const Q=G[_];if((/^\/meta\//.test(Q.channel)||Q.data===void 0)&&Q.id){k.push(Q.id);const Z=N.timeouts[Q.id];Z&&(this.clearTimeout(Z),delete N.timeouts[Q.id],this._debug("Transport",this.getType(),"removed timeout for message",Q.id,", timeouts",N.timeouts))}Q.channel==="/meta/connect"&&(T=!1),Q.channel==="/meta/disconnect"&&!T&&(X=!0)}w.call(this,N,k),this._notifySuccess(D,G),X&&this.webSocketClose(N,1e3,"Disconnect")},d.onClose=function(N,H){this._debug("Transport",this.getType(),"closed",N,H),F(N)&&(v=C&&R,x=null,S=null);const X=N.timeouts;N.timeouts={};for(let k in X)X.hasOwnProperty(k)&&this.clearTimeout(X[k]);const G=N.envelopes;N.envelopes={};for(let k in G)if(G.hasOwnProperty(k)){const _=G[k][0];G[k][1]&&(T=!1);const Z={websocketCode:H.code,reason:H.reason};H.exception&&(Z.exception=H.exception),this._notifyFailure(_.onFailure,N,_.messages,Z)}},d.registered=(N,H)=>{p.registered(N,H),h=H},d.accept=function(N,H,X){return this._debug("Transport",this.getType(),"accept, supported:",v),v&&!!window.WebSocket&&h.websocketEnabled!==!1},d.send=function(N,H){this._debug("Transport",this.getType(),"sending",N,"/meta/connect =",H),z.call(this,S,N,H)},d.webSocketClose=function(N,H,X){try{N.webSocket&&N.webSocket.close(H,X)}catch(G){this._debug(G)}},d.abort=function(){p.abort(),j.call(this,S,{code:1e3,reason:"Abort"}),this.reset(!0)},d}function r(p){const d=new A,h=this,v=p||"default";let R=!1;const C=new t;let S,x="disconnected",T=0,D=null,j=0,F=[],U=!1,w=0,I={};const O={};let W=0,z=null;const N=[];let H={},X,G;const k={},_={};let Q=!1,Z=!1,ne=0,ie=0,oe=null,te={useWorkerScheduler:!0,protocol:null,stickyReconnect:!0,connectTimeout:0,maxConnections:2,backoffIncrement:1e3,maxBackoff:6e4,logLevel:"info",maxNetworkDelay:1e4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,urls:{},maxURILength:2e3,maxSendBayeuxMessageSize:8192,advice:{timeout:6e4,interval:0,reconnect:void 0,maxInterval:0}};function xe(y,L){try{return y[L]}catch(B){return}}this._mixin=function(y,L,B){const K=L||{};for(let Y=2;Y<arguments.length;++Y){const V=arguments[Y];if(V!=null){for(let J in V)if(V.hasOwnProperty(J)){const $=xe(V,J),ee=xe(K,J);if($===L||$===void 0)continue;if(y&&typeof $=="object"&&$!==null)if($ instanceof Array)K[J]=this._mixin(y,ee instanceof Array?ee:[],$);else{const ae=typeof ee=="object"&&!(ee instanceof Array)?ee:{};K[J]=this._mixin(y,ae,$)}else K[J]=$}}}return K};function ue(y){return u.isString(y)}function Ze(y){return y>="A"&&y<="Z"?!0:y>="a"&&y<="z"}function qe(y){return y>="0"&&y<="9"}function et(y){switch(y){case" ":case"!":case"#":case"$":case"(":case")":case"*":case"+":case"-":case".":case"/":case"@":case"_":case"{":case"~":case"}":case":":case"\\":case",":return!0;default:return!1}}function Ae(y){if(!ue(y)||y.length<2||y.charAt(0)!=="/")return!1;for(let L=1;L<y.length;++L){const B=y.charAt(L);if(!(Ze(B)||qe(B)||et(B)))return!1}return!0}function q(y){return y==null?!1:typeof y=="function"}function Ee(y,L){let B="";for(;--L>0&&!(y>=Math.pow(10,L));)B+="0";return B+=y,B}function Ce(y,L){if(window.console){const B=window.console[y];if(q(B)){const K=new Date;[].splice.call(L,0,0,Ee(K.getHours(),2)+":"+Ee(K.getMinutes(),2)+":"+Ee(K.getSeconds(),2)+"."+Ee(K.getMilliseconds(),3)),B.apply(window.console,L)}}}this._warn=function(){Ce("warn",arguments)},this._info=function(){te.logLevel!=="warn"&&Ce("info",arguments)},this._debug=function(){te.logLevel==="debug"&&Ce("debug",arguments)};function je(y){return new RegExp("(^https?://)?(((\\[[^\\]]+])|([^:/?#]+))(:(\\d+))?)?([^?#]*)(.*)?").exec(y)}this._isCrossDomain=y=>window.location&&window.location.host&&y?y!==window.location.host:!1;function tt(y){h._debug("Configuring cometd object with",y),ue(y)&&(y={url:y}),y||(y={}),te=h._mixin(!1,te,y);const L=h.getURL();if(!L)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";const B=je(L),K=B[2],Y=B[8],V=B[9];if(R=h._isCrossDomain(K),te.appendMessageTypeToURL)if(V!==void 0&&V.length>0)h._info("Appending message type to URI "+Y+V+" is not supported, disabling 'appendMessageTypeToURL' configuration"),te.appendMessageTypeToURL=!1;else{const J=Y.split("/");let $=J.length-1;Y.match(/\/$/)&&($-=1),J[$].indexOf(".")>=0&&(h._info("Appending message type to URI "+Y+" is not supported, disabling 'appendMessageTypeToURL' configuration"),te.appendMessageTypeToURL=!1)}if(window.Worker&&window.Blob&&window.URL&&te.useWorkerScheduler){let J=m.toString();J=J.substring(J.indexOf("{")+1,J.lastIndexOf("}"));const $=new window.Blob([J],{type:"application/json"}),ee=window.URL.createObjectURL($),ae=new window.Worker(ee);d.setTimeout=(ce,Me)=>{const pe=d.register(ce);return ae.postMessage({id:pe,type:"setTimeout",delay:Me}),pe},d.clearTimeout=ce=>{d.unregister(ce),ae.postMessage({id:ce,type:"clearTimeout"})},ae.onmessage=ce=>{const Me=ce.data.id,pe=d.unregister(Me);pe&&pe()}}}function we(y){if(y){const L=I[y.channel];L&&L[y.id]&&(delete L[y.id],h._debug("Removed",y.listener?"listener":"subscription",y))}}function Ie(y){y&&!y.listener&&we(y)}function Fe(){for(let y in I)if(I.hasOwnProperty(y)){const L=I[y];if(L)for(let B in L)L.hasOwnProperty(B)&&Ie(L[B])}}function fe(y){x!==y&&(h._debug("Status",x,"->",y),x=y)}function re(){return x==="disconnecting"||x==="disconnected"}function de(){return""+ ++T}function Ne(y,L,B,K,Y){try{return L.call(y,K)}catch(V){const J=h.onExtensionException;if(q(J)){h._debug("Invoking extension exception handler",B,V);try{J.call(h,V,B,Y,K)}catch($){h._info("Exception during execution of extension exception handler",B,$)}}else h._info("Exception during execution of extension",B,V);return K}}function nt(y){for(let L=0;L<N.length&&y!=null;++L){const B=N[L],K=B.extension.incoming;if(q(K)){const Y=Ne(B.extension,K,B.name,y,!1);y=Y===void 0?y:Y}}return y}function st(y){for(let L=N.length-1;L>=0&&y!=null;--L){const B=N[L],K=B.extension.outgoing;if(q(K)){const Y=Ne(B.extension,K,B.name,y,!0);y=Y===void 0?y:Y}}return y}function Te(y,L){const B=I[y];if(B){for(let K in B)if(B.hasOwnProperty(K)){const Y=B[K];if(Y)try{Y.callback.call(Y.scope,L)}catch(V){const J=h.onListenerException;if(q(J)){h._debug("Invoking listener exception handler",Y,V);try{J.call(h,V,Y,Y.listener,L)}catch($){h._info("Exception during execution of listener exception handler",Y,$)}}else h._info("Exception during execution of listener",Y,L,V)}}}}function se(y,L){Te(y,L);const B=y.split("/"),K=B.length-1;for(let Y=K;Y>0;--Y){let V=B.slice(0,Y).join("/")+"/*";Y===K&&Te(V,L),V+="*",Te(V,L)}}function Oe(){z!==null&&h.clearTimeout(z),z=null}function Le(y,L){Oe();const B=H.interval+L;h._debug("Function scheduled in",B,"ms, interval =",H.interval,"backoff =",W,y),z=h.setTimeout(y,B)}let Ue,Re;function he(y,L,B){for(let V=0;V<y.length;++V){let J=y[V];const $=J.id;D&&(J.clientId=D),J=st(J),J!=null?(J.id=$,y[V]=J):(delete k[$],y.splice(V--,1))}if(y.length===0)return;L&&(oe=y[0]);let K=h.getURL();te.appendMessageTypeToURL&&(K.match(/\/$/)||(K=K+"/"),B&&(K=K+B));const Y={url:K,sync:!1,messages:y,onSuccess:V=>{try{Ue.call(h,V)}catch(J){h._info("Exception during handling of messages",J)}},onFailure:(V,J,$)=>{try{const ee=h.getTransport();$.connectionType=ee?ee.getType():"unknown",Re.call(h,V,J,$)}catch(ee){h._info("Exception during handling of failure",ee)}}};h._debug("Send",Y),S.send(Y,L)}function me(y){j>0||U===!0?F.push(y):he([y],!1)}this.send=me;function ye(){W=0}function it(){return W<te.maxBackoff&&(W+=te.backoffIncrement),W}function ot(){++j,h._debug("Starting batch, depth",j)}function Be(){const y=F;F=[],y.length>0&&he(y,!1)}function rt(){if(--j,h._debug("Ending batch, depth",j),j<0)throw"Calls to startBatch() and endBatch() are not paired";j===0&&!re()&&!U&&Be()}function at(){if(!re()){const y={id:de(),channel:"/meta/connect",connectionType:S.getType()};Z||(y.advice={timeout:0}),fe("connecting"),h._debug("Connect sent",y),he([y],!0,"connect"),fe("connected")}}function ve(y){fe("connecting"),Le(()=>{at()},y)}function We(y){y&&(H=h._mixin(!1,{},te.advice,y),h._debug("New advice",H))}function ge(y){if(Oe(),y&&S&&S.abort(),R=!1,S=null,fe("disconnected"),D=null,j=0,ye(),Q=!1,Z=!1,ne=0,oe=null,F.length>0){const L=F;F=[],Re.call(h,void 0,L,{reason:"Disconnected"})}}function Se(y,L,B){const K=h.onTransportException;if(q(K)){h._debug("Invoking transport exception handler",y,L,B);try{K.call(h,B,y,L)}catch(Y){h._info("Exception during execution of transport exception handler",Y)}}}function He(y,L){q(y)&&(L=y,y=void 0),D=null,Fe(),re()&&C.reset(!0),We({}),j=0,U=!0,X=y,G=L;const B="1.0",K=h.getURL(),Y=C.findTransportTypes(B,R,K),V={id:de(),version:B,minimumVersion:B,channel:"/meta/handshake",supportedConnectionTypes:Y,advice:{timeout:H.timeout,interval:H.interval}},J=h._mixin(!1,{},X,V);if(h._putCallback(J.id,L),!S&&(S=C.negotiateTransport(Y,B,R,K),!S)){const $="Could not find initial transport among: "+C.getTransportTypes();throw h._warn($),$}h._debug("Initial transport is",S.getType()),fe("handshaking"),h._debug("Handshake sent",J),he([J],!1,"handshake")}function ct(y){fe("handshaking"),U=!0,Le(()=>{He(X,G)},y)}function be(y,L){try{y.call(h,L)}catch(B){const K=h.onCallbackException;if(q(K)){h._debug("Invoking callback exception handler",B);try{K.call(h,B,L)}catch(Y){h._info("Exception during execution of callback exception handler",Y)}}else h._info("Exception during execution of message callback",B)}}this._getCallback=y=>k[y],this._putCallback=function(y,L){const B=this._getCallback(y);return q(L)&&(k[y]=L),B};function le(y){const L=h._getCallback([y.id]);q(L)&&(delete k[y.id],be(L,y))}function Ke(y){const L=_[y.id];if(delete _[y.id],L){h._debug("Handling remote call response for",y,"with context",L);const B=L.timeout;B&&h.clearTimeout(B);const K=L.callback;if(q(K))return be(K,y),!0}return!1}this.onTransportFailure=function(y,L,B){this._debug("Transport failure",L,"for",y);const K=this.getTransportRegistry(),Y=this.getURL(),V=this._isCrossDomain(je(Y)[2]),J="1.0",$=K.findTransportTypes(J,V,Y);if(L.action==="none"){if(y.channel==="/meta/handshake"&&!L.transport){const ee="Could not negotiate transport, client=["+$+"], server=["+y.supportedConnectionTypes+"]";this._warn(ee),Se(S.getType(),null,{reason:ee,connectionType:S.getType(),transport:S})}}else if(L.delay=this.getBackoffPeriod(),y.channel==="/meta/handshake"){if(!L.transport){const ee=S?S.getType():null,ae=K.negotiateTransport($,J,V,Y);if(!ae)this._warn("Could not negotiate transport, client=["+$+"]"),Se(ee,null,y.failure),L.action="none";else{const ce=ae.getType();this._debug("Transport",ee,"->",ce),Se(ee,ce,y.failure),L.action="handshake",L.transport=ae}}L.action!=="none"&&this.increaseBackoffPeriod()}else{const ee=new Date().getTime();if(ne===0&&(ne=ee),L.action==="retry"){L.delay=this.increaseBackoffPeriod();const ae=H.maxInterval;if(ae>0){const ce=H.timeout+H.interval+ae;ee-ne+W>ce&&(L.action="handshake")}}L.action==="handshake"&&(L.delay=0,K.reset(!1),this.resetBackoffPeriod())}B.call(h,L)};function ke(y){h._debug("Transport failure handling",y),y.transport&&(S=y.transport),y.url&&S.setURL(y.url);const L=y.action,B=y.delay||0;switch(L){case"handshake":ct(B);break;case"retry":ve(B);break;case"none":ge(!0);break;default:throw"Unknown action "+L}}function De(y,L){le(y),se("/meta/handshake",y),se("/meta/unsuccessful",y),re()&&(L.action="none"),h.onTransportFailure.call(h,y,L,ke)}function lt(y){const L=h.getURL();if(y.successful){const B=h._isCrossDomain(je(L)[2]),K=C.negotiateTransport(y.supportedConnectionTypes,y.version,B,L);if(K===null){y.successful=!1,De(y,{cause:"negotiation",action:"none",transport:null});return}else S!==K&&(h._debug("Transport",S.getType(),"->",K.getType()),S=K);D=y.clientId,U=!1,Be(),y.reestablish=Q,Q=!0,le(y),se("/meta/handshake",y),ie=y["x-messages"]||0;const Y=re()?"none":H.reconnect||"retry";switch(Y){case"retry":ye(),ie===0?ve(0):h._debug("Processing",ie,"handshake-delivered messages");break;case"none":ge(!0);break;default:throw"Unrecognized advice action "+Y}}else De(y,{cause:"unsuccessful",action:H.reconnect||"handshake",transport:S})}function dt(y){De(y,{cause:"failure",action:"handshake",transport:null})}function ze(y){return x==="disconnected"?!0:oe&&oe.id===y.id?(oe=null,!0):!1}function Ye(y,L){se("/meta/connect",y),se("/meta/unsuccessful",y),re()&&(L.action="none"),h.onTransportFailure.call(h,y,L,ke)}function ut(y){if(ze(y))if(Z=y.successful,Z){se("/meta/connect",y);const L=re()?"none":H.reconnect||"retry";switch(L){case"retry":ye(),ve(W);break;case"none":ge(!1);break;default:throw"Unrecognized advice action "+L}}else Ye(y,{cause:"unsuccessful",action:H.reconnect||"retry",transport:S});else h._debug("Mismatched /meta/connect reply",y)}function ft(y){ze(y)?(Z=!1,Ye(y,{cause:"failure",action:"retry",transport:null})):h._debug("Mismatched /meta/connect failure",y)}function Xe(y){ge(!0),le(y),se("/meta/disconnect",y),se("/meta/unsuccessful",y)}function ht(y){y.successful?(ge(!1),le(y),se("/meta/disconnect",y)):Xe(y)}function mt(y){Xe(y)}function Ge(y){const L=I[y.subscription];if(L){for(let B in L)if(L.hasOwnProperty(B)){const K=L[B];K&&!K.listener&&(delete L[B],h._debug("Removed failed subscription",K))}}le(y),se("/meta/subscribe",y),se("/meta/unsuccessful",y)}function gt(y){y.successful?(le(y),se("/meta/subscribe",y)):Ge(y)}function pt(y){Ge(y)}function Ve(y){le(y),se("/meta/unsubscribe",y),se("/meta/unsuccessful",y)}function Et(y){y.successful?(le(y),se("/meta/unsubscribe",y)):Ve(y)}function yt(y){Ve(y)}function Pe(y){Ke(y)||(le(y),se("/meta/publish",y),se("/meta/unsuccessful",y))}function vt(y){y.data!==void 0?Ke(y)||(se(y.channel,y),ie>0&&(--ie,ie===0&&(h._debug("Processed last handshake-delivered message"),ve(0)))):y.successful===void 0?h._warn("Unknown Bayeux Message",y):y.successful?(le(y),se("/meta/publish",y)):Pe(y)}function bt(y){Pe(y)}function Qe(y){if(ne=0,y=nt(y),y==null)return;switch(We(y.advice),y.channel){case"/meta/handshake":lt(y);break;case"/meta/connect":ut(y);break;case"/meta/disconnect":ht(y);break;case"/meta/subscribe":gt(y);break;case"/meta/unsubscribe":Et(y);break;default:vt(y);break}}this.receive=Qe,Ue=y=>{h._debug("Received",y);for(let L=0;L<y.length;++L){const B=y[L];Qe(B)}},Re=(y,L,B)=>{h._debug("handleFailure",y,L,B),B.transport=y;for(let K=0;K<L.length;++K){const Y=L[K],V={id:Y.id,successful:!1,channel:Y.channel,failure:B};switch(B.message=Y,Y.channel){case"/meta/handshake":dt(V);break;case"/meta/connect":ft(V);break;case"/meta/disconnect":mt(V);break;case"/meta/subscribe":V.subscription=Y.subscription,pt(V);break;case"/meta/unsubscribe":V.subscription=Y.subscription,yt(V);break;default:bt(V);break}}};function Je(y){const L=I[y];if(L){for(let B in L)if(L.hasOwnProperty(B)&&L[B])return!0}return!1}function _e(y,L){const B={scope:y,method:L};if(q(y))B.scope=void 0,B.method=y;else if(ue(L)){if(!y)throw"Invalid scope "+y;if(B.method=y[L],!q(B.method))throw"Invalid callback "+L+" for scope "+y}else if(!q(L))throw"Invalid callback "+L;return B}function $e(y,L,B,K){const Y=_e(L,B);h._debug("Adding",K?"listener":"subscription","on",y,"with scope",Y.scope,"and callback",Y.method);const V=++w,J={id:V,channel:y,scope:Y.scope,callback:Y.method,listener:K};let $=I[y];return $||($={},I[y]=$),$[V]=J,h._debug("Added",K?"listener":"subscription",J),J}this.registerTransport=function(y,L,B){const K=C.add(y,L,B);return K&&(this._debug("Registered transport",y),q(L.registered)&&L.registered(y,this)),K},this.unregisterTransport=function(y){const L=C.remove(y);return L!==null&&(this._debug("Unregistered transport",y),q(L.unregistered)&&L.unregistered()),L},this.unregisterTransports=()=>{C.clear()},this.getTransportTypes=()=>C.getTransportTypes(),this.findTransport=y=>C.find(y),this.getTransportRegistry=()=>C,this.configure=function(y){tt.call(this,y)},this.init=function(y,L){this.configure(y),this.handshake(L)},this.handshake=(y,L)=>{if(x!=="disconnected")throw"Illegal state: handshaken";He(y,L)},this.disconnect=function(y,L){if(re())return;q(y)&&(L=y,y=void 0);const B={id:de(),channel:"/meta/disconnect"},K=this._mixin(!1,{},y,B);h._putCallback(K.id,L),fe("disconnecting"),he([K],!1,"disconnect")},this.startBatch=()=>{ot()},this.endBatch=()=>{rt()},this.batch=function(y,L){const B=_e(y,L);this.startBatch();try{B.method.call(B.scope),this.endBatch()}catch(K){throw this._info("Exception during execution of batch",K),this.endBatch(),K}},this.addTransportListener=(y,L)=>{if(y!=="timeout")throw"Unsupported event "+y;let B=O[y];B||(O[y]=B=[]),B.push(L)},this.removeTransportListener=(y,L)=>{const B=O[y];if(B){const K=B.indexOf(L);if(K>=0)return B.splice(K,1),!0}return!1},this._getTransportListeners=y=>O[y],this.addListener=function(y,L,B){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!ue(y))throw"Illegal argument type: channel must be a string";return $e(y,L,B,!0)},this.removeListener=y=>{if(!y||!y.channel||!("id"in y))throw"Invalid argument: expected subscription, not "+y;we(y)},this.clearListeners=()=>{I={}},this.subscribe=function(y,L,B,K,Y){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!Ae(y))throw"Illegal argument: invalid channel "+y;if(re())throw"Illegal state: disconnected";q(L)&&(Y=K,K=B,B=L,L=void 0),q(K)&&(Y=K,K=void 0);const V=!Je(y),J=$e(y,L,B,!1);if(V){const $={id:de(),channel:"/meta/subscribe",subscription:y},ee=this._mixin(!1,{},K,$);h._putCallback(ee.id,Y),me(ee)}else q(Y)&&h.setTimeout(()=>{be(Y,{id:de(),successful:!0,channel:"/meta/subscribe",subscription:y})},0);return J},this.unsubscribe=function(y,L,B){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(re())throw"Illegal state: disconnected";q(L)&&(B=L,L=void 0),this.removeListener(y);const K=y.channel;if(Je(K))q(B)&&h.setTimeout(()=>{be(B,{id:de(),successful:!0,channel:"/meta/unsubscribe",subscription:K})},0);else{const Y={id:de(),channel:"/meta/unsubscribe",subscription:K},V=this._mixin(!1,{},L,Y);h._putCallback(V.id,B),me(V)}},this.resubscribe=function(y,L){if(Ie(y),y)return this.subscribe(y.channel,y.scope,y.callback,L)},this.clearSubscriptions=()=>{Fe()},this.publish=function(y,L,B,K){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(!Ae(y))throw"Illegal argument: invalid channel "+y;if(/^\/meta\//.test(y))throw"Illegal argument: cannot publish to meta channels";if(re())throw"Illegal state: disconnected";q(L)?(K=L,L={},B=void 0):q(B)&&(K=B,B=void 0);const Y={id:de(),channel:y,data:L},V=this._mixin(!1,{},B,Y);h._putCallback(V.id,K),me(V)},this.publishBinary=function(y,L,B,K,Y,V){q(L)?(V=L,L=new ArrayBuffer(0),B=!0,K=void 0,Y=void 0):q(B)?(V=B,B=!0,K=void 0,Y=void 0):q(K)?(V=K,K=void 0,Y=void 0):q(Y)&&(V=Y,Y=void 0);const J={meta:K,data:L,last:B},$=this._mixin(!1,Y,{ext:{binary:{}}});this.publish(y,J,$,V)},this.remoteCall=function(y,L,B,K,Y){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(!ue(y))throw"Illegal argument type: target must be a string";if(re())throw"Illegal state: disconnected";if(q(L)?(Y=L,L={},B=te.maxNetworkDelay,K=void 0):q(B)?(Y=B,B=te.maxNetworkDelay,K=void 0):q(K)&&(Y=K,K=void 0),typeof B!="number")throw"Illegal argument type: timeout must be a number";y.match(/^\//)||(y="/"+y);const V="/service"+y;if(!Ae(V))throw"Illegal argument: invalid target "+y;const J={id:de(),channel:V,data:L},$=this._mixin(!1,{},K,J),ee={callback:Y};B>0&&(ee.timeout=h.setTimeout(()=>{h._debug("Timing out remote call",$,"after",B,"ms"),Pe({id:$.id,error:"406::timeout",successful:!1,failure:{message:$,reason:"Remote Call Timeout"}})},B),h._debug("Scheduled remote call timeout",$,"in",B,"ms")),_[$.id]=ee,me($)},this.remoteCallBinary=function(y,L,B,K,Y,V,J){q(L)?(J=L,L=new ArrayBuffer(0),B=!0,K=void 0,Y=te.maxNetworkDelay,V=void 0):q(B)?(J=B,B=!0,K=void 0,Y=te.maxNetworkDelay,V=void 0):q(K)?(J=K,K=void 0,Y=te.maxNetworkDelay,V=void 0):q(Y)?(J=Y,Y=te.maxNetworkDelay,V=void 0):q(V)&&(J=V,V=void 0);const $={meta:K,data:L,last:B},ee=this._mixin(!1,V,{ext:{binary:{}}});this.remoteCall(y,$,Y,ee,J)},this.getStatus=()=>x,this.isDisconnected=re,this.setBackoffIncrement=y=>{te.backoffIncrement=y},this.getBackoffIncrement=()=>te.backoffIncrement,this.getBackoffPeriod=()=>W,this.increaseBackoffPeriod=()=>it(),this.resetBackoffPeriod=()=>{ye()},this.setLogLevel=y=>{te.logLevel=y},this.registerExtension=function(y,L){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!ue(y))throw"Illegal argument type: extension name must be a string";let B=!1;for(let K=0;K<N.length;++K)if(N[K].name===y){B=!0;break}return B?(this._info("Could not register extension with name",y,"since another extension with the same name already exists"),!1):(N.push({name:y,extension:L}),this._debug("Registered extension",y),q(L.registered)&&L.registered(y,this),!0)},this.unregisterExtension=function(y){if(!ue(y))throw"Illegal argument type: extension name must be a string";let L=!1;for(let B=0;B<N.length;++B){const K=N[B];if(K.name===y){N.splice(B,1),L=!0,this._debug("Unregistered extension",y);const Y=K.extension;q(Y.unregistered)&&Y.unregistered();break}}return L},this.getExtension=y=>{for(let L=0;L<N.length;++L){const B=N[L];if(B.name===y)return B.extension}return null},this.getName=()=>v,this.getClientId=()=>D,this.getURL=()=>{if(S){let y=S.getURL();if(y||(y=te.urls[S.getType()],y))return y}return te.url},this.getTransport=()=>S,this.getConfiguration=function(){return this._mixin(!0,{},te)},this.getAdvice=function(){return this._mixin(!0,{},H)},this.setTimeout=(y,L)=>d.setTimeout(()=>{try{h._debug("Invoking timed function",y),y()}catch(B){h._debug("Exception invoking timed function",y,B)}},L),this.clearTimeout=y=>{d.clearTimeout(y)},window.WebSocket&&this.registerTransport("websocket",new n),this.registerTransport("long-polling",new i),this.registerTransport("callback-polling",new c)}const a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z",".","-",":","+","=","^","!","/","*","?","&","<",">","(",")","[","]","{","}","@","%","$","#"],f=[0,68,0,84,83,82,72,0,75,76,70,65,0,63,62,69,0,1,2,3,4,5,6,7,8,9,64,0,73,66,74,71,81,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,77,0,78,67,0,0,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,79,0,80,0,0],g={encode:p=>{let d=null;if(p instanceof ArrayBuffer?d=p:p.buffer instanceof ArrayBuffer?d=p.buffer:Array.isArray(p)&&(d=new Uint8Array(p).buffer),d==null)throw"Cannot Z85 encode "+p;const h=d.byteLength,v=h%4,R=4-(v===0?4:v),C=new DataView(d);let S="",x=0;for(let T=0;T<h+R;++T){const D=T>=h;if(x=x*256+(D?0:C.getUint8(T)),(T+1)%4===0){let j=52200625;for(let F=5;F>0;--F){if(!D||F>R){const U=Math.floor(x/j)%85;S+=a[U]}j/=85}x=0}}return S},decode:p=>{const d=p.length%5,h=5-(d===0?5:d);for(let D=0;D<h;++D)p+=a[a.length-1];const v=p.length,R=new ArrayBuffer(v*4/5-h),C=new DataView(R);let S=0,x=0,T=0;for(let D=0;D<v;++D){const j=p.charCodeAt(x++)-32;if(S=S*85+f[j],x%5===0){let F=16777216;for(;F>=1;)T<C.byteLength&&C.setUint8(T++,Math.floor(S/F)%256),F/=256;S=0}}return R}};return l.default={CometD:r,Transport:o,RequestTransport:s,LongPollingTransport:i,CallbackPollingTransport:c,WebSocketTransport:n,Utils:u,Z85:g},l.default},E,P),E.exports=M},"mw-deprecation-utils/deprecation":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/config"]),e(e.dj.r.absMids["mw-log/Log"])],M=e.dj.d(b,function(l,A){var m={deprecated:function(u){var t,o,s=!!l.isDebug||!!window.showDeprecationsAsErrors;s&&this._isConfigValid(u)&&(o=window.showDeprecationsAsErrors||u.deprecationLevel===this.ERROR?this.ERROR:this.WARN,t="DEPRECATED: ",u.deprecated&&(t+=u.deprecated.module,u.deprecated.method&&(t+="."+u.deprecated.method+"()"),t+="."),u.replacement&&(t+=" Use "+u.replacement.module,u.replacement.method&&(t+="."+u.replacement.method+"()"),t+=" instead."),u.removalVersion&&(t+=" Will be removed in version: "+u.removalVersion+"."),u.geckNumber&&(t+=" Please use g"+u.geckNumber+" to track latest information regarding this deprecation"),u.additionalInformation&&(t+=" "+u.additionalInformation),A[o](t))},_isConfigValid:function(u){var t=!!u.deprecated&&typeof u.deprecated=="object"&&u.deprecated.hasOwnProperty("module");return u.replacement&&(t=t&&typeof u.replacement=="object"&&u.replacement.hasOwnProperty("module")),u.geckNumber&&(t=t&&typeof u.geckNumber=="number"),t||A.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API"),t}};return Object.defineProperties(m,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}}),m},E,P),E.exports=M},"mw-html-utils/HtmlUtils":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/io-query"]),e(e.dj.r.absMids["mw-html-utils/_parseHtml/sanitize"]),e(e.dj.r.absMids["mw-deprecation-utils/deprecation"])],M=e.dj.d(b,function(l,A,m){return{HYPERLINK_ESCAPE_REGEXP:/<a\s+href\s*=\s*"[^"]*"[^>]*>[\s\S]*?<\/a>/g,HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP:/<a\s+href\s*=\s*"([^"]*)"([^>]*)>([\s\S]*?)<\/a>/g,STRONG_ESCAPE_REGEXP:/<strong>|<\/strong>/g,BOLD_LINK_ATTRIBUTE_REGEX:/\bstyle\s*=\s*"[^"]*\bfont-weight\s*:\s*bold\b[^"]*"/,parseQueryString:function(){var t=window.location.search.substr(1,window.location.search.length);return this._parseQueryString(t)},_parseQueryString:function(t){return l.queryToObject(t)},parseUrl:function(t){var o=document.createElement("a");o.display="none",o.href=t||window.location.href,o.href=o.href;var s={protocol:o.protocol,hostname:o.hostname,port:o.port,pathname:o.pathname,search:o.search,hash:o.hash};return(s.protocol==="https:"||s.protocol==="http:")&&s.pathname.indexOf("/")!==0&&(s.pathname="/"+s.pathname),s.protocol==="https:"&&s.port==="443"&&t.indexOf("https://"+s.hostname+":443")!==0&&(s.port=""),s},escapeHtml:function(t){var o=document.createElement("div");o.textContent=t;var s=o.innerHTML;return s},escapeLinksAndHtml:function(t,o){m.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeLinksAndHtml"},replacement:{module:"mw-html-utils/HtmlUtils",method:"treatHtmlLikeCommandWindow"}});var s="",i=t.split(this.HYPERLINK_ESCAPE_REGEXP),c=t.match(this.HYPERLINK_ESCAPE_REGEXP),n="",r=this,a=0,f=function(p,d,h,v){var R=r.parseUrl(d).protocol;R!=="http:"&&R!=="https:"&&R!=="matlab:"&&(d="#"),d=r.escapeHtml(d),v=r._strongNotEscaped(v,!0),n='<a href="'+d+'">'+v+"</a>"};if(o)s=this.escapeHtml(t),s=this.escapeWhitespace(s);else if(i[0]!==""&&(s=this._strongNotEscaped(i[0],!0)),c!==null&&c.length!==0)for(a=0;a<c.length;a=a+1)c[a].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,f),i[a+1]!==""&&(i[a+1]=this._strongNotEscaped(i[a+1],!0)),s+=n+i[a+1];return s},treatHtmlLikeCommandWindow:function(t,o,s){if(typeof t!="string")return"";var i="",c=t.split(this.HYPERLINK_ESCAPE_REGEXP),n=t.match(this.HYPERLINK_ESCAPE_REGEXP),r="",a=this,f=0;s=s||{};var g=function(d,h,v,R){var C=a.parseUrl(h).protocol,S="";C!=="http:"&&C!=="https:"&&C!=="matlab:"&&(h="#"),h=a.escapeHtml(h),R=a._strongNotEscaped(R,!1),a.BOLD_LINK_ATTRIBUTE_REGEX.test(v)&&(S=' style="font-weight:bold"'),r='<a href="'+h+'"'+S+">"+R+"</a>"};if(o)i=this.escapeHtml(t);else if(c[0]!==""&&(i=this._strongNotEscaped(c[0],!1)),n!==null&&n.length!==0)for(f=0;f<n.length;f=f+1)n[f].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,g),c[f+1]!==""&&(c[f+1]=this._strongNotEscaped(c[f+1],!1)),i+=r+c[f+1];return s.addPreTagToPreserveWhiteSpace&&(i='<span style="white-space: pre">'+i+"</span>"),i},_strongNotEscaped:function(t,o){var s="",i=t.match(this.STRONG_ESCAPE_REGEXP),c=t.split(this.STRONG_ESCAPE_REGEXP),n=function(f){return f};o&&(n=this.escapeWhitespace);var r=0;if(i!==null&&i.length!==0)for(s=n(this.escapeHtml(c[0])),r=0;r<i.length;r=r+1)s+=i[r]+n(this.escapeHtml(c[r+1]));else s=n(this.escapeHtml(t));return s},escapeWhitespace:function(t){return m.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeWhitespace"},replacement:{module:"Plain HTML",method:'Set class as white-space: pre or use <span style="white-space: pre">...</span>'}}),t=t||"",t.replace(/\n/g,"<br>").replace(/ {2}/g,"&nbsp;&nbsp;")},handleAnchors:function(t,o){if(o&&o.target&&o.target.href){o.preventDefault(),o.stopPropagation();var s=o.target.href;if(s.indexOf("matlab:")!==-1){var i=s.substring(0,7);if(i==="matlab:"){var c=o.target.href.substring(7);t(window.decodeURIComponent(c))}}else window.open(o.target.href)}},isElementOverflown:function(t){return t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth},sanitizeHtmlFromJava:A.sanitizeHtmlFromJava,sanitizeHtml:A.sanitizeHtml}},E,P),E.exports=M},"mw-html-utils/_parseHtml/sanitize":(E,P,e)=>{"use strict";var b,M;b=[],M=e.dj.d(b,function(){var l={A:["target","href","title"],ABBR:["title"],ADDRESS:[],AREA:["shape","coords","href","alt"],ARTICLE:[],ASIDE:[],AUDIO:["autoplay","controls","loop","preload","src"],B:[],BDI:["dir"],BDO:["dir"],BIG:[],BLOCKQUOTE:["cite"],BR:[],CAPTION:[],CENTER:[],CITE:[],CODE:[],COL:["align","valign","span","width"],COLGROUP:["align","valign","span","width"],DD:[],DEL:["datetime"],DETAILS:["open"],DIV:[],DL:[],DT:[],EM:[],FONT:["color","size","face"],FOOTER:[],H1:[],H2:[],H3:[],H4:[],H5:[],H6:[],HEADER:[],HR:[],I:[],IMG:["src","alt","title","width","height"],INS:["datetime"],LI:[],MARK:[],NAV:[],OL:[],P:[],PRE:[],S:[],SECTION:[],SMALL:[],SPAN:[],SUB:[],SUP:[],STRONG:[],TABLE:["width","border","align","valign"],TBODY:["align","valign"],TD:["width","rowspan","colspan","align","valign"],TFOOT:["align","valign"],TH:["width","rowspan","colspan","align","valign"],THEAD:["align","valign"],TR:["rowspan","align","valign"],TT:[],U:[],UL:[],VIDEO:["autoplay","controls","loop","preload","src","height","width"]},A=Object.assign(l),m={href:{"http:":!0,"https:":!0,"mailto:":!0,"matlab:":!0,relative:{"#":!0,"/":!0}},src:{"http:":!0,"https:":!0,"mailto:":!0,relative:{"#":!0,"/":!0}}},u=Object.assign(m),t=["backgroundColor","borderBottom","borderBottomColor","borderBottomLeftRadius","borderBottomRightRadius","borderBottomStyle","borderBottomWidth","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRadius","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderSpacing","borderStyle","borderTop","borderTopColor","borderTopLeftRadius","borderTopRightRadius","borderTopStyle","borderTopWidth","borderWidth","color","fontFamily","fontSize","fontStyle","fontWeight","height","lineHeight","margin","marginBottom","marginLeft","marginRight","marginTop","maxHeight","maxWidth","minHeight","minWidth","overflow","overflowWrap","overflowX","overflowY","padding","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textAnchor","textDecoration","textIndent","textOverflow","textShadow","textTransform","width"],o=[].concat(t);o.push("whiteSpace");var s=function(n,r,a){var f=void 0,g=r.getAttribute("style");if(f=a?t:o,n.style&&g!==null&&g!=="")for(var p=0;p<f.length;p+=1){var d=f[p],h=r.style[d];n.style[d]!==void 0&&(n.style[d]=h)}},i=function(n,r,a,f){return function(g){var p=function(T,D){var j=String.prototype.trim.call(D),F=j.indexOf(":");if(F<0&&T.relative[j.charAt(0)])return j;var U=j.substring(0,F);return T[U+":"]?j:"#"},d=function(T,D){for(var j=[],F=0;F<T.length;F+=1){var U=T[F];if(D.hasAttribute(U)){var w=D.getAttribute(U),I="";r[U]?I=p(r[U],w):I=w,j.push({key:U,value:I})}}return j},h=function(T){var D=void 0;if(T.nodeType===window.Node.ELEMENT_NODE){var j=n[T.tagName];if(j){D=document.createElement(T.tagName);var F=n[T.tagName],U=d(F,T);U.forEach(function(w){D.setAttribute(w.key,w.value)}),a&&s(D,T,f)}else D=document.createDocumentFragment()}else T.nodeType===window.Node.TEXT_NODE?D=document.createTextNode(T.textContent):D=document.createDocumentFragment();return D},v=function x(T){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,j=document.createDocumentFragment();if(D>150||!T)return j;for(var F=T.firstChild;F;F=F.nextSibling){var U=h(F);F.nodeType===window.Node.ELEMENT_NODE&&U.appendChild(x(F,D+1)),j.appendChild(U)}return j},R=new DOMParser,C=R.parseFromString(g,"text/html"),S=void 0;return C.body?S=v(C.body):S=document.createDocumentFragment(),S}};return{sanitizeHtmlFromJava:i(l,m,!0,"java"),sanitizeHtml:i(A,u,!0)}},E,P),E.exports=M},"mw-log/Log":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["mw-log/impl/Modes"]),e(e.dj.r.absMids["mw-log/impl/Levels"]),e(e.dj.r.absMids["mw-log/impl/Type"]),e(e.dj.r.absMids["mw-log/impl/Backlog"]),e(e.dj.r.absMids["mw-log/util/LogUtils"])],M=e.dj.d(b,function(l,A,m,u,t){"use strict";var o={};const s="DEFAULT",c=u.create(100),n={debug:4,log:3,dir:3,table:3,trace:3,time:3,timeEnd:3,group:3,groupCollapsed:3,groupEnd:3,info:2,warn:1,assert:0,error:0},r={};let a=0,f=A.DEBUG,g=l.DEVELOPMENT;const p=[],d={};let h=null;class v{constructor(C){if(d[C]!=null)return;t.makeReadOnlyProperty(this,"name",C),d[this.name]=this,this._timers={},this._threshold=A.DEBUG,this._showTimestamp=!0,t.makeReadOnlyProperty(this,"modes",l),t.makeReadOnlyProperty(this,"levels",A);const S=this;typeof window=="object"&&(window.$mwLog={get filter(){return S.filter},set filter(x){S.filter=x},get mode(){return S.mode},set mode(x){S.mode=x}})}static _sanitizeLevel(C){return typeof C=="number"?C:A.DEBUG}static _sanitizeMode(C){return t.objectValues(l).indexOf(C)>-1?C:l.DEVELOPMENT}get threshold(){return this._threshold}set threshold(C){this._threshold=v._sanitizeLevel(C)}get showTimestamp(){return this._showTimestamp}set showTimestamp(C){this._showTimestamp=!!C}get globalThreshold(){return f}set globalThreshold(C){f=v._sanitizeLevel(C)}get mode(){return g}set mode(C){C&&(g=v._sanitizeMode(C))}get filter(){return h}set filter(C){(typeof C=="function"||C===null)&&(h=C)}_shouldLog(C,S){if(h&&g===l.DEVELOPMENT){const x={name:this.name,type:S};return!!h(x)}return f>C&&this._threshold>C}_nameAndTime(){const C=[];return this.name!==s&&C.push(this.name),this._showTimestamp&&C.push(t.currentTimeString()),C}table(C){if(this._shouldLog(n.table,m.TABLE)){const S={namespace:this.name,type:m.TABLE,message:[C],time:new Date};c.add(S),t.printToConsole(m.LOG,this._nameAndTime(),g),t.printToConsole(m.TABLE,[C],g),t.execCallbacks(r,S)}}trace(){if(this._shouldLog(n.trace,m.TRACE)){const C={namespace:this.name,type:m.TRACE,message:null,time:new Date};let x=new Error().stack.split(`
`);for(x[0]==="Error"&&x.shift();x[0].includes("Log.js")||x[0].includes("logger.trace")||x[0].includes("trace");)x.shift();x=x.join(`
`),C.message=[x],c.add(C),t.printToConsole(m.LOG,this._nameAndTime(),g),t.printToConsole(m.TRACE,[],g),t.execCallbacks(r,C)}}time(C){this._shouldLog(n.time)&&(this._timers[C]==null?this._timers[C]=new Date().getTime():this.warn('timer "'+C+'" already exists.'))}timeEnd(C){if(this._shouldLog(n.timeEnd,m.TIME_END)){const S={namespace:this.name,type:m.TIME_END,message:null,time:new Date};if(this._timers[C]!=null){const x=new Date().getTime()-this._timers[C];S.message=[C+": "+x+"ms - timer ended"],c.add(S),t.printToConsole(m.LOG,this._nameAndTime().concat(S.message),g),t.execCallbacks(r,S),this._timers[C]=null}else this.warn('timer "'+C+`" doesn't exist.`)}}_group(C,S){if(this._shouldLog(n.group,S?m.GROUP_COLLAPSED:m.GROUP)){const x=S?m.GROUP_COLLAPSED:m.GROUP,T={namespace:this.name,type:x,message:[C],time:new Date};p.push(C),c.add(T),t.printToConsole(x,[C],g),t.execCallbacks(r,T)}}groupCollapsed(C){this._group(C,!0)}group(C){this._group(C,!1)}groupEnd(){if(this._shouldLog(n.groupEnd,m.GROUP_END)){const C=p.pop(),S={namespace:this.name,type:m.GROUP_END,message:[C],time:new Date};c.add(S),t.printToConsole(m.GROUP_END,[],g),t.execCallbacks(r,S)}}assert(C,S){if(this._shouldLog(n.assert,m.ASSERT)&&!C){const x={namespace:this.name,type:m.ASSERT,message:["Assertion failed:",S],time:new Date};c.add(x),x.message.shift();const T=[!1].concat(this._nameAndTime().concat(x.message));t.printToConsole(m.ASSERT,T,g),t.execCallbacks(r,x)}}_basicLogMethod(C,S,x){if(this._shouldLog(S,C)){const T={namespace:this.name,type:C,message:x,time:new Date};x=this._nameAndTime().concat(x),c.add(T),t.printToConsole(C,x,g),t.execCallbacks(r,T)}}debug(C){const S=Array.prototype.slice.call(arguments);this._basicLogMethod(m.DEBUG,n.debug,S)}log(C){const S=Array.prototype.slice.call(arguments);this._basicLogMethod(m.LOG,n.log,S)}dir(C){const S=Array.prototype.slice.call(arguments);this._basicLogMethod(m.DIR,n.dir,S)}info(C){const S=Array.prototype.slice.call(arguments);this._basicLogMethod(m.INFO,n.info,S)}warn(C){const S=Array.prototype.slice.call(arguments);this._basicLogMethod(m.WARN,n.warn,S)}error(C){const S=Array.prototype.slice.call(arguments);this._basicLogMethod(m.ERROR,n.error,S)}addCallback(C,S){r[a]=C,S&&c.applyCallback(C);const x={},T=a;return x.remove=()=>{delete r[T]},a++,x}createLogger(C){const S=new v(C);return S.name?S:d[C]}}return o.default=new v(s),o.default},E,P),E.exports=M},"mw-log/impl/Backlog":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["mw-log/util/LogUtils"])],M=e.dj.d(b,function(l){"use strict";var A={};function m(t){const o={},s=[];l.makeReadOnlyProperty(o,"size",t);let i=0;return o.add=function(c){s[i]=c,i=(i+1)%o.size},o.applyCallback=function(c){let n=i+1;s[n]===void 0&&(n=0);let r=0,a=n;for(;r<o.size&&s[a]!==void 0;)c(s[a]),a=(a+1)%t,r++},o}const u={};return u.create=m,A.default=u,A.default},E,P),E.exports=M},"mw-log/impl/Levels":(E,P,e)=>{var b,M;b=[],M=e.dj.d(b,function(){"use strict";var l={};const A={DEBUG:5,LOG:4,TABLE:4,TIME:4,DIR:4,INFO:3,WARN:2,ASSERT:1,ERROR:1};return Object.freeze(A),l.default=A,l.default},E,P),E.exports=M},"mw-log/impl/Modes":(E,P,e)=>{var b,M;b=[],M=e.dj.d(b,function(){"use strict";var l={};const A={DEVELOPMENT:"DEVELOPMENT",PRODUCTION:"PRODUCTION"};return Object.freeze(A),l.default=A,l.default},E,P),E.exports=M},"mw-log/impl/Type":(E,P,e)=>{var b,M;b=[],M=e.dj.d(b,function(){"use strict";var l={};const A={DEBUG:"debug",LOG:"log",TABLE:"table",TRACE:"trace",TIME_END:"timeEnd",GROUP:"group",GROUP_COLLAPSED:"groupCollapsed",GROUP_END:"groupEnd",DIR:"dir",INFO:"info",WARN:"warn",ASSERT:"assert",ERROR:"error"};return Object.freeze(A),l.default=A,l.default},E,P),E.exports=M},"mw-log/util/LogUtils":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["mw-log/impl/Modes"])],M=e.dj.d(b,function(l){"use strict";var A={};const m={};return m.objectValues=function(u){const t=[];for(const o in u)Object.prototype.hasOwnProperty.call(u,o)&&t.push(u[o]);return t},m.makeReadOnlyProperty=function(u,t,o){Object.defineProperty(u,t,{value:o,writable:!1})},m.execCallbacks=function(u,t){const o=m.objectValues(u);for(const s in o)o[s](t)},m.currentTimeString=function(){const u=new Date;return u.toLocaleTimeString("en-US",{hour12:!1,hour:"numeric",minute:"numeric",second:"numeric"})+"."+u.getTime()%1e3},m.printToConsole=function(u,t,o){(o!==l.PRODUCTION||u==="error")&&console[u].apply(console,t)},A.default=m,A.default},E,P),E.exports=M},"mw-messageservice/MessageService":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/createMessageServiceDefaultInstance"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceAsync"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/instanceEnums"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/messageServiceFactory"]),e(e.dj.r.absMids["mw-remote/Remote"])],M=e.dj.d(b,function(l,A,m,u,t){function o(r,a){const f=a._startFunction||a.start,g=a.stop,p=r._startFunction||r.start,d=r.stop,h=function(){p.call(r,[]),f.call(a,[])},v=function(){g.call(a,[]),d.call(r,[])};a._startFunction?a._startFunction=h:a.start=h,r._startFunction?r._startFunction=h:r.start=h,a.stop=v,r.stop=v}const s=l(new A(t,null,null,null,{instanceType:m.MATLAB_SERVICE_HOST.name})),i=new A(t,null,null,null,{instanceType:m.APP_SERVICE_HOST.name});let c;t.enableServerOnWorkerAsync=function(){},t.disableServerOnWorkerAsync=function(){};const n={};return n[m.APP_SERVICE_HOST.name]=()=>(c||(c=l(i),s.isStarted()&&c.start(),o(s,c)),c),n[m.MATLAB_SERVICE_HOST.name]=()=>s,s.create=function(r){return u(n,r)},s},E,P),E.exports=M},"mw-messageservice/messageserviceimpl/MessageServiceAsync":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/config"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["dojo/promise/all"]),e(e.dj.r.absMids["cometd/cometd"]),e(e.dj.r.absMids["cometd/AckExtension"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/transportEnums"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/instanceEnums"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-remote/iframeproxy/IframeProxyClient"])],M=e.dj.d(b,function(l,A,m,u,t,o,s,i,c,n){const r=t.setTimeout,a=t.clearTimeout,f=2e4,g=30,p=!1;let d=0,h=0;const v={},R=200;setInterval(function(){d+=R,Object.keys(v).forEach(function(T){const D=v[T];D&&D.execTime<=d&&(D.func(),delete v[T])})},R),t.setTimeout=function(T,D){if(D===0)return r(T,D);{h+=1;const j=`t-${h}`;return v[j]={func:function(){try{T()}catch(F){c.warn(`Exception invoking timed function in callback
, this is likely an issue with code calling MessageService`,T,F)}},execTime:d+D},j}},t.clearTimeout=function(T){typeof T=="number"?a(T):delete v[T]};const C=function(T,D,j,F,U){const w=new t.CometD(T);return w.registerExtension("ack",new o),w},S=function(T,D){T.successful?D.resolve(T):(c.warn("Message failed: ",T),D.reject(T))},x=l([],{BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async",logCometdLifecycle:!1,logCometdSubscriptions:!1,constructor:function(T,D,j,F,U){U=U||{},this.remote=T,this.constructCometD=D||C,this.workerProxyAsyncClient=j||new n("remoteWorkerAsyncProducer");const w=i[U.instanceType];w&&(this.BASE_PREFIX=w.BASE_PREFIX,this.BASE_END_POINT=w.BASE_END_POINT),this.cometdProperties=F||{useWorkerScheduler:!1,stickyReconnect:!0,connectTimeout:5e3,maxConnections:2,backoffIncrement:2e3,maxBackoff:2e3,logLevel:"warn",maxNetworkDelay:f,requestHeaders:{},appendMessageTypeToURL:!1,autoBatch:!0,urls:{},maxURILength:2e3,maxSendBayeuxMessageSize:Number.MAX_SAFE_INTEGER};const I=["maxNetworkDelay","connectTimeout","logLevel"],O=A.cometdProperties;if(O)for(let N=0;N<I.length;N+=1){const H=I[N];O[H]!==void 0&&(this.cometdProperties[H]=O[H])}this.subscriptions={},this.recentMessages=[],this._deferredCleanupFunction=()=>{this._deferredCleanup=!1,this.recentMessages=[]},this.routingHost=x.workerHostOverride||this.remote.getWorkerRoutingHost(),this.routingKey=this.remote.getWorkerRoutingKey(),this.computeToken=this.remote.getComputeSessionId();const W=this.remote.getEndPointByName("WORKER_ASYNC_ENDPOINT");this.withCredentials=W?W.withCredentials:!1;const z=this._setUpEndPoint();this.computeToken&&(z.computeToken=this.computeToken),this.cometdProperties.url=z.url,this.cometdProperties.requestHeaders={computeToken:z.computeToken},this.cometd=null,this._connectedAtLeastOnce=!1,this.logCometdLifecycle&&c.info("MessageServiceAsync will construct new cometd instance when connecting.")},onMessage:function(T){},onConnectionError:function(){},onConnectionFails:function(){},onConnectionSuccess:function(){},connect:function(T){this.routingHost=x.workerHostOverride||this.remote.getWorkerRoutingHost(),this.routingKey=this.remote.getWorkerRoutingKey(),this.computeToken=this.remote.getComputeSessionId();const D=this.remote.getEndPointByName("WORKER_ASYNC_ENDPOINT");this.withCredentials=D?D.withCredentials:!1;const j=this._setUpEndPoint();this.computeToken&&(j.computeToken=this.computeToken),this.cometdProperties.url=j.url,this.cometdProperties.requestHeaders={computeToken:j.computeToken},this.cometd||(this.cometd=this.constructCometD("messageService",this.workerProxyAsyncClient,{websocket:x.enableWebsocket},j,this.remote),this.registerTransports({websocket:x.enableWebsocket}),this.logCometdLifecycle&&c.info("MessageServiceAsync constructing new cometd instance."));const F=new m;let U=0;return this.cleanupListeners(),this._handshakeHandle=this.cometd.addListener("/meta/handshake",w=>{if(w.successful===!0){U=0;let I,O;const W=[];this.doStartBatch();for(I in T)Object.prototype.hasOwnProperty.call(T,I)&&(O=T[I],W.push(this.doSubscribe(I)),O.subscribed=!0);this.doEndBatch(),u(W).then(z=>{this._connectedAtLeastOnce=!0,F.isFulfilled()?this.cometd&&this.onConnectionSuccess():F.resolve(z)},()=>{let z,N;const H=[];this.doStartBatch();for(z in T)Object.prototype.hasOwnProperty.call(T,z)&&(N=T[z],H.push(this.doSubscribe(z)),N.subscribed=!0);this.doEndBatch(),u(H).then(X=>{this._connectedAtLeastOnce=!0,F.isFulfilled()?this.cometd&&this.onConnectionSuccess():F.resolve(X)},X=>{F.reject(X)})})}}),this._connectHandle=this.cometd.addListener("/meta/connect",w=>{w.successful===!0&&(U>0&&this.cometd&&this.onConnectionSuccess(),U=0)}),this._unsuccessHandle=this.cometd.addListener("/meta/unsuccessful",w=>{if((w.channel==="/meta/handshake"||w.channel==="/meta/connect"||w.advice&&w.advice.reconnect==="handshake")&&U<g)U+=1,U===1&&this.onConnectionError();else if(w.channel==="/meta/disconnect")F&&!F.isFulfilled()&&F.reject(w);else if(U>=g){const I=this.doDisconnect();this._connectedAtLeastOnce||I.catch(()=>{c.info("MessageService never got connected to the server, and the attempt to disconnect also fails. Suppressing console error with this info log")}),F&&!F.isFulfilled()?F.reject(w):this.onConnectionFails()}}),this.cometd.init(this.cometdProperties),F.promise},registerTransports:function(T){const D=new t.LongPollingTransport;D.accept=()=>!0;const j=new t.WebSocketTransport;this.cometd.unregisterTransports(),T[s.WEBSOCKET]&&this.cometd.registerTransport(s.WEBSOCKET,j,0),this.cometd.registerTransport(s.LONG_POLLING,D,1)},disconnect:function(){this.logCometdLifecycle&&c.info("MessageServiceAsync disconnecting cometd due to disconnect call.",this.cometd.getClientId());const T=this._createOneShotMessagePromise("/meta/disconnect");return this.cometd.disconnect(),T},destructCometd:function(){this.cometd&&(this.cleanupListeners(),this.cometd=null,this.logCometdLifecycle&&c.info("MessageServiceAsync destroying cometd instance."))},cleanup:function(){this.cometd&&(this.logCometdLifecycle&&c.info("MessageServiceAsync disconnecting cometd due to cleanup call.",this.cometd,this.cometd&&this.cometd.getClientId()),this.cometd.disconnect())},cleanupListeners:function(){this._handshakeHandle&&this.cometd.removeListener(this._handshakeHandle),this._connectHandle&&this.cometd.removeListener(this._connectHandle),this._unsuccessHandle&&this.cometd.removeListener(this._unsuccessHandle)},delegateConnected:function(){return this.cometd?!this.cometd.isDisconnected()&&this.cometd.getStatus()!=="handshaking":!1},doPublish:function(T,D){const j=new m;return this.cometd.publish(this._getRequestChannel(T),D,{},function(F){S(F,j)}),j.promise},doSubscribe:function(T){this.logCometdSubscriptions&&c.info("MessageServiceAsync subscribing cometd to channel: "+T);const D=this._createOneShotMessagePromise("/meta/subscribe");return this.subscriptions[T]=this.cometd.subscribe(this._getRequestChannel(T),this,this._handleCometResponse),D},doDisconnect:function(){this.logCometdSubscriptions&&c.info("MessageServiceAsync sending disconnect to cometd");const T=this._createOneShotMessagePromise("/meta/disconnect");return this.cometd.disconnect(!0),T},doUnsubscribe:function(T){if(this.subscriptions[T]){this.logCometdSubscriptions&&c.info("MessageServiceAsync unsubscribing cometd from channel: "+T);const D=this._createOneShotMessagePromise("/meta/unsubscribe");return this.cometd.unsubscribe(this.subscriptions[T]),delete this.subscriptions[T],D}else return new m().resolve({successful:!0})},doStartBatch:function(){this.cometd.startBatch()},doEndBatch:function(){this.cometd.endBatch()},doSetLatency:function(T){this.workerProxyAsyncClient.setLatency(T)},doSetErrorRate:function(T){this.workerProxyAsyncClient.setErrorRate(T)},getTransport:function(){return this.cometd&&!this.cometd.isDisconnected()?this.cometd.getTransport().getType():s.UNKNOWN},_handleCometResponse:function(T){this._shouldHandleMessage(T)&&this.onMessage(this._stripBasePrefixAndConvertToJson(T))},_shouldHandleMessage:function(T){return T.id?!1:this.recentMessages.indexOf(T)<0?(this.recentMessages.push(T),this._deferRecentMessagesCleanup(),!0):!1},_deferRecentMessagesCleanup:function(){this._deferredCleanup||(this._deferredCleanup=setTimeout(this._deferredCleanupFunction,0))},_createOneShotMessagePromise:function(T){const D=new m;return this._addOneShotListener(T,function(j){S(j,D)}),D.promise},_addOneShotListener:function(T,D){const j=this,F=this.cometd,U=this.cometd.addListener(T,function(w){F.removeListener(U),D.apply(j,arguments)})},_setUpEndPoint:function(){let T,D=!1;const j="MESSAGE_SERVICE_ASYNC_ENDPOINT",F=!0,U=!0;let w;return p&&typeof this.remote.sendPayload=="function"?(D=!0,this.remote.createNewEndPoint(j,F,this.BASE_END_POINT,"remoteWorkerAsyncProducer",U),this.remote.setServiceEndPoint(j,this.routingHost,this.routingKey),T=this.remote.getUrlForEndPoint(j),w=this.remote.getEndPointAllowsDirectXhr(j)):(T=this.routingHost||"/",T.slice(-1)!=="/"&&(T+="/"),T+=this.BASE_END_POINT,this.routingKey&&(T+="?routingkey="+this.routingKey)),{remoteSupportsSendPayload:D,url:T,endPointName:j,endPointAllowsDirectXhr:w}},_getRequestChannel:function(T){return this.BASE_PREFIX+T},_stripBasePrefixAndConvertToJson:function(T){return{channel:T.channel.substring(this.BASE_PREFIX.length),data:T.data}}});return x.enableWebsocket=!1,x.workerHostOverride=!1,window.location.search.indexOf("websocket=on")>=0&&(x.enableWebsocket=!0),x},E,P),E.exports=M},"mw-messageservice/messageserviceimpl/MessageServiceBase":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceState"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/transportEnums"])],M=e.dj.d(b,function(l,A,m,u,t,o,s){return l([o],{logSubscriptions:!1,constructor:function(){this.batching=!0,this.typeSerializers=[],this.typeDeserializers={},this.channelSubscriptions={},this._queuedOps=[],this._hasConnected=!1},setDelegate:function i(c){this.inherited("setDelegate",i,arguments),m.after(this._delegate,"onMessage",A.hitch(this,this.handleMessage),!0)},publish:function(i,c){if(this.isConnected()){const n=this._queuePublish(i,this.serialize(c));return this._deferProcessQueue(),n}else return this._queuePublish(i,this.serialize(c))},subscribe:function(i,c,n){this.logSubscriptions&&t.info("MessageService subscribe: "+i,c,n);const r=this._queueSubscribe(i,c,n);return this._addHandler(this.channelSubscriptions,i,c,n),r.catch(()=>{r.isCanceled()||this._removeHandler(this.channelSubscriptions,i,c,n)}),this.isConnected()&&this._deferProcessQueue(),r},unsubscribe:function(i,c,n){if(this.logSubscriptions&&t.info("MessageService unsubscribe: "+i,c,n),this._removeHandler(this.channelSubscriptions,i,c,n)){if(this._removeQueuedMatchingSubscribe(i,c,n))return new u().resolve();if(this.isConnected()){const a=this._queueUnsubscribe(i,c,n);return this._deferProcessQueue(),a}else return new u().resolve()}else return t.error("Not subscribed to channel: "+i+", can't unsubscribe."),new u().reject("Not subscribed to channel: "+i+", can't unsubscribe.")},flush:function(){if(this.isConnected())this._processQueue();else throw new Error("Can only manually flush the queue when connected.")},setLatency:function(i){this._delegate&&this._delegate.doSetLatency&&this._delegate.doSetLatency(i)},setErrorRate:function(i){this._delegate&&this._delegate.doSetErrorRate&&this._delegate.doSetErrorRate(i)},getTransport:function(){return this._delegate&&this._delegate.getTransport?this._delegate.getTransport():s.UNKNOWN},_enterDisconnected:function i(){this.inherited("_enterDisconnected",i,arguments),this._rejectQueue()},_enterConnecting:function i(){this.inherited("_enterConnecting",i,arguments),Object.keys(this.channelSubscriptions).forEach(c=>{this.channelSubscriptions[c].subscribed=!1})},_enterConnected:function i(){this._hasConnected=!0,this.inherited("_enterConnected",i,arguments),this._processQueue()},_enterDisconnecting:function i(){this._processQueue(),this.inherited("_enterDisconnecting",i,arguments)},_enterFatallyDisconnected:function i(){this.inherited("_enterFatallyDisconnected",i,arguments),this._rejectQueue()},_queuePublish:function(i,c){const n=new u;return this._queuedOps.push({type:"publish",channel:i,data:c,deferred:n}),n.promise},_queueSubscribe:function(i,c,n){const r=new u;return this._queuedOps.push({type:"subscribe",channel:i,handler:c,scope:n,deferred:r}),r.promise},_removeQueuedMatchingSubscribe:function(i,c,n){let r;for(let a=this._queuedOps.length-1;a>=0;a-=1)if(r=this._queuedOps[a],r.type==="subscribe"&&r.channel===i&&r.handler===c&&r.scope===n){this._queuedOps.splice(a,1);const f=this._delegate&&this._delegate.delegateConnected();return this.isConnected()&&f&&r.deferred.resolve(),!0}},_queueUnsubscribe:function(i,c,n){const r=new u;return this._queuedOps.push({type:"unsubscribe",channel:i,handler:c,scope:n,deferred:r}),r.promise},_processQueue:function(){const i=this._delegate&&this._delegate.delegateConnected();if(!(this.isConnected()&&i)&&this._currentState!=="disconnecting")return;this._delegate.doStartBatch();const n=this._queuedOps;this._queuedOps=[],n.forEach(function(r){let a;r.type==="publish"?a=this._delegate.doPublish(r.channel,r.data):r.type==="subscribe"?a=this._doSubscribe(r.channel,r.handler,r.scope):r.type==="unsubscribe"&&(a=this._doUnsubscribe(r.channel,r.handler,r.scope)),a.then(r.deferred.resolve,r.deferred.reject)},this),this._delegate.doEndBatch()},_rejectQueue:function(){if(this._hasConnected){for(let i=0;i<this._queuedOps.length;i+=1)this._queuedOps[i].deferred.reject(new Error("MessageService disconnected. Discarding queued message"));this._queuedOps=[]}this._hasConnected=!1},_deferProcessQueue:function(){if(this.batching&&!this._deferredTimeout){const i=this;this._deferredTimeout=setTimeout(function(){i._deferredTimeout=!1,i._processQueue()},0)}else this.batching||this._processQueue()},_doSubscribe:function(i){if(this.channelSubscriptions[i].subscribed)return new u().resolve();{const c=this._delegate.doSubscribe(i);return this.channelSubscriptions[i].subscribed=!0,c.catch(()=>{this.channelSubscriptions[i].subscribed=!1}),c}},_doUnsubscribe:function(i){return this.channelSubscriptions[i]?new u().resolve():this._delegate.doUnsubscribe(i)},handleMessage:function(i){let c;if(i&&i.channel){i.data&&(i.data=this.deserialize(i.data));const n=i.channel.split("/");for(c=1;c<=n.length;c+=1)this._callHandlers(this.channelSubscriptions,n.slice(0,c).concat("**").join("/"),i);this._callHandlers(this.channelSubscriptions,n.slice(0,n.length-1).concat("*").join("/"),i),this._callHandlers(this.channelSubscriptions,n.concat("*").join("/"),i),this._callHandlers(this.channelSubscriptions,i.channel,i)}},registerMessageHandler:function(i,c,n){t.error("registerMessageHandler is not supported any more.")},deregisterMessageHandler:function(i,c,n){t.error("deregisterMessageHandler is not supported any more.")},registerTypeSerializer:function(i,c,n){this.typeSerializers.push({typeMatcher:i,type:c,serializer:n})},registerTypeDeserializer:function(i,c){this.typeDeserializers[i]=c},serialize:function(i){return A.isArray(i)?this._serializeArray(i):i instanceof Number||i instanceof Boolean||A.isString(i)?i:this._serializeObject(i)},deserialize:function(i){return A.isArray(i)?this._deserializeArray(i):i instanceof Number||i instanceof Boolean||A.isString(i)?i:this._deserializeObject(i)},_addHandler:function(i,c,n,r){if(r=r||this,typeof n=="string"&&typeof r[n]!="function"){t.warn("Not adding invalid handler: "+n);return}let a=i[c];a||(a=[],i[c]=a);const f={channel:c,handler:n,scope:r};a.push(f),a.sort(function(g){return g.exclusive?-1:0})},_removeHandler:function(i,c,n,r){r=r||this;const a=i[c],f=this._getHandlerIndex(a,{handler:n,scope:r});return f>=0&&a.splice(f,1),(!a||a.length===0)&&delete i[c],f>=0},_callHandlers:function(i,c,n){let r,a;if(Object.prototype.hasOwnProperty.call(i,c))for(r=i[c],a=0;a<r.length;a+=1)try{typeof r[a].handler=="string"?r[a].scope[r[a].handler].call(r[a].scope,n):r[a].handler.call(r[a].scope,n)}catch(f){t.error("Error while executing message handler on channel: "+c+", message: "+JSON.stringify(n,null,2)+", error: ",f)}},_getHandlerIndex:function(i,c){if(!i)return-1;let n;for(n=0;n<i.length;n+=1)if(c.handler===i[n].handler&&c.scope===i[n].scope)return n;return-1},_serializeObject:function(i){let c,n;for(n=0;n<this.typeSerializers.length;n+=1){const r=this.typeSerializers[n];if(r.typeMatcher(i))return{__type__:r.type,__value__:r.serializer.call(this,i)}}if(i instanceof window.Image)return i;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(i[c]=this.serialize(i[c]));return i},_serializeArray:function(i){let c;const n=i.length;for(c=0;c<n;c+=1)i[c]=this.serialize(i[c]);return i},_deserializeObject:function(i){let c;if(i==null)return null;if(Object.prototype.hasOwnProperty.call(i,"__type__")&&Object.prototype.hasOwnProperty.call(i,"__value__"))try{return this.typeDeserializers[i.__type__].call(this,i.__value__)}catch(n){t.error("Error while trying to deserialize: ",i,"Error: ",n)}for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&i[c]!==null&&i[c]!==void 0&&(i[c]=this.deserialize(i[c]));return i},_deserializeArray:function(i){let c;const n=i.length;for(c=0;c<n;c+=1)i[c]=this.deserialize(i[c]);return i}})},E,P),E.exports=M},"mw-messageservice/messageserviceimpl/MessageServiceState":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/Evented"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/promise/all"]),e(e.dj.r.absMids["mw-statemachine/StateMachine"]),e(e.dj.r.absMids["mw-log/Log"])],M=e.dj.d(b,function(l,A,m,u,t,o,s){return l([A],{logStateChanges:!1,constructor:function(){this._stateOptions={context:this,name:"WraDataService",namespace:"MOTW.wra",defaultSubstate:"disconnected",substates:{disconnected:{transitions:{onEnterState:this._enterDisconnected,start:"connecting"}},connecting:{transitions:{onEnterState:this._enterConnecting,_connectSuccess:"connected",_connectFailure:"fatallyDisconnected",stop:"disconnected"}},connected:{transitions:{onEnterState:this._enterConnected,_reconnect:"connecting",stop:"disconnecting"}},disconnecting:{transitions:{onEnterState:this._enterDisconnecting,_disconnectSuccess:"disconnected",_disconnectFailure:"disconnected","timeout 2":"disconnected"}},fatallyDisconnected:{transitions:{onEnterState:this._enterFatallyDisconnected,stop:"disconnected"}}}}},setDelegate:function(i){this._delegate!==i&&(this._delegate=i,this._states=new o(this._stateOptions),u.after(this._states,"onEnterState",m.hitch(this,this._enterState),!0),this._states.start());const c=this;u.after(this._delegate,"onConnectionError",function(){c._changeStateToConnecting()},!0),u.after(this._delegate,"onConnectionFails",function(){c._currentState="fatallyDisconnected",c._enterFatallyDisconnected()},!0),u.after(this._delegate,"onConnectionSuccess",function(){c._currentState="connected",c._enterConnected()},!0)},_changeStateToConnecting:function(){s.info("something wrong with connection, so changing state to connecting now, cometd is trying to connect again on its own"),this._currentState="connecting",this.onNotConnected()},onConnected:function(){this.emit("connected")},onNewlyConnected:function(){},onDisconnected:function(){this.emit("disconnected")},onReconnected:function(){this.emit("reconnected")},onFatallyDisconnected:function(){this.emit("fatallyDisconnected")},onNotConnected:function(){this.emit("notConnected")},isStarted:function(){return this._currentState!=="disconnecting"&&this._currentState!=="disconnected"},isConnected:function(){return this._currentState==="connected"},isFatallyDisconnected:function(){return this._currentState==="fatallyDisconnected"},isDisconnected:function(){return this._currentState==="disconnected"},start:function(){this._forceStop=!1},stop:function(){this._forceStop=!0},_enterState:function(i){const c=this._currentState;this._currentState=i,this.logStateChanges&&s.info("MessageService state change: "+c+" -> "+i),c==="connected"&&this.onNotConnected(),i==="connected"&&this._previouslyConnected?this.onReconnected():i==="connected"&&!this._previouslyConnected&&this.onNewlyConnected()},_enterDisconnected:function(){this._previouslyConnected=!1,this._delegate.cleanup(),this._forceStop&&this._delegate.destructCometd(),this.onDisconnected()},_enterConnecting:function(){this._delegate.cleanup(),this._delegate.connect(this.channelSubscriptions).then(this._connectSuccess,this._connectFailure)},_reconnect:function(){},_connectSuccess:function(){},_connectFailure:function(){},_timeoutAction:function(){this.logStateChanges&&s.info("MessageService timeout:",arguments)},_enterConnected:function(){this._previouslyConnected&&s.info("Successfully connected."),this._previouslyConnected=!0,this.onConnected()},_enterFatallyDisconnected:function(){this.onFatallyDisconnected()},_enterDisconnecting:function(){this._delegate.disconnect().then(this._disconnectSuccess,this._disconnectFailure)},_disconnectSuccess:function(){},_disconnectFailure:function(){}})},E,P),E.exports=M},"mw-messageservice/messageserviceimpl/createMessageServiceDefaultInstance":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceBase"])],M=e.dj.d(b,function(l,A,m,u){return function(o){const s=new u,i={messageService:s,subscribe:l.hitch(s,"subscribe"),unsubscribe:l.hitch(s,"unsubscribe"),publish:l.hitch(s,"publish"),start:l.hitch(s,"start"),stop:l.hitch(s,"stop"),isRunning:l.hitch(s,"isStarted"),isStarted:l.hitch(s,"isStarted"),isConnected:l.hitch(s,"isConnected"),isFatallyDisconnected:l.hitch(s,"isFatallyDisconnected"),isDisconnected:l.hitch(s,"isDisconnected"),setLatency:l.hitch(s,"setLatency"),setErrorRate:l.hitch(s,"setErrorRate"),getTransport:l.hitch(s,"getTransport"),onConnected:function(){},onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},onNotConnected:function(){},on:function(c,n){return m(this.messageService,c,n)},handleMessage:l.hitch(s,"handleMessage"),internalMotwDisableStart:function(){this._startFunction=this.start,this.start=function(){}},internalMotwEnableStart:function(){this._startFunction&&(this.start=this._startFunction,this._startFunction=null)}};return A.after(s,"onConnected",l.hitch(i,"onConnected"),!0),A.after(s,"onDisconnected",l.hitch(i,"onDisconnected"),!0),A.after(s,"onReconnected",l.hitch(i,"onReconnected"),!0),A.after(s,"onFatallyDisconnected",l.hitch(i,"onFatallyDisconnected"),!0),A.after(s,"onNotConnected",l.hitch(i,"onNotConnected"),!0),s.setDelegate(o),i}},E,P),E.exports=M},"mw-messageservice/messageserviceimpl/instanceEnums":(E,P,e)=>{var b,M;b=[],M=e.dj.d(b,function(){return{APP_SERVICE_HOST:{name:"APP_SERVICE_HOST",BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async/blue"},MATLAB_SERVICE_HOST:{name:"MATLAB_SERVICE_HOST",BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async"}}},E,P),E.exports=M},"mw-messageservice/messageserviceimpl/messageServiceFactory":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/instanceEnums"])],M=e.dj.d(b,function(l){const A=/AppServiceHost/i,m=t=>t.serviceName.match(A)!==null,u=(t,o)=>m(o)?t[l.APP_SERVICE_HOST.name]():t[l.MATLAB_SERVICE_HOST.name]();return function(o,s){if(s.serviceName){if(!s.serviceName.length||s.serviceName.length<5)throw new Error("serviceName must be longer than 4 characters")}else throw new Error("Must provide a serviceName");const i=u(o,s),c={};return["subscribe","unsubscribe","publish","isStarted","isConnected","isFatallyDisconnected","isDisconnected","setLatency","setErrorRate","getTransport","on","onConnected","onDisconnected"].forEach(n=>{c[n]=i[n].bind(i)}),c.messageService=i.messageService,c}},E,P),E.exports=M},"mw-messageservice/messageserviceimpl/transportEnums":(E,P,e)=>{var b,M;b=[],M=e.dj.d(b,function(){return{UNKNOWN:"unknown",LONG_POLLING:"long-polling",WEBSOCKET:"websocket"}},E,P),E.exports=M},"mw-remote/EndPointsManager":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["mw-remote/iframeproxy/IframeProxyClient"]),e(e.dj.r.absMids["mw-remote/utils/SecurityUtils"])],M=e.dj.d(b,function(l,A,m,u){return l([],{constructor:function(){this._initializeEndPointsCollection()},_initializeEndPointsCollection:function(){this.endPointsCollection={ROUTER_LEAF_INSECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json",messages:["RouterLogin","CreateAccount","CurrentUser","Login","UpdateAccount","ServiceRegistry","ClientType","AuthorizationDetails","AcquireMatlab"],iframeProxyName:"remoteProducer",withCredentials:!0,acceptsMessageContainerMessages:!0},ROUTER_LEAF_SECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteProducer",withCredentials:!0,acceptsMessageContainerMessages:!0},WORKER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!1,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteWorkerProducer",withCredentials:!0,acceptsMessageContainerMessages:!0},WORKER_ASYNC_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/async",messages:[],iframeProxyName:"remoteWorkerAsyncProducer",withCredentials:!0,acceptsMessageContainerMessages:!0},USAGE_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"udc/service/v1/events",messages:["UsageDataEventCollection"],iframeProxyName:"remoteUDCProducer",withCredentials:!1,acceptsMessageContainerMessages:!1},HELP_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"",messages:["HelpDataEventCollection"],iframeProxyName:"doc_center",withCredentials:!1,acceptsMessageContainerMessages:!1}}},reset:function(){this._initializeEndPointsCollection()},setUpNewEndPoint:function(o,s,i,c,n){this.endPointsCollection[o]={routingHost:"",routingKey:"",pathSuffix:i,enabled:s,messages:[],iframeProxy:null,iframeProxyName:c,acceptsMessageContainerMessages:n}},getPathSuffixForEndPoint:function(o){return this.endPointsCollection[o].pathSuffix},setPathSuffixForEndPoint:function(o,s){this.endPointsCollection[o].pathSuffix=s},getEndPointNames:function(){const o={};let s;for(s in this.endPointsCollection)Object.prototype.hasOwnProperty.call(this.endPointsCollection,s)&&(o[s]=s);return o},setRoutingHostAndRoutingKey:function(o,s,i){if(s&&s.lastIndexOf("/")!==s.length-1&&(s+="/"),!u.isAllowed(s))throw new Error("Insecure endpoint.");this.endPointsCollection[o].routingHost=s,i&&(this.endPointsCollection[o].routingKey=i),this._setIframeRoutingHostAndRoutingkey(o)},_setIframeRoutingHostAndRoutingkey:function(o){const s=this.getIframeProxyClientForEndPoint(o);s&&s.setRemotePageHost(this.endPointsCollection[o].routingHost,this.endPointsCollection[o].routingKey,null,this.endPointsCollection[o].iframeProxyUrl,{withCredentials:this.endPointsCollection[o].withCredentials})},getRoutingHost:function(o){return this.endPointsCollection[o].routingHost},getRoutingKey:function(o){return this.endPointsCollection[o].routingKey},getMessageTypesMappedToEndPoint:function(o){return this.endPointsCollection[o].messages},isEndPointEnabled:function(o){return this.endPointsCollection[o].enabled},setMessageTypesToEndPoint:function(o,s){this.endPointsCollection[o].messages=s},enableEndPoint:function(o){this.endPointsCollection[o].enabled=!0},disableEndPoint:function(o){this.endPointsCollection[o].enabled=!1},getEndPointForMessageType:function(o){let s=null,i;for(i in this.endPointsCollection)if(Object.prototype.hasOwnProperty.call(this.endPointsCollection,i)&&(s=A.lastIndexOf(this.endPointsCollection[i].messages,o)>-1?i:s,s)){if(this.isEndPointEnabled(s))break;s=null}return s||this.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT},getRemoteUrlForEndPoint:function(o){let s=this.endPointsCollection[o].routingHost+this.endPointsCollection[o].pathSuffix;return this.endPointsCollection[o].routingKey&&(s=s+"?routingkey="+this.endPointsCollection[o].routingKey),s},setIframeProxyClientForEndPoint:function(o,s){this.endPointsCollection[o].iframeProxy=s},getIframeProxyClientForEndPoint:function(o){let s=this.endPointsCollection[o].iframeProxy;return s||(s=new m(this.endPointsCollection[o].iframeProxyName),this.endPointsCollection[o].iframeProxy=s),s},isEndpointMessageContainerBased:function(o){return o&&this.endPointsCollection[o]?this.endPointsCollection[o].acceptsMessageContainerMessages:!0},addMessagesTypesToEndPoint:function(o,s){this.endPointsCollection[o]&&this.endPointsCollection[o].messages.indexOf(s)===-1&&this.endPointsCollection[o].messages.push(s)},removeMessageTypesFromEndPoint:function(o,s){if(this.endPointsCollection[o]){const i=this.endPointsCollection[o].messages.indexOf(s);i>-1&&this.endPointsCollection[o].messages.splice(i,1)}}})},E,P),E.exports=M},"mw-remote/Remote":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/_base/Deferred"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["mw-remote/iframeproxy/IframeProxyClient"]),e(e.dj.r.absMids["mw-remote/impl/FaultManager"]),e(e.dj.r.absMids["mw-remote/impl/RequestManager"]),e(e.dj.r.absMids["mw-remote/impl/ResponseManager"]),e(e.dj.r.absMids["mw-remote/impl/Transaction"]),e(e.dj.r.absMids["mw-remote/impl/AutoDetectedTransaction"]),e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),e(e.dj.r.absMids["mw-remote/utils/SendMessageUtil"]),e(e.dj.r.absMids["mw-remote/UploadToWorker"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-remote/utils/RemoteUrlUtils"]),e(e.dj.r.absMids["mw-remote/serviceRegistryLookup!"])],M=e.dj.d(b,function(l,A,m,u,t,o,s,i,c,n,r,a,f,g,p){const d={reset:function(){let v=[];const R=new t,C=new s({faultManager:R}),S=new o({responseManager:C});d.faultManager=R,d.responseManager=C,d.requestManager=S,d._serviceRegistryLookup=p,d._uploadParameters={};const x=d.proxyClient=new u;d.createUploadIframeTarget=l.hitch(x,x.createUploadIframeTarget),d.cancelUpload=l.hitch(x,x.cancelUpload),n.setIframeProxyClientForEndPoint(n.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,x),n.setIframeProxyClientForEndPoint(n.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,x),i.construct=function(T){return T=T||{},n.getRoutingHost(n.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT)||d.setEndpoint(),T.allowedMessages=v,T.sendMessage=d.sendMessage,T.computeSessionId=d.getComputeSessionId,new c(T)},d.registerEndpointLevelFaultHandler=l.hitch(R,R.registerEndpointLevelFaultHandler),d.sendMessage=l.hitch(S,S.sendMessage),d.sendPayload=r.sendPayload,d.registerDefaultMessageFactory=l.hitch(S,S.registerDefaultMessageFactory),d.deregisterDefaultMessageFactory=l.hitch(S,S.deregisterDefaultMessageFactory),d.registerResponseHandler=l.hitch(C,C.registerResponseHandler),d.deregisterResponseHandler=l.hitch(C,C.deregisterResponseHandler),d.registerFaultHandler=l.hitch(R,R.registerFaultHandler),d.deregisterFaultHandler=l.hitch(R,R.deregisterFaultHandler),d.registerTopLevelFaultHandler=l.hitch(R,R.registerTopLevelFaultHandler),d.deregisterTopLevelFaultHandler=l.hitch(R,R.deregisterTopLevelFaultHandler),d.setServiceEndPoint=function(T,D,j){n.setRoutingHostAndRoutingKey(T,D,j)},d.setServicePathSuffixForEndPoint=function(T,D){n.setPathSuffixForEndPoint(T,D)},d.ignoreTopLevelFault=d.registerTopLevelFaultHandler,d.setComputeToken=function(T){d._uploadParameters.computeToken=T.computeSessionId,S.computeToken=T},d.setWorkerEndpoint=function(T,D){d._uploadParameters.routingKey=D,n.setRoutingHostAndRoutingKey(n.getEndPointNames().WORKER_ENDPOINT,T,D)},d.setEndpoint=function(T){if(!T){const D=d._serviceRegistryLookup.getServiceRegistryEndpoint("primary");D?T=D:(f.info("ServiceRegistryLookup is empty, falling back to localhost"),T="/")}if(!T||T==="/"){const D=(document.getElementsByTagName("base")[0]||{}).href;if(D!==void 0){const j=document.createElement("a");j.display="none",j.href=D,T=j.protocol+"//"+j.hostname+(j.port?":"+j.port:"")+"/"}else T=window.location.protocol+"//"+window.location.host+"/"}n.setRoutingHostAndRoutingKey(n.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,T),n.setRoutingHostAndRoutingKey(n.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,T),x.setRemotePageHost(T,void 0,void 0,void 0,{withCredentials:n.endPointsCollection[n.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT].withCredentials})},d.setAllowedMessages=function(T){v=T},d.allowAllMessages=function(){v=[]},d.getEndPoint=function(){return n.getRoutingHost(n.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT)},d.getComputeSessionId=function(){return S.computeToken?S.computeToken.computeSessionId:null},d.getWorkerRoutingHost=function(){let T=n.getRoutingHost(n.getEndPointNames().WORKER_ENDPOINT);if(T)return T;if(T=d._serviceRegistryLookup.getServiceRegistryEndpoint("primary"),!T||T==="/"){const D=(document.getElementsByTagName("base")[0]||{}).href;if(D!==void 0){const j=document.createElement("a");j.display="none",j.href=D,T=j.protocol+"//"+j.hostname+(j.port?":"+j.port:"")+"/"}else T=window.location.protocol+"//"+window.location.host+"/"}return T},d.getWorkerRoutingKey=function(){return n.getRoutingKey(n.getEndPointNames().WORKER_ENDPOINT)},d.getDownloadUrlForFile=T=>{if(!T)throw new Error("Invalid input arguments provided!");const D=new A,j=new URL(d.getWorkerRoutingHost()+"download"+T);return r.sendPayload(JSON.stringify({messages:{CreateCsrfToken:[{}]}}),n.getEndPointNames().WORKER_ENDPOINT).then(U=>{U.messages.CreateCsrfTokenResponse.forEach(function(w){w.messageFaults&&w.messageFaults.length>0||(j.searchParams.set("csrfToken",w.csrfToken),D.resolve(j))})}),D},d.upload=function(T,D){return new a().upload(T,D,{endpoint:d.getWorkerRoutingHost(),uploadParams:d._uploadParameters})},d.createWorkerRoutingHostUrl=function(T){return g.createWorkerRoutingHostUrl(T,{host:d.getWorkerRoutingHost(),sessionId:d.getComputeSessionId(),routingKey:d.getWorkerRoutingKey()})},d.getServiceRegistryEndpoint=function(T){return d._serviceRegistryLookup.getServiceRegistryEndpoint(T)},d.enableServerOnWorkerAsync=function(){n.enableEndPoint(n.getEndPointNames().WORKER_ASYNC_ENDPOINT)},d.disableServerOnWorkerAsync=function(){n.disableEndPoint(n.getEndPointNames().WORKER_ASYNC_ENDPOINT)},d.isServerOnWorkerAsyncEnabled=function(){return n.isEndPointEnabled(n.getEndPointNames().WORKER_ASYNC_ENDPOINT)},d.enableServerOnWorker=function(){n.enableEndPoint(n.getEndPointNames().WORKER_ENDPOINT)},d.disableServerOnWorker=function(){n.disableEndPoint(n.getEndPointNames().WORKER_ENDPOINT)},d.isWorkerEndpointEnabled=function(){return n.isEndPointEnabled(n.getEndPointNames().WORKER_ENDPOINT)},d.setWorkerOnlyMessageTypes=function(T){n.setMessageTypesToEndPoint(n.getEndPointNames().WORKER_ENDPOINT,T)},m.after(x,"onError",function(T){T&&R.handleNonTransactionFault(T)},!0),d.createNewEndPoint=function(T,D,j,F,U){this.getEndPointByName(T)||n.setUpNewEndPoint(T,D,j,F,U)},d.getUrlForEndPoint=function(T){return n.getRemoteUrlForEndPoint(T)},d.getEndPointByName=function(T){return n.getEndPointNames()[T]}}};return d.reset(),d},E,P),E.exports=M},"mw-remote/RemoteEndPointsManager":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["mw-remote/EndPointsManager"])],M=e.dj.d(b,function(l){let A=null;return function(){return A===null&&(A=new l),A}()},E,P),E.exports=M},"mw-remote/ReplaceUploadIframe":(E,P,e)=>{"use strict";var b,M;b=[],M=e.dj.d(b,function(){"use strict";return class{constructor(l){this._xhr=null,this._uploadDestinationUrl=l.uploadDestinationUrl,this._computeToken=l.computeToken,this._routingkey=l.routingkey,this._fileDestination=l.fileDestination,this._csrfToken=l.csrfToken,this._postMessage=A=>{l.postMessage(A)}}_postMessageToParent(l){this._postMessage({data:l})}_createFormDataFromFileList(l){const A=new window.FormData,m="uploadFileName";for(let u=0;u<l.length;u++){const t=l[u];A.append(m,t,t.name)}return A}_createAndSendXhr(l){this._xhr=new XMLHttpRequest,this._xhr.upload.onprogress=A=>{this._postMessageToParent({type:"updateProgress",loaded:A.loaded,total:A.total})},this._xhr.onload=()=>{this._postMessageToParent({type:"uploadFinished",status:this._xhr.status,response:this._xhr.response})},this._xhr.onerror=()=>{this._postMessageToParent({type:"uploadError",status:this._xhr.status,response:this._xhr.response})},this._xhr.open("POST","".concat(this._uploadDestinationUrl,"?dest=").concat(this._fileDestination,"&computeToken=").concat(this._computeToken,"&routingkey=").concat(this._routingkey,"&csrfToken=").concat(this._csrfToken),!0),this._xhr.withCredentials=!0,this._xhr.send(l)}handleMessage(l){if(l.data instanceof FileList){const A=this._createFormDataFromFileList(l.data);this._createAndSendXhr(A);return}l.data==="cancelUpload"&&(this._xhr&&this._xhr.abort(),this._postMessageToParent({type:"uploadCanceled"}))}}},E,P),E.exports=M},"mw-remote/UploadToWorker":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["dojo/dom-construct"]),e(e.dj.r.absMids["mw-html-utils/HtmlUtils"]),e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),e(e.dj.r.absMids["mw-remote/utils/SendMessageUtil"]),e(e.dj.r.absMids["mw-remote/ReplaceUploadIframe"])],M=e.dj.d(b,function(l,A,m,u,t,o,s){return l([],{constructor:function(){},upload:function(c,n,r){const a=this;if(this._uploadHandler=new A(function(){a.postMessageToUploadIframe("cancelUpload"),a._unloadIframe()}),this._workerEndpoint=r.endpoint,c instanceof FileList){let f={csrfToken:void 0,validForMs:void 0};return o.sendPayload(JSON.stringify({messages:{CreateCsrfToken:[{}]}}),t.getEndPointNames().WORKER_ENDPOINT).then(function(p){p.messages.CreateCsrfTokenResponse.forEach(function(R){R.messageFaults&&R.messageFaults.length>0||(f={csrfToken:R.csrfToken,validForMs:R.validForMs})});const d=r.uploadParams,h=d.computeToken,v=d.routingKey;a._initiateUpload(c,{uploadDestinationUrl:a._workerEndpoint+"upload",computeToken:h,routingkey:v,fileDestination:encodeURIComponent(n),csrfToken:encodeURIComponent(f.csrfToken)})}),this._uploadHandler}},_initiateUpload:function(c,n){const r=this;this._eventCallBack=function(a){switch(a.data.type){case"updateProgress":r._uploadHandler.progress({loaded:a.data.loaded,total:a.data.total});break;case"uploadFinished":r._uploadHandler.resolve({status:a.data.status,response:a.data.response}),r._unloadIframe();break;case"uploadError":r._uploadHandler.reject({status:a.data.status,response:a.data.response});break;default:break}},n.postMessage=this._eventCallBack,this._ReplaceUploadIframe=new s(n),this.postMessageToUploadIframe(c)},_unloadIframe:function(){this._ReplaceUploadIframe=null},getHostName:function(c){return u.parseUrl(c).hostname},postMessageToUploadIframe:function(c){this._ReplaceUploadIframe&&this._ReplaceUploadIframe.handleMessage({data:c})}})},E,P),E.exports=M},"mw-remote/defaultMessageMapping":(E,P,e)=>{"use strict";var b,M;b=[],M=e.dj.d(b,function(){return{Eval:["CurrentFolder","ListFolder"],"Eval:Ping":[],"Eval:RunFile":["UpdateFile","CurrentFolder","ListFolder"],"Eval:MlsPublishPre":["UpdateFile"],"FEval:liveEvalInstrumentCode":[],Interrupt:[],"FEval:GetFigures":["CurrentFolder","ListFolder"],"FEval:CloseFigure":["FEval:GetFigures"],"FEval:SelectFigure":["FEval:GetFigures"],"FEval:ResetAxes":["FEval:GetFigures"],"FEval:ResizeFigure":["FEval:GetFigures"],"FEval:AxesInteraction2D":["FEval:GetFigures"],"FEval:AxesInteraction3D":["FEval:GetFigures"],CurrentUser:["ServiceRegistry"],RouterLogin:["ServiceRegistry"],CurrentFolder:["ListFolder"],MoveFile:["CurrentFolder"],Variable:[],CloseFile:["SaveSession"],UpdateFile:["SaveSession"],SaveSession:["UpdateFile"],SaveSessionState:["UpdateFile"],Logout:["CloseFile"],UpdateShare:["ListFolder"],AcquireMatlab:["ServiceRegistry"]}},E,P),E.exports=M},"mw-remote/iframeproxy/CheckUrlService":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["dojo/request/script"]),e(e.dj.r.absMids["mw-log/Log"])],M=e.dj.d(b,function(l,A,m,u){"use strict";function t(o){if(!o)throw new Error("Expected a valid url in urlToEmptyJsFile");const s={};s.framedoc=null;const i="error",c=m.get(o,s,!0),n=l.byId(c.id,s.frameDoc),r=A(n,i,function(a){u.info("CheckUrlService detected an error accessing url: "+o),c.handleResponse(null,a),r.remove()});return c.promise}return t},E,P),E.exports=M},"mw-remote/iframeproxy/IframeProxyClient":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/connect"]),e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/Deferred"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/dom-construct"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-remote/iframeproxy/CheckUrlService"])],M=e.dj.d(b,function(l,A,m,u,t,o,s,i){const c=A([],{constructor:function(){this._messageId=0,this._loaded=!1,this._pendingQueue=[],this._transactions={},this._uploadTargetCallbacks={},this._checkUrl=null,this._loadTimeoutHandle=null,this._checkUrlTimeout=null,this._errorRate=0,this._inFlightTransactions={},this._webSocket=null},setRemotePageHost:function(r,a,f,g){let p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};r=this._combineUriPaths(r||"","/"),a=a||"",g=g||"",this.computeToken=f,this._withCredentials=this._withCredentials||!1,typeof p.withCredentials>"u"||p.withCredentials===null||(this._withCredentials=!!p.withCredentials),!(r===this._host&&a===this._key&&g===this._proxyUrl)&&(this._errorLoading=!1,this._host=r,this._key=a,this._proxyUrl=g,this._cleanupFailureChecks(),this._loaded=!0,this._flushPending())},setLatency:function(r){this._latency=r},setErrorRate:function(r){this._errorRate=r},sendMessage:function(r,a,f){const g=this;let p;this.computeToken&&(f=f||{},f.headers=f.headers||{},f.headers.computeToken=this.computeToken);const d=f||{},h=this._getNewMessageId();p={action:"sendMessage",id:h,endpoint:a,options:d,message:r};function v(){p={action:"abort",id:h},g._postMessage(p)}const R={deferred:new m(v),id:h};return this._errorLoading?R.deferred.reject("Error loading: "+this._url):(this._transactions[h]=R,this._postMessage(p)),R.deferred},_postMessage:function(r){this._loaded?this._postMessageNow(r):this._pendingQueue.push(r)},_handleMessage:function(r){let a,f,g,p;const d=r.data.action;if(!d)throw new Error("Client unable to parse message, no action specified: "+JSON.stringify(r.data));switch(d){case"ready":this._cleanupFailureChecks(),this._loaded=!0,this._flushPending();break;case"sendMessageResponse":this._sendMessageResponse(r);break;case"uploadIframeMessage":a=r.data.id,f=r.data.message,this._uploadTargetCallbacks[a](f);break;case"websocketOpened":this.onWebsocketOpen();break;case"websocketClosed":g=r.data.message,this.onWebsocketClose(g);break;case"websocketMsg":p=r.data.message,this.onWebsocketMsg(p);break;case"websocketError":this.onWebsocketError();break;default:throw new Error("Unknown action: "+d+", data: "+JSON.stringify(r.data))}},_sendMessageResponse:function(r){let a;const f=r.data.id,g=r.data.responseType,p=r.data.message;if(!f||!g)throw new Error("Invalid message: "+JSON.stringify(r.data));const d=this._transactions[f];if(!d)throw new Error("Unknown transaction id: "+f+": "+JSON.stringify(r.data));if(delete this._transactions[f],!d.deferred.isCanceled()){if(g==="success"){try{a=p&&JSON.parse(p)}catch(h){a=p}a=a===""?{}:a,d.deferred.resolve(a);return}this.onError(p),d.deferred.reject(p)}},_cleanupFailureChecks:function(){this._checkUrlTimeout&&clearTimeout(this._checkUrlTimeout),this._loadTimeoutHandle&&clearTimeout(this._loadTimeoutHandle),this._checkUrl&&!this._checkUrl.isFulfilled()&&this._checkUrl.cancel("Timeout Occurred",!1),this._checkUrlTimeout=null,this._loadTimeoutHandle=null,this._checkUrl=null},_handleLoadTimeout:function(){let r;if(this._loaded)return;const a={code:"IframeLoadTimeout",description:"Iframe proxy loading failed due to an HTTP error",message:""},f=this._transactions;this._transactions={},this._pendingQueue=[];for(r in f)Object.prototype.hasOwnProperty.call(f,r)&&f[r].deferred.reject("Timeout: "+this._url+" at "+new Date);this._errorLoading=!0,this.onError(a)},_handleXhrResponse:function(r,a){const f={action:"sendMessageResponse",id:r,responseType:"success",message:a};this._handleMessage({data:f})},_handleXhrFault:function(r,a){const f={action:"sendMessageResponse",id:r,responseType:"fault",message:a};this._handleMessage({data:f})},_sendXHRNow:function(r){let a,f,g,p,d,h,v;const R=r.data.action;if(!R)throw new Error("Unable to parse message, no action specified: "+JSON.stringify(r.data));let C;switch(R){case"sendMessage":if(a=r.data.id,f=r.data.endpoint,p=r.data.options,g=r.data.message,a&&f&&g)try{if(d=new XMLHttpRequest,this._inFlightTransactions[a]={xhr:d},h=!1,d.onreadystatechange=()=>{let S;d.readyState===0?(h=!0,this.handleXhrFault(a,"XHR readyState 0")):d.readyState===4&&!h&&(h=!0,S=d.status||0,S>=200&&S<300||S===304?this._handleXhrResponse(a,d.responseText):this._handleXhrFault(a,d.responseText)),h&&d&&(d.onreadystatechange=this._noop,d=null,delete this._inFlightTransactions[a].xhr,delete this._inFlightTransactions[a])},d.open("POST",f,!0),d.withCredentials=this._withCredentials,d.setRequestHeader("Content-Type",p.contentType?p.contentType:"application/json"),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),p.headers)for(v in p.headers)Object.prototype.hasOwnProperty.call(p.headers,v)&&d.setRequestHeader(v,p.headers[v]);d.send(g)}catch(S){this.handleXhrFault(a,"Unable to send data: "+S.toString())}else throw new Error("Invalid message to send: "+JSON.stringify(r.data));break;case"abort":a=r.data.id,this._inFlightTransactions[a]&&this._inFlightTransactions[a].xhr.abort();break;case"connectWebsocket":C=r.data.url,this._webSocket=new WebSocket(C),this._webSocket.onopen=()=>{this.onWebsocketOpen()},this._webSocket.onmessage=S=>{this.onWebsocketMsg(S)},this._webSocket.onclose=S=>{const x={code:S.code,reason:S.reason,wasClean:S.wasClean};this.onWebsocketClose(x)},this._webSocket.onerror=()=>{this.onWebsocketError()};break;case"websocketSend":this._webSocket.send(r.data.data);break;case"closeWebsocket":this._webSocket.close();break;default:throw new Error("Unknown action: "+R)}},_postMessageNow:function(r){const a=this;let f,g;function p(){if(a._errorRate>0&&Math.random()<a._errorRate&&r.action==="sendMessage"){if(f=r.id,g=a._transactions[f],g){delete a._transactions[f],s.error("Generating simulated error. Request was: ",JSON.stringify(r));const d="403 Forbidden;403";a.onError(d),g.deferred.reject(d)}}else a._sendXHRNow({data:r})}this._latency?setTimeout(p,this._latency):p()},_flushPending:function(){this._pendingQueue.forEach(this._postMessageNow,this),this._pendingQueue=[]},_getNewMessageId:function(){return this._messageId+=1,this._messageId.toString()},onError:function(){},onWebsocketOpen:function(){},onWebsocketMsg:function(){},onWebsocketClose:function(){},onWebsocketError:function(){},_combineUriPaths:function(){return Array.prototype.slice.call(arguments).reduce(function(f,g){return f.length===0?g:(g.length>0&&(g[0]==="/"&&f.lastIndexOf("/")===f.length-1?g=g.substring(1):g[0]!=="/"&&f.lastIndexOf("/")!==f.length-1&&(f+="/")),f+g)})}});return c.WebSocket=A([],{constructor:function(r){const a=this;this.proxyClient=c.WebSocket.proxyClient,this.proxyClient.computeToken&&r.indexOf("?")>=0&&(r=r+"&computeToken="+this.proxyClient.computeToken);const f={action:"connectWebsocket",url:r};this.proxyClient._postMessage(f),t.after(this.proxyClient,"onWebsocketOpen",function(){a.onopen.apply(a,arguments)},!0),t.after(this.proxyClient,"onWebsocketMsg",function(){a.onmessage.apply(a,arguments)},!0),t.after(this.proxyClient,"onWebsocketClose",function(){a.onclose.apply(a,arguments)},!0),t.after(this.proxyClient,"onWebsocketError",function(){a.onerror.apply(a,arguments),a.proxyClient.onError.apply(a.proxyClient,arguments)},!0)},onopen:function(){},onmessage:function(){},onclose:function(){},onerror:function(){},send:function(r){const a={action:"websocketSend",data:r};this.proxyClient._postMessage(a)},close:function(){const r={action:"closeWebsocket"};this.proxyClient._postMessage(r)}}),c},E,P),E.exports=M},"mw-remote/impl/AutoDetectedTransaction":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-remote/impl/JsonTransaction"]),e(e.dj.r.absMids["mw-remote/utils/SendMessageUtil"])],M=e.dj.d(b,function(l,A,m){return l([A],{_doSend:function(t){return m.sendPayload(t,this.endPointName)}})},E,P),E.exports=M},"mw-remote/impl/FaultManager":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"])],M=e.dj.d(b,function(l,A,m){return A([],{constructor:function(t){t=t||{},this.faultHandlers=t.faultHandlers||{},this.topLevelHandlers=t.topLevelHandlers||[],this.endPointLevelHandlers=t.endPointLevelHandlers||{}},registerFaultHandler:function(t,o,s){s&&(o=m.hitch(s,o)),this.faultHandlers[t]=o},deregisterFaultHandler:function(t){delete this.faultHandlers[t]},registerTopLevelFaultHandler:function(t,o,s){let i;if(s&&(o=m.hitch(s,o)),m.isString(t)){if(t==="*")return i={matcher:t,handler:o},this.defaultTopLevelHandler=o,i;t=this._constructMatcherFromQuery(t)}return i={matcher:t,handler:o},this.topLevelHandlers.push(i),i},registerEndpointLevelFaultHandler:function(t,o,s,i){i&&(s=m.hitch(i,s)),m.isString(o)&&(o=this._constructMatcherFromQuery(o));const c={matcher:o,handler:s};return this.endPointLevelHandlers[t]||(this.endPointLevelHandlers[t]=[]),this.endPointLevelHandlers[t].push(c),c},deregisterTopLevelFaultHandler:function(t){const o=this.topLevelHandlers.indexOf(t);o>-1?this.topLevelHandlers.splice(o,1):t.matcher==="*"&&delete this.defaultTopLevelHandler},_constructMatcherFromQuery:function(t){const o=t.split("||"),s=[];return o.forEach(function(i){i=m.trim(i),i=i.replace(/([.])/g,"\\$1"),i=i.replace(/\*/g,".*"),s.push(new RegExp("^"+i+"$"))}),function(i){return l.some(s,function(c){return c.test(i.faultCode||i.code||"")})}},handleFault:function(t){let o;const s=function(c,n){let r;const a=t.getMessageClassifier(n);a&&(r=[c,a].join(":"),this.faultHandlers[r]&&this.faultHandlers[r](t.fault,t.context))};for(o in t.requestMessages)if(Object.prototype.hasOwnProperty.call(t.requestMessages,o)){this.faultHandlers[o]&&this.faultHandlers[o](t.fault,t.context);const i=t.requestMessages[o];Array.isArray(i)&&i.forEach(m.hitch(this,s,o))}this.faultHandlers["*"]&&this.faultHandlers["*"](t.fault,t.context),this.endPointLevelHandlers[t.endPointName]?this._handleEndpointLevelFault(t):this._handleTopLevelFault(t)},_handleEndpointLevelFault:function(t){let o=!1;const s=l.filter(this.endPointLevelHandlers[t.endPointName],function(i){return i.matcher.call(this,t.fault,t.context)},this);return s.length>0&&s[0].handler&&(o=!0,s[0].handler.call(this,t.fault,t.context,t)),o},_handleTopLevelFault:function(t){const o=l.filter(this.topLevelHandlers,function(i){return i.matcher.call(this,t.fault,t.context)},this),s=o.length>0?o[0].handler:this.defaultTopLevelHandler;s&&s.call(this,t.fault,t.context,t)},handleNonTransactionFault:function(t){const o=l.filter(this.topLevelHandlers,function(i){return i.matcher.call(this,t)},this),s=o.length>0?o[0].handler:this.defaultTopLevelHandler;s&&s.call(this,t)}})},E,P),E.exports=M},"mw-remote/impl/JsonTransaction":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/xhr"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),e(e.dj.r.absMids["mw-remote/impl/Transaction"])],M=e.dj.d(b,function(l,A,m,u,t){return l(t,{constructor:function(s){s=s||{},this.uuid=s.uuid||this._generateUuid()},_getRequest:function(s){const i=u.isEndpointMessageContainerBased(this.endPointName);let c=null;return i?(c={uuid:this.uuid,messages:s},this.computeToken&&(c.computeToken=this.computeToken)):Object.keys(s).forEach(function(r){c=s[r]}),this._sanitizeForJson(c),JSON.stringify(c,null,0)},_sanitizeForJson:function(s){let i;if(m.isArray(s))s.forEach(this._sanitizeForJson,this);else if(m.isObject(s))for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(s[i]===void 0?delete s[i]:(m.isObject(s[i])||m.isArray(s[i]))&&this._sanitizeForJson(s[i]))},_doSend:function(s){return A.post({url:this._getEndpoint(),contentType:"application/json",handleAs:"json",postData:s})},_processResponse:function(s){this.stopTime=new Date().getTime(),s?(s.fault&&(this.fault=s.fault),s.messages?this.responseMessages=s.messages:this.responseMessages=s):this.fault={faultCode:"Connection.Fault",message:"Unable to communicate with server, no response."}},_processFault:function(s){this.stopTime=new Date().getTime(),this.fault={faultCode:"Connection.Fault",message:s}}})},E,P),E.exports=M},"mw-remote/impl/RequestManager":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/Deferred"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),e(e.dj.r.absMids["mw-remote/defaultMessageMapping"]),e(e.dj.r.absMids["mw-remote/impl/Transaction"])],M=e.dj.d(b,function(l,A,m,u,t,o,s){return A([],{defaultMapping:o,constructor:function(c){c=c||{},this.defaultFactories=c.defaultFactories||{},this.mockHandlers=c.mockHandlers||{},this.mapping=c.mapping||this.defaultMapping,this.responseManager=c.responseManager},registerDefaultMessageFactory:function(c,n,r){r&&(n=u.hitch(r,n)),this.defaultFactories[c]=n},deregisterDefaultMessageFactory:function(c){delete this.defaultFactories[c]},registerMockResponseGenerator:function(c,n,r){const a=this;n=u.hitch(r||this,n),this.mockHandlers[c]=function(f,g){let p;const d=s.construct(g);p=n(f,d),p||(p=new m,p.callback()),p.addCallback(function(){a.responseManager._processResult(d)})}},deregisterMockResponseGenerator:function(c){delete this.mockHandlers[c]},sendMessage:function(c,n,r){const a={},f={};let g,p;n=n||{},this._createAndFillTransactions(c,n,r,a,f);const d=Object.keys(a);for(g=0;g<d.length;g=g+1)p=d[g],this._callMocks(f[p]),a[p].send(),this.responseManager.handleTransaction(a[p])},_getTransaction:function(c,n){return s.construct({context:n,computeToken:this.computeToken,endPointName:c})},_getMockTransaction:function(c,n,r){return s.construct({context:n,computeToken:this.computeToken,endPointName:c,uuid:r})},_createAndFillTransactions:function(c,n,r,a,f){let g,p;const d=function(C){let S,x,T,D,j,F;const U=t.getEndPointForMessageType(C);if(j=a[U],F=f[U],j||(j=this._getTransaction(U,n),F=this._getMockTransaction(U,n,j.uuid),a[U]=j,f[U]=F),this.defaultFactories[C]){if(S=this.defaultFactories[C](j.context),!S)return;x=C.split(":"),T=x[0],D=x.slice(1,x.length).join(":"),this.mockHandlers[C]||j.addRequestMessage(T,S,D),F.addRequestMessage(T,S,D)}};let h,v;for(g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const R=t.getEndPointForMessageType(g);h=f[R],v=a[R],a[R]||(v=this._getTransaction(R,n),h=this._getMockTransaction(R,n,v.uuid),a[R]=v,f[R]=h),p=[g,r].join(":"),this.mockHandlers[g]||this.mockHandlers[p]||v.addRequestMessage(g,c[g],r),h.addRequestMessage(g,c[g],r),this.mapping[p]?this.mapping[p].forEach(d,this):this.mapping[g]&&this.mapping[g].forEach(d,this)}},_callMocks:function(c){let n,r;const a=c.context;delete c.context;const f=function(p,d){let h;const v=n.getMessageClassifier(d);v&&(h=[p,v].join(":"),this.mockHandlers[h]&&this.mockHandlers[h]([d],n))};for(r in c.requestMessages)Object.prototype.hasOwnProperty.call(c.requestMessages,r)&&(n=u.mixin({},c),n.context=a,Object.prototype.hasOwnProperty.call(this.mockHandlers,r)&&this.mockHandlers[r](n.requestMessages[r],n),Array.isArray(n.requestMessages[r])?n.requestMessages[r].forEach(u.hitch(this,f,r)):f(r,n.requestMessages[r]));this.mockHandlers["*"]&&this.mockHandlers["*"](r,n.requestMessages[r],n)}})},E,P),E.exports=M},"mw-remote/impl/ResponseManager":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"])],M=e.dj.d(b,function(l,A,m,u){return l([],{constructor:function(o){o=o||{},this.responseHandlers=o.responseHandlers||{},this.faultManager=o.faultManager,this.transactions=o.transactions||[]},registerResponseHandler:function(o,s,i){i&&(s=A.hitch(i,s)),this.responseHandlers[o]=s},deregisterResponseHandler:function(o){delete this.responseHandlers[o]},handleTransaction:function(o){this.transactions.push(o),o.deferred.addCallback(A.hitch(this,this._processAll,o)),o.deferred.addCallback(A.hitch(this,this._processResult,o)),o.deferred.addErrback(A.hitch(this,this._processAll,o)),o.deferred.addErrback(A.hitch(this,this._processFault,o))},_processAll:function(o){const s=this.transactions.indexOf(o);s>=0&&this.transactions.splice(s,1)},_processResult:function(o){o.getResponseMessageTypes().forEach(function(s){const i=o.responseMessages[s],c=[];try{Array.isArray(i)&&(i.forEach(function(n){let r;const a=o.getMessageClassifier(n);if(a){r=[s,a].join(":");const f=this;let g=!1;o.getRequestMessageTypes().forEach(function(p){const d=o.requestMessages[p];Array.isArray(d)?d.forEach(function(h){f.responseHandlers[r]&&h.uuid===n.uuid&&(f.responseHandlers[r]([n],o.context),g=!0)}):f.responseHandlers[r]&&d.uuid===n.uuid&&(f.responseHandlers[r]([n],o.context),g=!0)}),g||c.push(n)}else c.push(n)},this),c.length>0&&this.responseHandlers[s]&&this.responseHandlers[s](c,o.context),this.responseHandlers["*"]&&this.responseHandlers["*"](s,o.responseMessages[s],o.context))}catch(n){m.error(`Remote: Fault occurred while processing response.
Message: `+n.message+`
Type: `+s+`
Response: `+JSON.stringify(i,null,2))}},this),this._processUdcResponses(o),o.fault&&this.faultManager.handleFault(o)},_processUdcResponses:function(o){if(!u.isEndpointMessageContainerBased(o.endPointName)){const i=Object.keys(o.requestMessages)[0];this.responseHandlers[i]&&this.responseHandlers[i](o.responseMessages)}},_processFault:function(o){this.faultManager.handleFault(o)}})},E,P),E.exports=M},"mw-remote/impl/Transaction":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/Deferred"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),e(e.dj.r.absMids["mw-utils/Utils"])],M=e.dj.d(b,function(l,A,m,u,t){return l([],{constructor:function(s){s=s||{},this.requestMessages=s.requestMessages||{},this.responseMessages=s.responseMessages||{},this.context=s.context,this.computeToken=s.computeToken,this.uuidClassifierMap=s.uuidClassifierMap||{},this.endPointName=s.endPointName||null,this.allowedMessages=s.allowedMessages||[],this.ignoreMessageTypes=s.ignoreMessageTypes||[],this.sendMessage=s.sendMessage},addRequestMessage:function(s,i,c){if(!i)return;const n=u.isEndpointMessageContainerBased(this.endPointName);this.requestMessages[s]||(this.requestMessages[s]=[]),m.isArray(i)?i.forEach(function(r){this.addRequestMessage(s,r,c)},this):n?(i.uuid=i.uuid||this._generateUuid(),c&&(this.uuidClassifierMap[i.uuid]=c),this.requestMessages[s].push(i)):this.requestMessages[s]=i,this.requestMessages=this._filterMessages(this.requestMessages)},_filterMessages:function(s){const i={};return this.getRequestMessageTypes().forEach(function(c){(this.allowedMessages.length===0||this.allowedMessages.indexOf(c)>=0)&&(i[c]=s[c])},this),i},getResponseMessageTypes:function(){let s;const i=[];for(s in this.responseMessages)Object.prototype.hasOwnProperty.call(this.responseMessages,s)&&i.push(s);return i},getRequestMessageTypes:function(){let s;const i=[];for(s in this.requestMessages)Object.prototype.hasOwnProperty.call(this.requestMessages,s)&&i.push(s);return i},getMessageClassifier:function(s){return s&&s.uuid&&Object.prototype.hasOwnProperty.call(this.uuidClassifierMap,s.uuid)?this.uuidClassifierMap[s.uuid]:""},send:function(){this._removeEmptyMessages(),this._isEmpty(this.requestMessages)?(this.deferred=new A,this.deferred.callback()):(this.startTime=new Date().getTime(),this.deferred=this._doSend(this._getRequest(this.requestMessages)),this.deferred.addCallback(this,this._processResponse),this.deferred.addErrback(this,this._processFault))},addIgnoreMessageType:function(s,i){if(this.getRequestMessageTypes().indexOf(s)>-1)if(i){let c;for(c in this.uuidClassifierMap)Object.prototype.hasOwnProperty.call(this.uuidClassifierMap,c)&&i&&this.uuidClassifierMap[c]===i&&this.ignoreMessageTypes.push(s+":"+i)}else this.ignoreMessageTypes.push(s)},_removeEmptyMessages:function(){if(!this._isEmpty(this.requestMessages)){let s;for(s in this.requestMessages)Object.prototype.hasOwnProperty.call(this.requestMessages,s)&&m.isArray(this.requestMessages[s])&&t.getArrayLength(this.requestMessages[s])===0&&delete this.requestMessages[s]}},_isEmpty:function(s){let i;for(i in s)if(Object.prototype.hasOwnProperty.call(s,i))return!1;return!0},_generateUuid:function(){return t.generateUuid()}})},E,P),E.exports=M},"mw-remote/serviceRegistryLookup":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/request/xhr"]),e(e.dj.r.absMids["mw-html-utils/HtmlUtils"]),e(e.dj.r.absMids["mw-remote/utils/SecurityUtils"])],M=e.dj.d(b,function(l,A,m){let u=!1;const t={};t._serviceData={},t.getServiceRegistryEndpoint=function(i){if(t._serviceData.serviceregistry){let c;const n=t._serviceData.serviceregistry.length;for(c=0;c<n;c+=1)if(t._serviceData.serviceregistry[c].name===i)return t._serviceData.serviceregistry[c].endpoint}return""};const o=function(c){let n=A.parseQueryString().mre;if(n){const r=new URL(n,window.location.href);if(m.isAllowed(r)){n=r.href;let a=c.serviceregistry;a=Array.isArray(a)?a:[];let f=!1;a.forEach(g=>{g.name&&g.name==="primary"&&(g.endpoint=n,f=!0)}),f||(a.push({name:"primary",endpoint:n}),c.serviceregistry=a)}}return c},s={_doXhr:function(c,n){return l(c,{handleAs:"json",failOk:!0,method:"GET",timeout:15e3,sync:n})},_reset:function(){u=!1,t._serviceData={}},load:function(c,n,r){if(u)r(t);else{const a=!n.async;s._doXhr("/serviceregistrylookup/1/service",a).then(function(f){f instanceof Object||(f={}),t._serviceData=o(f),u=!0,r(t)},function(){t._serviceData=o({}),u=!0,r(t)})}}};return s},E,P),E.exports=M},"mw-remote/utils/RemoteUrlUtils":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["mw-log/Log"])],M=e.dj.d(b,function(l){const A=/^(?:[a-z]+:)?\/\//i,m=["localhost","127.0.0.1","[::1]"];return{createWorkerRoutingHostUrl:function(t,o){if(t==="about:blank")return t;let s=t,i="",c="";const n=o.host,r=o.sessionId,a=o.routingKey;let f=!0;try{if(i=new URL(n),this.isAbsoluteUrl(t))if(c=new URL(t),c.origin&&m.includes(c.hostname)){const g=c.pathname;s=new URL(g,i).href,c.search&&(c.searchParams.has("mre")&&c.searchParams.delete("mre"),s=s+c.search)}else c.origin&&c.hostname!==i.hostname&&(f=!1);else t&&t.startsWith("/")?s=i+t.substr(1,t.length):s=i+t;return f?(s=new URL(s),s.searchParams.set("mre",i),a&&r&&(s.search+="&routingkey="+a+"&computeToken="+encodeURIComponent(r)),s.href):s}catch(g){l.error("Input URL is malformed")}return s},isAbsoluteUrl:function(t){return!!A.test(t)}}},E,P),E.exports=M},"mw-remote/utils/SecurityUtils":(E,P,e)=>{"use strict";var b,M;b=[],M=e.dj.d(b,function(){const l=["localhost","127.0.0.1","[::1]"];return{isAllowed(A){return A instanceof URL||(A=new URL(A)),this._checkIfSameOrigin(A.origin)||this._checkIfMathWorksAllowedDomain(A.hostname)||this._checkIfAllowedLocalHost(A.hostname)},_checkIfSameOrigin:A=>A===window.location.protocol+"//"+window.location.host,_checkIfMathWorksAllowedDomain:A=>{const m=A;for(const u of[".matlab.com",".mathworks.com",".mathworks.cn",".mwcloudtest.com"])if(m.endsWith(u))return!0;return!1},_checkIfAllowedLocalHost:A=>!!l.includes(A)}},E,P),E.exports=M},"mw-remote/utils/SendMessageUtil":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),e(e.dj.r.absMids["dojo/_base/Deferred"])],M=e.dj.d(b,function(l,A){const m=function(t,o,s){return l.getIframeProxyClientForEndPoint(o).sendMessage(t,l.getRemoteUrlForEndPoint(o),s)};return{sendPayload:function(t,o,s){const i=new A;return m(t,o,s).then(function(n){i.resolve(n)}),i}}},E,P),E.exports=M},"mw-statemachine/StateMachine":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/State"])],M=e.dj.d(b,function(l,A){return l([],{constructor:function(u){u.stateMachine=this,this.state=new A(u)},start:function(){this.state.enter()},stop:function(){this.state.exit()},_changeState:function(u,t){this.state.enter(u,t)},onEnterState:function(u){},onExitState:function(u){}})},E,P),E.exports=M},"mw-statemachine/statemachineimpl/EventTrigger":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],M=e.dj.d(b,function(l,A,m,u,t){return l(t,{constructor:function(){this.connection={}},enable:function(){A.isFunction(this.context[this.name])&&(this.cachedFunction=this.context[this.name]),this.connection=m.after(this.context,this.name,A.hitch(null,this.triggerHandler,this.name),!0)},disable:function(){this.connection.remove(),this.cachedFunction&&(this.context[this.name]=this.cachedFunction)}})},E,P),E.exports=M},"mw-statemachine/statemachineimpl/MessageTrigger":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/topic"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],M=e.dj.d(b,function(l,A,m,u,t){return l(t,{constructor:function(){const s=this.name.split(" ");(s.length<2||s[0]!=="subscribe")&&u.error("Invalid trigger name for a MessageTrigger. Could not parse out the message name."),this.messageId=s[1]||"",this.subscrition={}},enable:function(){this.subscription=m.subscribe(this.messageId,A.hitch(null,this.triggerHandler,this.name))},disable:function(){this.subscription.remove()}})},E,P),E.exports=M},"mw-statemachine/statemachineimpl/RemoteTrigger":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-remote/Remote"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],M=e.dj.d(b,function(l,A,m,u,t){return l(t,{constructor:function(){const s=this.name.split(" ");(s.length<2||s[0]!=="response"&&s[0]!=="fault")&&m.error("Invalid trigger name for a RemoteTrigger. Could not parse out the type of handler."),(!u.registerResponseHandler||!u.registerFaultHandler)&&m.error("The remote package is not available, this type of trigger will not work."),this.messageId=s[1]||"",this.handlerType=s[0]},enable:function(){this.handlerType==="response"?u.registerResponseHandler(this.messageId,A.hitch(null,this.triggerHandler,this.name)):u.registerFaultHandler(this.messageId,A.hitch(null,this.triggerHandler,this.name))},disable:function(){this.handlerType==="response"?u.deregisterResponseHandler(this.messageId):u.deregisterFaultHandler(this.messageId)}})},E,P),E.exports=M},"mw-statemachine/statemachineimpl/State":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/EventTrigger"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/MessageTrigger"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/RemoteTrigger"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/TimeoutTrigger"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/Transition"])],M=e.dj.d(b,function(l,A,m,u,t,o,s,i){let c;return c=l([],{constructor:function(r){this.stateMachine=r.stateMachine||{_changeState:function(){},onEnterState:function(){},onExitState:function(){}},this.namespace=r.namespace||"",this.name=r.name||this.getDefaultName(),this.context=r.context||{},this.data=r.data||{},this.composition=r.composition||"XOR",this.defaultSubstate=r.defaultSubstate||"",this.constructSubstates(r.substates),this.constructTriggersAndTransitions(r.transitions),this.active=r.active||!1},getDefaultName:function(){let r,a;return this.namespace.length>0?(r=this.namespace.split("."),a=r.pop()):m.warn("State: state name is not specified."),a||""},constructSubstates:function(r){const a={};let f,g;for(f in r)Object.prototype.hasOwnProperty.call(r,f)&&(g=r[f],g.name&&g.name!==f&&m.error("State: error constructing substate: "+f+", the specified names don't match: "+g.name),g.name=f,g.namespace=g.namespace||[this.namespace,this.name].join("."),g.stateMachine=g.stateMachine||this.stateMachine,g.context=g.context||this.context,a[g.name]=new c(g));this.substates=a},constructTriggersAndTransitions:function(r){let a;const f={},g=[];let p;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(p=this.constructTrigger(a),p&&g.push(p),f[a]=this.constructTransition(a,r[a]));this.transitions=f,this.triggers=g},constructTrigger:function(r){let a,f;const g=r.split(" ");return g.length===2?g[0]==="subscribe"?f=t:g[0]==="response"||g[0]==="fault"?f=o:g[0]==="timeout"&&(f=s):(r!=="onEnterState"||r!=="onExitState")&&(f=u),f&&(a=new f({name:r,context:this.context,triggerHandler:A.hitch(this,this.handleTrigger)})),a},constructTransition:function(r,a){let f,g;return(A.isFunction(a)||A.isString(a)||A.isArray(a))&&(r==="onEnterState"||r==="onExitState"?(f=a,a={},a.action=f,a.target=""):(g=a,a={},a.target=g)),a.state=this,new i(a)},enter:function(r,a){this.active||(this.active=!0,this.enableTriggers(),this.stateMachine.onEnterState(this.name),this.handleTrigger.apply(this,["onEnterState"].concat(a))),r?this.changeSubstates(r,a):this.changeToDefaultSubstate(a)},exit:function(){const r=this.activeSubstates();this.active=!1,this.disableTriggers(),r.forEach(function(a){a.exit()}),this.handleTrigger("onExitState"),this.stateMachine.onExitState(this.name)},enableTriggers:function(){this.triggers.forEach(function(r){r.enable()})},disableTriggers:function(){this.triggers.forEach(function(r){r.disable()})},handleTrigger:function(r){let a,f;this.transitions[r]&&(f=Array.prototype.slice.call(arguments,1,arguments.length),a=this.transitions[r].handleTrigger(r,f),a&&(A.isString(a)||(f=a.args,a=a.target),this.stateMachine._changeState(a,f)))},changeSubstates:function(r,a){const f=this.activeSubstates();this.substates[r]&&(f.length>=0&&f[0].name!==r&&f.forEach(function(g){g.exit()}),this.substates[r].enter(void 0,a))},changeToDefaultSubstate:function(r){this.activeSubstates().length===0&&this.substates[this.defaultSubstate]&&this.substates[this.defaultSubstate].enter(void 0,r)},activeSubstates:function(){const r=[];let a;for(a in this.substates)Object.prototype.hasOwnProperty.call(this.substates,a)&&this.substates[a].active&&r.push(this.substates[a]);return r}}),c},E,P),E.exports=M},"mw-statemachine/statemachineimpl/TimeoutTrigger":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],M=e.dj.d(b,function(l,A,m,u){return l(u,{constructor:function(){const o=this.name.split(" ");(o.length<2||o[0]!=="timeout")&&m.error("Invalid trigger name for a TimeoutTrigger. Could not parse out the type of handler."),this.timeoutInSeconds=parseFloat(o[1]),this.handlerType=o[0]},enable:function(){this.disable(),this.timeoutHandle=setTimeout(A.hitch(null,this.triggerHandler,this.name),this.timeoutInSeconds*1e3)},disable:function(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null)}})},E,P),E.exports=M},"mw-statemachine/statemachineimpl/Transition":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-log/Log"])],M=e.dj.d(b,function(l,A,m){return l([],{constructor:function(t){this.state={},this.target="",this.condition=null,this.action=null,l.safeMixin(this,t)},handleTrigger:function(t,o){let s="";return this.checkCondition(t,o)&&(this.runAction(t,o),s=this.getTarget(t,this.target,o)),s},checkCondition:function(t,o){return this.condition?A.hitch(this.state.context,this.condition).apply(null,[t,this.state.data].concat(o)):!0},runAction:function(t,o){let s;const i=this;this.action&&(s=A.hitch(this.state.context,this.action),s.apply(null,[t,i.state.data].concat(o)))},getTarget:function(t,o,s){let i,c,n,r;if(A.isString(o))c=o;else if(A.isFunction(o))n=A.hitch(this.state.context,o),c=n.apply(null,[t,this.state.data].concat(s));else if(A.isArray(o))for(i=0;i<o.length;i+=1){if(c=this.getTarget(t,o[i],s),A.isString(c)){c={target:c},A.mixin(c,r);break}if(c&&c.target){A.mixin(c,r);break}r=c||{}}else m.warn("Transition: improper target: ",o);return c}})},E,P),E.exports=M},"mw-statemachine/statemachineimpl/Trigger":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"])],M=e.dj.d(b,function(l){return l([],{constructor:function(m){this.name="",this.context={},this.triggerHandler=m.triggerHandler||function(){},l.safeMixin(this,m)},enable:function(){},disable:function(){}})},E,P),E.exports=M},"mw-utils/Utils":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/_base/window"]),e(e.dj.r.absMids["mw-deprecation-utils/deprecation"])],M=e.dj.d(b,function(l,A,m){return{generateUuid:function(){const t="xxxxxxxx";return this._uuidFromTemplate(t).toUpperCase()},generateUUIDv4:function(){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";return this._uuidFromTemplate(t)},_uuidFromTemplate:function(t){return t.replace(/[xy]/g,function(o){const s=Math.random()*16|0;return(o==="x"?s:s&3|8).toString(16)})},isImageData:function(t){return!!t&&(A.global.ImageData&&t instanceof A.global.ImageData||Object.prototype.hasOwnProperty.call(t,"width")&&Object.prototype.hasOwnProperty.call(t,"height")&&Object.prototype.hasOwnProperty.call(t,"data"))},isArray:function(t){return m.deprecated({deprecated:{module:"mw-utils/Utils",method:"isArray"},geckNumber:1444368}),Array.isArray(t)},getArrayLength:function(t){let o=0;return l.isArray(t)?(t.forEach(function(s){s&&(o+=1)}),o):!1},isWhitespace:function(t){return/^\s+$/.test(t)},removeSurroundingNewLines:function(t){for(;t.charAt(0)===`
`;)t=t.substring(1);for(;t.charAt(t.length-1)===`
`;)t=t.substring(0,t.length-1);return t},getFirstUniqueElement:function(t,o){let s=null;return o.some(function(i){return t.indexOf(i)===-1?(s=i,!0):!1}),s},unionOfWordSets:function(t,o,s){t=this._stringToArray(t),o=this._stringToArray(o);const i=this.unionOfArrays(t,o);return s?i.join(" "):i},intersectionOfWordSets:function(t,o,s){t=this._stringToArray(t),o=this._stringToArray(o);const i=this.intersectionOfArrays(t,o);return s?i.join(" "):i},differenceOfWordSets:function(t,o,s){t=this._stringToArray(t),o=this._stringToArray(o);const i=this.unique(this.differenceOfArrays(t,o));return s?i.join(" "):i},unionOfArrays:function(t,o){return this.unique(t.concat(o))},intersectionOfArrays:function(t,o){return this.nonunique(t.concat(o))},differenceOfArrays:function(t,o){if(window.Map===void 0)return this._legacyDifferenceOfArrays(t,o);let s,i,c;const n=new Map,r=[];for(c=0;c<o.length;c++)n.set(o[c],null);for(c=0;c<t.length;c++)i=t[c],s=n.has(i),s||r.push(i);return r},_legacyDifferenceOfArrays:function(t,o){return this.unique(t.filter(function(s){return o.indexOf(s)===-1}))},unique:function(t){return t.filter(function(o,s){return t.indexOf(o)===s})},nonunique:function(t){return this.unique(t.filter(function(o,s){return t.indexOf(o)!==s}))},arrayEquals:function(t,o,s){if(t===o)return!0;if(t.length!==o.length)return!1;s||(s=function(c,n){return c===n});for(let i=0,c=t.length;i<c;i++)if(!s(t[i],o[i]))return!1;return!0},removeEmptyElements:function(t){return t.filter(function(o){return!(o===""||o===null||o===void 0)})},_stringToArray:function(t){return this._isString(t)?this.removeEmptyElements(t.split(" ")):t},_isString:function(t){return typeof t=="string"||t instanceof String}}},E,P),E.exports=M},"richcontent_preview_plugin/_impl/RichContentPreviewPlugin":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["dojo/Deferred"]),e.dj.c(E),e(e.dj.r.absMids["mw-utils/Utils"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-mvm/UserMvm"]),e(e.dj.r.absMids["mw-mvm/RunOptions"]),e(e.dj.r.absMids["mw-mvm/WhenToDequeue"]),e(e.dj.r.absMids["mw-remote/Remote"]),e(e.dj.r.absMids["dojo/domReady!"])],M=e.dj.d(b,function(l,A,m,u,t,o,s,i,c,n){var r={};return l([],{constructor:function(a){},getTitle:function(){},_getTitleImpl:function(a){},getUpperRightMetadata:function(){},_getUpperRightMetadataImpl:function(a){},getPrimaryMetadata:function(){},_getPrimaryMetadataImpl:function(a){},getSecondaryMetadata:function(){},_getSecondaryMetadataImpl:function(a){},getRichContent:function(){return{getRichContentFcn:this._getRichContentImpl.bind(this),overridePriority:3}},_getRichContentImpl:function(a){return{richContent:this._getImageImpl(a),isWidget:!1}},_getWidgetImpl:function(a){},_getImageImpl:async function(a){let f=s.getMVM();var g=a.path+"?v="+a.modifiedUtc;if(r[g])return this._createImageElementFromUrl(r[g]);try{let p=await f.feval("matlab.ui.internal.URLUtils.getURLToUserFile",1,[a.path],new i({dequeueMode:c.DEQUEUE_AT_PPE})),d=this.getWorkerRoutingHost()+p[0]+"?v="+a.modifiedUtc;return r[g]=d,this._createImageElementFromUrl(d)}catch(p){p._id&&p._msg?o.error("Loading image preview failed with error: "+p._id+"; "+p._msg):o.error("loading image preview failed with error: "+JSON.stringify(p))}},getWorkerRoutingHost:function(){var a=n.getWorkerRoutingHost();return a.replace(/\/$/,"")},_createImageElementFromUrl:function(a){var f=document.createElement("img");return f.src=a,f},getRichContentLabel:function(){},_getRichContentLabelImpl:function(a){}})},E,P),E.exports=M},"richcontent_preview_plugin/index":(E,P,e)=>{var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["richcontent_preview_plugin/_impl/RichContentPreviewPlugin"])],M=e.dj.d(b,function(l,A,m){return{initialize:function(u){var t=new A,o=l([m])();return t.resolve({exports:{richContentPreviewPlugin:o}}),t.promise}}},E,P),E.exports=M},"mw-mvm/CapabilitiesList":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["mw-mvm/Capability"])],M=e.dj.d(b,function(l){return{capabilityFullList:[l.InteractiveCommandLine,l.Swing,l.ComplexSwing,l.LocalClient,l.WebWindow,l.ModalDialogs,l.Debugging],getFullCapabilitiesList:function(){return this.capabilityFullList.slice()},getCapabilitiesListDiff:function(m,u){var t=m.filter(function(o){return u.indexOf(o)<0});return t}}},E,P),E.exports=M},"mw-mvm/Capability":(E,P,e)=>{"use strict";var b,M;b=[],M=e.dj.d(b,function(){var l={};return l.InteractiveCommandLine="InteractiveCommandLine",l.Swing="Swing",l.ComplexSwing="ComplexSwing",l.LocalClient="LocalClient",l.WebWindow="WebWindow",l.ModalDialogs="ModalDialogs",l.Debugging="Debugging",l},E,P),E.exports=M},"mw-mvm/ExecutionStatus":(E,P,e)=>{"use strict";var b,M;/*!
 * The outcome of executing some M-code.
 */b=[],M=e.dj.d(b,function(){var l={};l.inEXECUTION_SUCCESS="inEXECUTION_SUCCESS";/*! < it worked */l.inCOMPILE_ERROR="inCOMPILE_ERROR";/*! < couldn't parse it */l.inRUNTIME_ERROR="inRUNTIME_ERROR";/*! < parsed it, but it bombed when I ran it */l.inEXECUTION_DBQUIT="inEXECUTION_DBQUIT";/*! < dbquit from code */l.inEXECUTION_CTRLC="inEXECUTION_CTRLC";/*! < user interrupted execution */l.inCOMM_ERROR="inCOMM_ERROR";/*! communication error (e.g., connection closed) -- can happen only when
* using MATLAB as a compute server through an IPC protocol like MIPC */return l.inEXECUTION_STATUS_MAX="inEXECUTION_STATUS_MAX",l},E,P),E.exports=M},"mw-mvm/RunOptions":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/CapabilitiesList"]),e(e.dj.r.absMids["mw-mvm/WhenToDequeue"])],M=e.dj.d(b,function(l,A,m){return l(null,{constructor:function(t){typeof t!="object"?this._timeout=t:(this._timeout=t.timeout,this.dequeueMode=t.dequeueMode,this.queueName=t.queueName,this.disableBreakPoints=t.disableBreakpoints,t.capabilitiesList!==void 0&&(this.capabilitiesList=t.capabilitiesList.slice()),t.groupNames!==void 0&&(this.groupNames=t.groupNames.slice()),t.outTextCallback!==void 0&&this.setOutTextCallback(t.outTextCallback),t.errTextCallback!==void 0&&this.setErrTextCallback(t.errTextCallback),t.suppressDebugControlOutput!==void 0&&(this.suppressDebugControlOutput=t.suppressDebugControlOutput),t.outSinkTraits&&(this.outSinkTraits=t.outSinkTraits),t.errSinkTraits&&(this.errSinkTraits=t.errSinkTraits),t.commandWindowColSize&&(this.commandWindowColSize=t.commandWindowColSize),t.commandWindowRowSize&&(this.commandWindowRowSize=t.commandWindowRowSize)),this.eventNames=[],this._eventCallbackMap={}},getTimeOut:function(){return this._timeout},setTimeOut:function(t){this.timeout=t},setDequeueMode:function(t){this.dequeueMode=t},getDequeueMode:function(){return this.dequeueMode},setQueueName:function(t){this.queueName=t},getQueueName:function(){return this.queueName},disableBreakpoints:function(t){this.disableBreakPoints=t},areBreakPointsDisabled:function(){return this.disableBreakPoints},setCallback:function(t,o){this.eventNames.push(t),this._eventCallbackMap[t]=o},getEventCallbacks:function(){return this._eventCallbackMap},getCapabilitiesList:function(){if(this.capabilitiesList!==void 0)return this.capabilitiesList.slice()},setCapabilities:function(t){t?this.capabilitiesList=t.slice():this.capabilitiesList=[]},getGroupNames:function(){if(this.groupNames!==void 0)return this.groupNames.slice()},setGroupNames:function(t){t?this.groupNames=t.slice():this.groupNames=void 0},getCommandWindowColSize:function(){return this.commandWindowColSize},setCommandWindowColSize:function(t){this.commandWindowColSize=t},getCommandWindowRowSize:function(){return this.commandWindowRowSize},setCommandWindowRowSize:function(t){this.commandWindowRowSize=t},setOutTextCallback:function(t,o){this.outSink=t,this.outSinkTraits=o,this.outSink===null?this.useNullOutSink=!0:this.useNullOutSink=!1},setErrTextCallback:function(t,o){this.errSink=t,this.errSinkTraits=o,this.errSink===null?this.useNullErrSink=!0:this.useNullErrSink=!1},getOutTextCallback:function(){if(this.outSink!==void 0)return this.outSink},getErrTextCallback:function(){if(this.errSink!==void 0)return this.errSink},setSuppressDebugControlOutput:function(t){this.suppressDebugControlOutput=t},getSuppressDebugControlOutput:function(){return this.suppressDebugControlOutput},getOutSinkTraits:function(){return this.outSinkTraits},getErrSinkTraits:function(){return this.errSinkTraits},_serializeAndVerifyRunOptions:function(){var t={},o={};if(this.dequeueMode){var s=Object.keys(m).some(function(a){return m[a]===this.dequeueMode}.bind(this));if(!s)return t.error="Unknown Dequeue Mode "+this.dequeueMode,t;o.dequeueMode=this.dequeueMode}if(this.queueName)if(typeof this.queueName=="string"||this.queueName instanceof String)o.queueName=this.queueName;else return t.error="Invalid QueueName",t;if(this.capabilitiesList!==void 0){if(Array.isArray(this.capabilitiesList)){var i=A.getFullCapabilitiesList(),c=this.capabilitiesList.some(function(a){return i.indexOf(a)===-1});if(c)return t.error="Undefined Capability",t}else return t.error="Invalid Capability",t;o.capabilitiesList=this.capabilitiesList.slice()}if(this.outSink!==void 0&&(this.outSink===null?o.useNullOutSink=!0:typeof this.outSink=="function"||this.outSink instanceof Function?o.useNullOutSink=!1:t.error="Invalid outTextCallback"),this.errSink!==void 0&&(this.errSink===null?o.useNullErrSink=!0:typeof this.errSink=="function"||this.errSink instanceof Function?o.useNullErrSink=!1:t.error="Invalid errTextCallback"),this.groupNames!==void 0)if(Array.isArray(this.groupNames)){var n=this.groupNames.every(function(a){return typeof a=="string"||a instanceof String});if(n===!1)return t.error="Invalid groupNames",t;o.groupNames=this.groupNames.slice()}else return t.error="Invalid groupNames",t;if(this._eventCallbackMap!==void 0){var r=Object.keys(this._eventCallbackMap).every(function(a){return typeof this._eventCallbackMap[a]=="function"||this._eventCallbackMap[a]instanceof Function}.bind(this));if(r===!1)return t.error="Invalid setCallback",t}if(this.suppressDebugControlOutput)if(typeof this.suppressDebugControlOutput=="boolean"||this.suppressDebugControlOutput instanceof Boolean)o.suppressDebugControlOutput=this.suppressDebugControlOutput;else return t.error="Invalid suppressDebugControlOutput",t;if(this.errSinkTraits!==void 0&&(o.errSinkTraits=this.errSinkTraits),this.outSinkTraits!==void 0&&(o.outSinkTraits=this.outSinkTraits),this.commandWindowColSize!==void 0)if((typeof this.commandWindowColSize=="number"||this.commandWindowColSize instanceof Number)&&this.commandWindowColSize>=0&&Number.isInteger(this.commandWindowColSize))o.commandWindowColSize=this.commandWindowColSize;else return t.error="Invalid commandWindowColSize",t;if(this.commandWindowRowSize!==void 0)if((typeof this.commandWindowRowSize=="number"||this.commandWindowRowSize instanceof Number)&&this.commandWindowRowSize>=0&&Number.isInteger(this.commandWindowRowSize))o.commandWindowRowSize=this.commandWindowRowSize;else return t.error="Invalid commandWindowRowSize",t;return t.runOptions=o,t}})},E,P),E.exports=M},"mw-mvm/UserMvm":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["mw-mvm/impl/MVM"])],M=e.dj.d(b,function(l){return{getMVM:function(){return l.get("user-mvm")}}},E,P),E.exports=M},"mw-mvm/WhenToDequeue":(E,P,e)=>{"use strict";var b,M;b=[],M=e.dj.d(b,function(){let l={};return l.DEQUEUE_AT_PPE="DEQUEUE_AT_PPE",l.DEQUEUE_AT_PAUSE="DEQUEUE_AT_PAUSE",l.DEQUEUE_AT_PROMPT="DEQUEUE_AT_PROMPT",l.DEQUEUE_AT_NON_DEBUG_PROMPT="DEQUEUE_AT_NON_DEBUG_PROMPT",l.DEQUEUE_AT_DEBUG_PROMPT="DEQUEUE_AT_DEBUG_PROMPT",l.DEQUEUE_AT_IDLE="DEQUEUE_AT_IDLE",l.DEQUEUE_AT_BOOTSTRAP="DEQUEUE_AT_BOOTSTRAP",l},E,P),E.exports=M},"mw-mvm/impl/AttachDetach":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/impl/ConnectionData"]),e(e.dj.r.absMids["mw-mvm/impl/MVMConnection"])],M=e.dj.d(b,function(l,A,m){return l(null,{constructor:function(u,t){const o={mvmID:t,supportedApiVersions:["r24a0"]},s=new A(u,Promise.resolve("/mvm"));this._attachConnection=new m(s,"attach"),this._detachConnection=new m(s,"detach"),this._attachPromise=this._attachConnection.makeRequest(o).then(function(c){this._apiVersion=c.apiVersion,this._channelPrefix=c.channelPrefix}.bind(this)),this._attachRequestID=o.requestID;const i=new A(u,this.getChannelPrefix());this._stillAliveConnection=new m(i,"connection"),this._stillAliveConnection.subscribe("stillAlive","_stillAlive",this).catch(function(c){this.getChannelPrefix().then(function(){throw c},function(n){if(n!==c)throw c})}.bind(this))},destroy:function(){const u={requestIDtoDetach:this._attachRequestID};this._detachConnection.makeRequest(u).finally(function(){this._attachConnection.destroy(),this._detachConnection.destroy(),this._stillAliveConnection.destroy()}.bind(this))},getAPIVersion:function(){return this._attachPromise.then(function(){return this._apiVersion}.bind(this))},getChannelPrefix:function(){return this._attachPromise.then(function(){return this._channelPrefix}.bind(this))},_stillAlive:function(){}})},E,P),E.exports=M},"mw-mvm/impl/Bang":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["mw-mvm/RunOptions"])],M=e.dj.d(b,function(l){return class{constructor(m){this._mvm=m}process(m){return this._mvm.feval("matlab.internal.singlekeypress.bang.process",0,[m],new l({queueName:"SingleKeyPress"}))}}},E,P),E.exports=M},"mw-mvm/impl/Connection":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"])],M=e.dj.d(b,function(l){return l(null,{constructor:function(A,m,u){this._subscriptionPromise=A,this._subscriptionPromise.catch(function(){}),this._uId=m,this._eventMgr=u},destroy:function(){this.disconnect()},isValid:function(){return this._eventMgr._isConnected(this._uId)?this._subscriptionPromise:Promise.reject("Disconnected")},disconnect:function(){return this._eventMgr._disconnect(this._uId)}})},E,P),E.exports=M},"mw-mvm/impl/ConnectionData":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["mw-log/Log"])],M=e.dj.d(b,function(l){return class{constructor(m,u){l.assert(m!==void 0,"messageService must be defined"),l.assert(u!==void 0,"channelPrefixPromise must be defined"),l.assert(u.then!==void 0,"channelPrefixPromise must be a promise"),this._messageService=m,this._channelPrefixPromise=u,this._requestPromise=this._channelPrefixPromise}onChannelPrefix(){return this._channelPrefixPromise}queueRequest(m,u,t){let o=[this._requestPromise,this._channelPrefixPromise];m&&Symbol.iterator in m&&o.push(...m),this._requestPromise=Promise.all(o).then(u,function(s){t&&t(s)})}getMessageService(){return this._messageService}}},E,P),E.exports=M},"mw-mvm/impl/Debugger":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/impl/MVMConnection"])],M=e.dj.d(b,function(l,A){return l(null,{constructor:function(m){this._setGlobalBreakpointConnection=new A(m,"setGlobalBreakpoint"),this._clearGlobalBreakpointConnection=new A(m,"clearGlobalBreakpoint"),this._setLineBreakpointConnection=new A(m,"setLineBreakpoint"),this._clearLineBreakpointConnection=new A(m,"clearLineBreakpoint"),this._clearAllBreakpointsConnection=new A(m,"clearAllBreakpoints"),this._breakInDebuggerConnection=new A(m,"breakInDebugger")},setLineBreakpoint:function(m){const u={breakpoint:m};return this._setLineBreakpointConnection.makeRequest(u)},setGlobalBreakpoint:function(m){const u={breakpoint:m};return this._setGlobalBreakpointConnection.makeRequest(u)},clearLineBreakpoint:function(m){const u={breakpoint:m};return this._clearLineBreakpointConnection.makeRequest(u)},clearGlobalBreakpoint:function(m){const u={breakpoint:m};return this._clearGlobalBreakpointConnection.makeRequest(u)},clearAllBreakpoints:function(){const m={};return this._clearAllBreakpointsConnection.makeRequest(m)},breakInDebugger:function(){const m={};this._breakInDebuggerConnection.makeRequest(m)},destroy:function(){this._setGlobalBreakpointConnection.destroy(),this._clearGlobalBreakpointConnection.destroy(),this._setLineBreakpointConnection.destroy(),this._clearLineBreakpointConnection.destroy(),this._clearAllBreakpointsConnection.destroy(),this._breakInDebuggerConnection.destroy()}})},E,P),E.exports=M},"mw-mvm/impl/EvalFevalCancel":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/impl/MVMConnection"]),e(e.dj.r.absMids["mw-mvm/impl/MVMPromise"]),e(e.dj.r.absMids["mw-mvm/impl/RuntimeException"])],M=e.dj.d(b,function(l,A,m,u){return l(null,{constructor:function(t,o){this._fevalConnection=new A(t,"feval"),this._evalConnection=new A(t,"eval"),this._cancelConnection=new A(t,"cancel"),this._cancelGroupConnection=new A(t,"cancelGroup"),this._interruptConnection=new A(t,"interrupt"),this._textConnection=new A(t,"text"),this._textConnection.subscribe("output","_handleOutput",this).catch(function(s){}),this._textConnection.subscribe("error","_handleError",this).catch(function(s){}),this._eventMgr=o,this._outSinkMap={},this._errSinkMap={}},feval:function(t,o,s,i,c){if(!this._isStringValid(t))return this._makeRejectedPromise("Invalid function name.");if(o==null||!(typeof o=="number"||o instanceof Number)||o<0)return this._makeRejectedPromise("Invalid numberOfOutput.");let n=[];if(s!==void 0){if(!Array.isArray(s))return this._makeRejectedPromise("Invalid inputArgs");n=s.map(function(a){return JSON.stringify(a)})}if(c!==void 0&&(!this._isStringValid(c)||!(c==="preferMDAShort"||c==="alwaysMDALong")))return this._makeRejectedPromise("Invalid MDA Output Format.");const r={function:t,rhsArgs:n,numOutputsExpected:o};return c!==void 0&&(r.mdaOutputFormat=c),this._commonEvalFevalImpl(i,r,this._fevalConnection)},eval:function(t,o,s){if(!this._isStringValid(t))return this._makeRejectedPromise("Invalid string");const i={command:t,isUserEval:s};return this._commonEvalFevalImpl(o,i,this._evalConnection)},cancelGroup:function(t,o){const s={requestGroupNametoCancel:t};return o!==void 0&&(s.interrupt=o),this._cancelGroupConnection.makeRequest(s)},interrupt:function(){const t={};return this._interruptConnection.makeRequest(t)},_getOutSink:function(t){if(t in this._outSinkMap)return this._outSinkMap[t]},_getErrSink:function(t){if(t in this._errSinkMap)return this._errSinkMap[t]},_makeRejectedPromise:function(t){const o=m.makeControlObject(),s=new m(o);return o.reject(new u("inCOMPILE_ERROR",t,1)),s},destroy:function(){this._fevalConnection.destroy(),this._evalConnection.destroy(),this._textConnection.destroy();const t=!1;this._cancelConnection.destroy(t),this._cancelGroupConnection.destroy(t);const o=!1;this._interruptConnection.destroy(o)},_commonEvalFevalImpl:function(t,o,s){const i=m.makeControlObject();let c;const n=new m(i,function(g){return c?this._makeCancelRequest(c,g):Promise.reject(new u("inCOMM_ERROR","missing requestID"))}.bind(this));let r,a;if(t){if(a=t._serializeAndVerifyRunOptions(),a.error)return i.reject(new u("inCOMPILE_ERROR",a.error,1)),n;a.runOptions.eventConnections=this._prepareRunOptionEvents(t,n),r=t.getTimeOut()}o.runOptions=a?a.runOptions:void 0;const f=s.makeRequest(o,r,this._makeCancelRequest.bind(this));return c=o.requestID,t&&(this._outSinkMap[c]=t.getOutTextCallback(),this._errSinkMap[c]=t.getErrTextCallback()),f.then(function(g){g&&g.result?i.resolve(g.result):i.resolve()},function(g){i.reject(g)}).finally(function(){c in this._outSinkMap&&delete this._outSinkMap[c],c in this._errSinkMap&&delete this._errSinkMap[c]}.bind(this)),n},_handleOutput:function(t){const o=t.data,s=this._getOutSink(o.requestID);s&&s(o.text)},_handleError:function(t){const o=t.data,s=this._getErrSink(o.requestID);s&&s(o.text)},_makeCancelRequest:function(t,o){if(t===void 0)return this._makeRejectedPromise("Empty requestIDtoCancel");const s={requestIDtoCancel:t};return o!==void 0&&(s.interrupt=o),this._cancelConnection.makeRequest(s)},_prepareRunOptionEvents:function(t,o){const s=t.getEventCallbacks(),i={};return s!==void 0&&Object.keys(s).forEach(function(c){const n=s[c],r=function(f){Promise.resolve().then(function(){}).then(function(){n(f)})},a=this._eventMgr._runOptionsSubscribe(c,r);i[a._uId]=c,o.catch(function(){}).finally(function(){a.destroy()})}.bind(this)),i},_isStringValid:function(t){return t!=null&&(typeof t=="string"||t instanceof String)}})},E,P),E.exports=M},"mw-mvm/impl/EventManager":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/impl/Connection"]),e(e.dj.r.absMids["mw-mvm/impl/MVMConnection"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-utils/Utils"])],M=e.dj.d(b,function(l,A,m,u,t){return l(null,{constructor:function(o){this._subscribeConnection=new m(o,"subscribeEvent"),this._disconnectConnection=new m(o,"disconnectEvent"),this._eventConnection=new m(o,"event"),this._eventConnection.subscribe("fireEvent","_handleEvent",this).catch(function(s){o.onChannelPrefix().then(function(){throw s},function(i){if(i!==s)throw s})}),this._callbackMap={}},subscribe:function(o,s){if(o===void 0)return new A(Promise.reject(new Error("eventName is not defined")),"invalid",this);const i={eventName:o},c=this._subscribeConnection.makeRequest(i);return this._subscribeHelper(i.requestID,s,c)},destroy:function(){for(const s in this._callbackMap)this._disconnect(s);this._eventConnection.destroy(),this._subscribeConnection.destroy();const o=!1;this._disconnectConnection.destroy(o)},_disconnect:function(o){if(!this._isConnected(o))return Promise.resolve();this._callbackMap[o]=function(){};const s={requestIDtoDisconnect:o};return this._disconnectConnection.makeRequest(s).then(function(){delete this._callbackMap[o]}.bind(this),function(c){throw delete this._callbackMap[o],c}.bind(this))},_runOptionsSubscribe:function(o,s){const i=t.generateUuid();return this._subscribeHelper(i,s,Promise.resolve())},_subscribeHelper:function(o,s,i){return this._callbackMap[o]=s,new A(i,o,this)},_handleEvent:function(o){const s=o.data;if(!this._isConnected(s.requestID))return;const i=this._callbackMap[s.requestID];i(s.eventData)},_isConnected:function(o){return o in this._callbackMap}})},E,P),E.exports=M},"mw-mvm/impl/MVM":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-messageservice/MessageService"]),e(e.dj.r.absMids["mw-utils/Utils"]),e(e.dj.r.absMids["mw-mvm/impl/AttachDetach"]),e(e.dj.r.absMids["mw-mvm/impl/ConnectionData"]),e(e.dj.r.absMids["mw-mvm/impl/Debugger"]),e(e.dj.r.absMids["mw-mvm/impl/EvalFevalCancel"]),e(e.dj.r.absMids["mw-mvm/impl/EventManager"]),e(e.dj.r.absMids["mw-mvm/impl/MVMSink"]),e(e.dj.r.absMids["mw-mvm/impl/RuntimeException"]),e(e.dj.r.absMids["mw-fctrl/Features"]),e(e.dj.r.absMids["mw-mvm/impl/More"]),e(e.dj.r.absMids["mw-mvm/impl/Pause"]),e(e.dj.r.absMids["mw-mvm/impl/Bang"])],M=e.dj.d(b,function(l,A,m,u,t,o,s,i,c,n,r,a,f,g,p){const d=l(null,{constructor:function(v,R){A.assert(v==="user-mvm","Only user-mvm is supported at this time"),m.isStarted()||m.start(),this._MVMid=v,this._destroyCallback=R,this._refCount=0,this._attach=new t(m,this._MVMid);const C=new o(m,this._attach.getChannelPrefix());this._mvmSink=new n(C),this._eventManager=new c(C),this._evalFevalCancel=new i(C,this._eventManager),this._outputCallback={},this._errorCallback={},this._debugger=new s(C),this._errSinkTraits={},this._outSinkTraits={},this._features=new a(this._MVMid)},feval:function(h,v,R,C,S){return this._evalFevalCancel.feval(h,v,R,C,S)},eval:function(h,v,R){return this._evalFevalCancel.eval(h,v,R)},cancelGroup:function(h,v){return this._evalFevalCancel.cancelGroup(h,v)},interrupt:function(){return this._evalFevalCancel.interrupt()},destroy:function(){--this._refCount,!(this._refCount>0)&&(this._features&&this._features.destroy(),this._evalFevalCancel&&this._evalFevalCancel.destroy(),this._eventManager&&this._eventManager.destroy(),this._debugger&&this._debugger.destroy(),this._mvmSink&&this._mvmSink.destroy(),this._attach&&this._attach.destroy(),this._destroyCallback())},getFeatures:function(){return this._features},whenMVMReady:function(){return this._attach.getChannelPrefix().then(function(){},function(h){throw new Error("MVM rejected connection")})},setTextCallbacks:function(h){return this._mvmSink.setSinks(h.outputCallback,h.errorCallback,h.outSinkTraits,h.errSinkTraits)},getEventManager:function(){return this._eventManager},getDebugger:function(){return this._debugger},getMore:function(){return this._more===void 0&&(this._more=new f(this)),this._more},getPause:function(){return this._pause===void 0&&(this._pause=new g(this)),this._pause},getBang:function(){return this._bang===void 0&&(this._bang=new p(this)),this._bang}});return{get:function(h){let v=this._mvmMap[h];return v===void 0&&(v=new d(h,function(){delete this._mvmMap[h]}.bind(this)),this._mvmMap[h]=v),++v._refCount,v},_mvmMap:{}}},E,P),E.exports=M},"mw-mvm/impl/MVMConnection":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/impl/RuntimeException"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-mvm/ExecutionStatus"]),e(e.dj.r.absMids["mw-utils/Utils"])],M=e.dj.d(b,function(l,A,m,u,t){const o=function(){let s,i;return{promise:new Promise(function(n,r){s=n,i=r}),resolve:s,reject:i}};return l(null,{constructor:function(s,i){m.assert(s!==void 0,"connectionData must be defined"),m.assert(i!==void 0,"channelPostfix must be defined"),this._subscriptionPromises=[],this._subscribeArgs=[],this._requestPromiseMap={},this._connectionData=s,this._connectionData.onChannelPrefix().then(function(c){this._channelPrefix=c+"/"+i,this._requestChannel=this._channelPrefix+"/request"}.bind(this),function(c){}),this._subscribeImpl("response","_handleResponse",this).catch(function(c){}),this._cancelPendingSubscriptions=!1},subscribe:function(s,i,c){const n=function(r){Promise.resolve(r).then(function(a){c?c[i](a):i(a)})};return this._subscribeImpl(s,n)},makeRequest:function(s,i,c){const n=t.generateUuid(),r=function(){n in this._requestPromiseMap&&delete this._requestPromiseMap[n]}.bind(this),a=o();let f=a.promise.then(function(g){return r(),g},function(g){throw r(),g});if(this._requestPromiseMap[n]={resolve:a.resolve,reject:a.reject},s.requestID=n,this._connectionData.queueRequest(this._subscriptionPromises,function(){this._connectionData.getMessageService().publish(this._requestChannel,s).catch(function(g){a.reject(new A(u.inCOMM_ERROR,g))})}.bind(this),function(g){a.reject(new A(u.inCOMM_ERROR,g))}),i!==void 0){const g=setTimeout(this._handleTimeout.bind(this,n,c),i);f=f.finally(function(){clearTimeout(g)})}return f},destroy:function(s){if(s===void 0&&(s=!0),s)for(const i in this._requestPromiseMap)this._requestPromiseMap[i].reject(new A(u.inCOMM_ERROR,"mvm is being destroyed"));for(this._cancelPendingSubscriptions=!0;this._subscribeArgs.length>0;){const i=this._subscribeArgs.shift();this._connectionData.getMessageService().unsubscribe(...i).then(function(){},function(n){})}},_subscribeImpl:function(s,i,c){const n=o();return this._subscriptionPromises.push(n.promise),this._connectionData.onChannelPrefix().then(async function(){if(this._cancelPendingSubscriptions){n.resolve();return}let r;c?r=[this._channelPrefix+"/"+s,i,c]:r=[this._channelPrefix+"/"+s,i],this._subscribeArgs.push(r);try{await this._connectionData.getMessageService().subscribe(...r),n.resolve()}catch(a){n.reject(new A(u.inCOMM_ERROR,a))}}.bind(this),function(r){n.reject(r)}),n.promise},_handleTimeout:function(s,i){if(s in this._requestPromiseMap){const c=this._requestPromiseMap[s];delete this._requestPromiseMap[s],c.reject(new A(u.inCOMM_ERROR,"Canceled because of timeout"))}i!==void 0&&i(s,!0)},_handleResponse:function(s){const i=s.data;if(i.requestID in this._requestPromiseMap)if(i.error===void 0)this._requestPromiseMap[i.requestID].resolve(i);else{const c=new A(i.error.status,i.error.msg,i.error.id,i.error.functionName,i.error.frames,i.error.causes);this._requestPromiseMap[i.requestID].reject(c)}}})},E,P),E.exports=M},"mw-mvm/impl/MVMPromise":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["mw-mvm/impl/RuntimeException"]),e(e.dj.r.absMids["mw-mvm/ExecutionStatus"])],M=e.dj.d(b,function(l,A){return class extends Promise{static makeControlObject(){return{resolve:void 0,reject:void 0}}constructor(u,t){super(function(o,s){u.resolve=o,u.reject=function(i){if(!i.isRuntimeException||!i.isRuntimeException())throw console.error(`Reject should be called with RuntimeException object. Stack Trace: 
`),console.trace(),new l(A.inCOMM_ERROR,"Attemptted to reject non-RuntimeException error with message:"+i.msg,i.id,i.functionName,i.frames,i.causes);s(i)}}),this._cancel=t,this._cancel===void 0&&(this.cancel=void 0)}cancel(u){return u===void 0&&(u=!1),this._cancel(u)}static get[Symbol.species](){return Promise}}},E,P),E.exports=M},"mw-mvm/impl/MVMSink":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["mw-mvm/impl/MVMConnection"])],M=e.dj.d(b,function(l){return class{constructor(m){this._mvmSinkConnection=new l(m,"mvmSinks"),this._mvmSinkConnection.subscribe("output","_handleOutput",this).catch(function(u){m.onChannelPrefix().then(function(){throw u},function(t){if(t!==u)throw u})})}setSinks(m,u,t,o){this._outCallback=m,this._errCallback=u,m===null&&!(m instanceof Function)&&(t=null),u===null&&!(u instanceof Function)&&(o=null);const s={outSinkTraits:t,errSinkTraits:o};return this._mvmSinkConnection.makeRequest(s)}destroy(){this._mvmSinkConnection.destroy()}_handleOutput(m){const u=m.data;switch(u.stream){case 0:typeof this._outCallback=="function"&&this._outCallback(u.text);break;case 1:typeof this._errCallback=="function"&&this._errCallback(u.text);break;default:}}}},E,P),E.exports=M},"mw-mvm/impl/More":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["mw-mvm/RunOptions"])],M=e.dj.d(b,function(l){return class{constructor(m){this._mvm=m}_fevalHelper(m,u){const t=new l({queueName:"SingleKeyPress"});return u&&t.setGroupNames(u),this._mvm.feval(m,0,[],t)}nextPage(m){return this._fevalHelper("matlab.internal.singlekeypress.more.nextpage",m)}nextLine(m){return this._fevalHelper("matlab.internal.singlekeypress.more.nextline",m)}quit(m){return this._fevalHelper("matlab.internal.singlekeypress.more.quit",m)}}},E,P),E.exports=M},"mw-mvm/impl/Pause":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["mw-mvm/RunOptions"])],M=e.dj.d(b,function(l){return class{constructor(m){this._mvm=m}resume(){return this._mvm.feval("matlab.internal.singlekeypress.pause.resume",0,[],new l({queueName:"SingleKeyPress"}))}}},E,P),E.exports=M},"mw-mvm/impl/RuntimeException":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/impl/StackFrame"])],M=e.dj.d(b,function(l,A){const m=l(null,{constructor:function(t,o,s,i,c,n){this._status=t,this._msg=o,this._id=s,this._functionName=i,this._frames=[],this._causes=[],c&&c.forEach(function(r){this._frames.push(new A(r.file,r.func,r.line))},this),n&&n.forEach(function(r){this._causes.push(new m(r.status,r.msg,r.id,r.functionName,r.frames,r.causes))},this)},getID:function(){return this._id},getMsg:function(){return this._msg},getExecutionStatus:function(){return this._status},getFunctionName:function(){return this._functionName},getStackFrames:function(){return this._frames},getCauses:function(){return this._causes},isRuntimeException:function(){return!0}});return m},E,P),E.exports=M},"mw-mvm/impl/StackFrame":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"])],M=e.dj.d(b,function(l){return l(null,{constructor:function(m,u,t){this._file=m,this._func=u,this._line=t},getFileName:function(){return this._file},getFunctionName:function(){return this._func},getLineNumber:function(){return this._line}})},E,P),E.exports=M},"mw-fctrl/Features":(E,P,e)=>{"use strict";var b,M;b=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-messageservice/MessageService"]),e(e.dj.r.absMids["mw-utils/Utils"])],M=e.dj.d(b,function(l,A,m,u,t){return l(null,{_channels:{ADDCB:"/fctrl/addcb",ADDCB_RESPONSE:"/fctrl/response/addcb",RMCB:"/fctrl/rmcb",RMCB_RESPONSE:"/fctrl/response/rmcb",SET:"/fctrl/set",SET_RESPONSE:"/fctrl/response/set"},constructor:function(o=""){u.isStarted()||u.start(),this._mvmID=o,this._uuid=t.generateUuid(),this._counter=0,this._cache={},this._responses={},u.subscribe(this._channels.ADDCB_RESPONSE,"_fctrlCbResponse",this),u.subscribe(this._channels.SET_RESPONSE,"_fctrlSetResponse",this)},destroy:function(){Object.values(this._cache).forEach(o=>{o.destroy()})},getFeature:function(o){const s=new A,i=this._getCache(o),c=this;return i.deferred.then(function(n){s.resolve(c._clone(i.current.value))},function(n){s.reject(c._clone(n.error))}),s},setFeature:function(o,s){const i=new A,c=this._getCache(o),n=this._nextid(),r={id:n,mvm:this._mvmID,name:o,value:s},a=this;return c.deferred.then(function(f){a._responses[n]=function(g){Object.prototype.hasOwnProperty.call(g.data,"error")?i.reject(g.data):i.resolve(g.data)},m.info("assigning feature: "+o+" = "+s),u.publish(a._channels.SET,r)},function(f){i.reject(a._clone(f.error))}),i},addCallback:function(o,s){const i=this._nextid(),c=new A,n=this,r=this._getCache(o);r.deferred.then(function(f){const g=function(){const p={name:n._clone(o),value:n._clone(r.current.value)};s(p)};r.callbacks[i]=g,g()},function(f){c.reject(n._clone(f.error))});const a=l(null,{constructor:function(f){this._func=f},destroy:function(){this._func()},disconnect:function(){const f=this._func;this._func=function(){},f()}});return new a(function(){delete r.callbacks[i]})},_nextid:function(){return++this._counter,JSON.stringify({uuid:this._uuid,counter:this._counter})},_getCache:function(o){if(!Object.prototype.hasOwnProperty.call(this._cache,o)){m.info("accessing feature: "+o);const s=this._nextid(),i=new A,c=this,n={id:s,name:o,mvm:this._mvmID},r={deferred:i,current:void 0,callbacks:{},destroy:function(){u.publish(c._channels.RMCB,n)}};this._cache[o]=r,this._responses[s]=function(a){r.current=a.data,m.info(a.data),m.assert(Object.prototype.hasOwnProperty.call(a.data,"value")||Object.prototype.hasOwnProperty.call(a.data,"error"),"msg.data: "+JSON.stringify(a.data)),i.isFulfilled()||(Object.prototype.hasOwnProperty.call(a.data,"error")?i.reject(a.data):i.resolve(r)),Object.prototype.hasOwnProperty.call(r.current,"value")&&Object.values(r.callbacks).forEach(g=>{g()})},u.publish(this._channels.ADDCB,n)}return this._cache[o]},_fctrlCbResponse:function(o){const s=o.data.id;if(Object.prototype.hasOwnProperty.call(this._responses,s)){const i=this._responses[s];i(o)}},_fctrlSetResponse:function(o){const s=o.data.id;if(Object.prototype.hasOwnProperty.call(this._responses,s)){const i=this._responses[s];delete this._responses[s],i(o)}},_clone:function(o){if(o==null||typeof o!="object")return o;{const s={};return Object.entries(o).forEach(i=>{const[c,n]=i;s[c]=this._clone(n)}),s}}})},E,P),E.exports=M},638:(E,P,e)=>{E.exports=e}},E=>{var P=b=>E(E.s=b),e=P(638)}]);
